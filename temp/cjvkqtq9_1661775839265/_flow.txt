[ {
  "id" : "0",
  "type" : "data.source",
  "data" : {
    "OBRS-DB" : {
      "ip" : "192.168.166.11",
      "port" : 1433,
      "dbName" : "BXX_SAPTA11",
      "user" : "sa",
      "pass" : "suny$123"
    }
  }
}, {
  "id" : "91",
  "type" : "group",
  "data" : null,
  "" : [ ]
}, {
  "id" : "92",
  "type" : "process",
  "data" : {
    "type" : "process",
    "config" : {
      "worker" : true,
      "instances" : 1
    },
    "setting" : { },
    "lang" : "java",
    "code" : "import com.vx6.master.MasterVerticle;\r\nimport io.vertx.core.Promise;\r\nimport io.vertx.core.eventbus.Message;\r\nimport io.vertx.core.logging.Logger;\r\nimport io.vertx.core.logging.LoggerFactory;\r\nimport io.vertx.core.json.JsonObject;\r\nimport io.vertx.core.shareddata.LocalMap;\r\nimport io.vertx.core.shareddata.SharedData;\r\nimport org.apache.commons.lang3.time.StopWatch;\r\n\r\nimport java.io.IOException;\r\nimport java.io.Reader;\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport java.sql.Statement;\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\n\r\nimport static org.apache.commons.lang3.StringUtils.isNotBlank;\r\n\r\npublic class LoadAccountDB extends MasterVerticle {\r\n    private static final String Cache_Name = \"json_sql_patterns\";\r\n    private final Logger LOGGER = LoggerFactory.getLogger(getClass());\r\n    private SharedData sharedData;\r\n    private LocalMap<String, JsonObject> cache;\r\n    private LocalMap<String, String> accounts;\r\n    private LocalMap<String, String> customers;\r\n    private long accountCount = 0L;\r\n    private long customerCount = 0L;\r\n    private static final String EB_ADDRESS = \"/freeboard/sse/sapta/registery\";\r\n    private int retry = 500000;\r\n    private static JsonObject obrs_db;\r\n    private static Set<String> accountsSet = new HashSet<String>();\r\n    private static String label = \"<h3 style=\\\"margin: 0;\\\">LoadAccountDB</h3>\" +\r\n            \"<h3 style=\\\"display: inline-block; margin: 0;\\\">Accounts Read:&nbsp;</h3>\" +\r\n            \"<h2 style=\\\"display: inline-block; margin: 0;color: %s\\\">%s</h2>\" +\r\n            \"<div><h3 style=\\\"display: inline-block; margin: 0;\\\">Customers Count:&nbsp;</h3>\" +\r\n            \"<h2 style=\\\"display: inline-block; margin: 0;color: %s\\\">%s</h2></div>\" +\r\n            \"<div><h3 style=\\\"display: inline-block; margin: 0;\\\">Accounts List Size:&nbsp;</h3>\" +\r\n            \"<h2 style=\\\"display: inline-block; margin: 0;color: %s\\\">%s</h2></div>\";\r\n\r\n    @Override\r\n    public void start(Promise<Void> startPromise) throws Exception {\r\n        start();\r\n        if (!(config().containsKey(\"dataSource\") && config().getJsonObject(\"dataSource\").containsKey(\"OBRS-DB\")))\r\n            startPromise.fail(\"OBRS-DB data not found on datasource\");\r\n        else {\r\n            obrs_db = config().getJsonObject(\"dataSource\").getJsonObject(\"OBRS-DB\");\r\n            startPromise.complete();\r\n            initialize();\r\n        }\r\n        healthCheck();\r\n    }\r\n\r\n    public void initialize() throws Exception {\r\n        LOGGER.info(\"initialize verticle {\" + this + \"}\");\r\n        sharedData = vertx.sharedData();\r\n        cache = sharedData.getLocalMap(Cache_Name);\r\n        accounts = sharedData.getLocalMap(\"SAPTA_ACCOUNTS_3\");\r\n        customers = sharedData.getLocalMap(\"SAPTA_CUSTOMERS\");\r\n        sendLabels();\r\n    }\r\n\r\n    @Override\r\n    public <T> void process(Message<T> tMessage) {\r\n        resultOutboundCount--;\r\n        if (tMessage.headers().contains(\"cmd\") && tMessage.headers().get(\"cmd\").equalsIgnoreCase(\"status\") &&\r\n                tMessage.headers().contains(\"name\") && tMessage.headers().get(\"name\").equalsIgnoreCase(\"sql\") &&\r\n                accounts.size() == 0) {\r\n            noCmd(tMessage, \"\");\r\n        }\r\n    }\r\n\r\n    private void sendLabels() {\r\n        sendLabel(String.format(label, accountCount == 0 ? \"red\" : \"#0043ff\", accountCount,\r\n                customers.size() == 0 ? \"red\" : \"#0043ff\", customers.size(),\r\n                accounts.size() == 0 ? \"red\" : \"#0043ff\", accounts.size()), \"18ff96\", \"50\", \"efff18\");\r\n    }\r\n\r\n    private boolean extraction(String accountInfo) {\r\n        accountCount++;\r\n        if (accountCount % 500000 == 0)\r\n            sendLabels();\r\n        var split = accountInfo.split(\"\\\\|\");\r\n        if (split.length < 15) {\r\n            System.out.println(\"Defective: \" + accountInfo);\r\n            return true;\r\n        }\r\n        var accountNo = split[0];\r\n        accounts.put(accountNo, accountInfo);\r\n        accountsSet.add(accountNo);\r\n        var customerId = split[2];\r\n        if (isNotBlank(customerId)) {\r\n            var accountNos = customers.getOrDefault(customerId, \"\");\r\n            if (!accountNos.contains(accountNo)) {\r\n                accountNos += \"|\" + accountNo;\r\n                customers.put(customerId, accountNos);\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public <T> void noCmd(Message<T> tMessage, String cmd) {\r\n        if (cache.containsKey(\"accounts\")) {\r\n            var wasAccountsFull = accounts.size() > 0;\r\n            accountsSet.clear();\r\n            /*String SQL = \"select \\n\" +\r\n                    \"\\t--convert(varchar(9),UniqId) + '|' +   \\n\" +\r\n                    \"\\tconvert(varchar(13),isnull(AccountNo,'null')) + '|' +\\n\" +\r\n                    \"\\tconvert(varchar(10),isnull(Enable,'null')) + '|' +\\n\" +\r\n                    \"\\tconvert(varchar(10),isnull(CustomerId,'null')) + '|' +\\n\" +\r\n                    \"\\tconvert(varchar(100),isnull(TransGroupsStr,'null')) + '|' +\\n\" +\r\n                    \"\\tconvert(varchar(110),isnull(Phones,'null')) + '|' +\\n\" +\r\n                    \"\\tconvert(varchar(10),isnull(AutoRenewRegister,'null')) + '|' +\\n\" +\r\n                    \"\\tconvert(varchar(60),isnull(RemainAmount,'null')) + '|' +\\n\" +\r\n                    \"\\tconvert(varchar(50),isnull(RemainDays,'null')) + '|' +\\n\" +\r\n                    \"\\tisnull(convert(varchar(10),DueDate, 102),'null') + '|' +\\n\" +\r\n                    \"\\tconvert(varchar(10),isnull(LowLimitCredit,'null')) + '|' +\\n\" +\r\n                    \"\\tconvert(varchar(10),isnull(LowLimitDebit,'null')) + '|' +\\n\" +\r\n                    \"\\tisnull(convert(varchar(10),ExpireDate, 102) , 'null')+ '|' +\\n\" +\r\n                    \"\\tisnull(convert(varchar(10),NearExpireNotifyDate, 102),'null')+ '|' +\\n\" +\r\n                    \"\\tisnull(convert(varchar(10),ExpiredNotifyDate, 102) , 'null') + '|' +\\n\" +\r\n                    \"\\t--convert(varchar(23),isnull(EditDT,'null')) + '|' +\\n\" +\r\n                    \"\\tisnull(convert(varchar(10),AutoRenewRegCancelNotifyDate, 102) , 'null') +'\\\\n'\\n\" +\r\n                    \"\\t--convert(varchar(10),isnull(Flag,'null'))\\n\" +\r\n                    \"\\tfrom [TblAccounts3] for XML PATH('')\";*/\r\n            String SQL = cache.get(\"accounts\").getString(\"text\");\r\n            String connectionUrl = \"jdbc:sqlserver://\" + obrs_db.getString(\"ip\") + \":\" + obrs_db.getInteger(\"port\") +\r\n                    \";responseBuffering=adaptive;DatabaseName=\" + obrs_db.getString(\"dbName\") + \";user=\" +\r\n                    obrs_db.getString(\"user\") + \";password=\" + obrs_db.getString(\"pass\");\r\n\r\n            try (Connection con = DriverManager.getConnection(connectionUrl);\r\n                 Statement stmt = con.createStatement();) {\r\n                StopWatch watch = new StopWatch();\r\n                System.out.println(\"Loading DB started!\");\r\n                watch.start();\r\n                ResultSet rs = stmt.executeQuery(SQL);\r\n                StringBuilder remainder = new StringBuilder();\r\n                while (rs.next()) {\r\n                    Reader reader = rs.getCharacterStream(1);\r\n                    if (reader != null) {\r\n                        char[] ac3 = new char[2048];\r\n                        while (reader.read(ac3) != -1) {\r\n                            remainder.append(String.valueOf(ac3));\r\n                            String[] rows = remainder.toString().split(\"\\\\\\\\n\");\r\n                            int len = rows.length - 1;\r\n                            if (len > 0) {\r\n                                for (int i = 0; i < len; i++) {\r\n                                    var accountInfo = rows[i];\r\n                                    extraction(accountInfo);\r\n                                }\r\n                            }\r\n                            remainder.setLength(0);\r\n                            remainder.append(rows[len].trim());\r\n                        }\r\n                        reader.close();\r\n                    }\r\n                }\r\n                if (remainder.toString().trim().length() > 0) {\r\n                    System.out.println(\"Remainder: \" + remainder.toString());\r\n                    extraction(remainder.toString());\r\n                }\r\n                con.close();\r\n                if (wasAccountsFull) {\r\n                    Set<String> keySet = accounts.keySet();\r\n                    keySet.forEach(key -> {\r\n                        if (!accountsSet.contains(key))\r\n                            accounts.remove(key);\r\n                    });\r\n                }\r\n                accountsSet.clear();\r\n                sendLabels();\r\n                watch.stop();\r\n                long millis = watch.getTime();  // obtained from StopWatch\r\n                long minutes = (millis / 1000) / 60;\r\n                int seconds = (int) ((millis / 1000) % 60);\r\n                System.out.println(\"Time Elapsed: \" + minutes + \":\" + seconds); // Prints: Time Elapsed: 2501\r\n                eb.publish(addressBook.getResult(), \"AccountDB loaded\",\r\n                        addressBook.getDeliveryOptions().addHeader(\"cmd\", \"status\").addHeader(\"name\", \"account\"));\r\n                resultOutboundCount++;\r\n                System.out.println(\"accountCount: \" + accountCount);\r\n            } catch (SQLException | IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n    private void metrics() {\r\n        eb.publish(EB_ADDRESS,\r\n                new JsonObject()\r\n                        .put(\"accountCount\", accountCount)\r\n                        .put(\"customerCount\", customers.size())\r\n                        .put(\"accountSize\", accounts.size())\r\n                , addressBook.getDeliveryOptions().addHeader(\"event\", \"initialize\")\r\n                        .addHeader(\"retry\", this.retry + \"\"));\r\n    }\r\n}",
    "fName" : "LoadAccountDB",
    "theme" : "gruvbox",
    "outNumber" : 0
  },
  "Trigger" : [ "switch.97.output" ],
  "Input" : [ "process.122.result" ],
  "Error" : [ ],
  "Result" : [ "process.84.input" ]
}, {
  "id" : "97",
  "type" : "switch",
  "data" : {
    "type" : "switch",
    "config" : {
      "kind" : "trigger",
      "switchName" : "OrangeSubscribeButtons"
    },
    "setting" : {
      "_" : {
        "state" : true,
        "period" : 0,
        "delay" : 0
      }
    }
  },
  "Output" : [ "process.92.trigger" ]
}, {
  "id" : "117",
  "type" : "process",
  "data" : {
    "type" : "process",
    "config" : {
      "worker" : false,
      "instances" : 1
    },
    "setting" : { },
    "lang" : "java",
    "code" : "import com.vx6.master.MasterVerticle;\r\nimport io.vertx.core.Promise;\r\nimport io.vertx.core.eventbus.Message;\r\nimport io.vertx.core.json.JsonObject;\r\nimport io.vertx.core.shareddata.LocalMap;\r\nimport io.vertx.core.shareddata.SharedData;\r\n\r\npublic class SQLs2LocalMap extends MasterVerticle {\r\n    private int count = 0;\r\n    private SharedData sharedData;\r\n    private LocalMap<String, JsonObject> patterns;\r\n    private static String label = \"<h3 style=\\\"margin: 0;\\\">SQLs2LocalMap</h3>\"+\r\n            \"<h3 style=\\\"display: inline-block; margin: 0;\\\">count:</h3>\"+\r\n            \"<h2 style=\\\"display: inline-block; margin: 0;color: %s\\\">%s</h2>\";\r\n\r\n    @Override\r\n    public void initialize(Promise<Void> initPromise) throws Exception {\r\n        sharedData = vertx.sharedData();\r\n        patterns = sharedData.getLocalMap(\"json_sql_patterns\");\r\n        super.initialize(initPromise);\r\n    }\r\n\r\n    @Override\r\n    public void process(Message msg) {\r\n        if (msg.body() instanceof String) {\r\n            sendLabel(String.format(label, count == 0? \"red\" : \"#0043ff\", count), \"18ff96\", \"50\", \"efff18\");\r\n            eb.publish((addressBook.getResult()), msg.body());//Patterns messages finished.\r\n        } else {\r\n            JsonObject pattern = (JsonObject) msg.body();\r\n            patterns.put(pattern.getString(\"name\"), pattern);\r\n            count++;\r\n            eb.publish(addressBook.getResult(), pattern, addressBook.getDeliveryOptions(msg));\r\n        }\r\n    }\r\n}",
    "fName" : "SQLs2LocalMap",
    "theme" : "monokai",
    "outNumber" : 0
  },
  "Trigger" : [ ],
  "Input" : [ "process.109.result" ],
  "Error" : [ ],
  "Result" : [ "process.122.input" ]
}, {
  "id" : "122",
  "type" : "process",
  "data" : {
    "type" : "process",
    "config" : {
      "worker" : false,
      "instances" : 1
    },
    "setting" : { },
    "lang" : "java",
    "code" : "import com.vx6.master.MasterVerticle;\r\nimport freemarker.template.*;\r\nimport io.vertx.core.Promise;\r\nimport io.vertx.core.eventbus.Message;\r\nimport io.vertx.core.json.JsonObject;\r\nimport io.vertx.core.shareddata.LocalMap;\r\nimport io.vertx.core.shareddata.SharedData;\r\nimport freemarker.cache.NullCacheStorage;\r\nimport io.vertx.ext.web.common.template.impl.TemplateHolder;\r\n\r\nimport java.io.IOException;\r\nimport java.io.StringReader;\r\nimport java.util.ArrayList;\r\nimport java.util.Set;\r\n\r\npublic class CompileSQLs extends MasterVerticle {\r\n    private static final String Cache_Name = \"sql_template_patterns\";\r\n    private int count = 0;\r\n    private Configuration config;\r\n    //private LocalMap<String, TemplateHolder<Template>> cache;\r\n    private LocalMap<String, TemplateHolder<Template>> cache;\r\n    private static String label = \"<h3 style=\\\"margin: 0;\\\">CompileSQLs</h3>\" +\r\n            \"<h3 style=\\\"display: inline-block; margin: 0;\\\">Patterns Size:&nbsp;</h3>\" +\r\n            \"<h2 style=\\\"display: inline-block; margin: 0;color: %s\\\">%s</h2>\";\r\n    private static ArrayList<String> nameList = new ArrayList<>();\r\n\r\n    @Override\r\n    public void initialize(Promise<Void> initPromise) throws Exception {\r\n        SharedData sharedData = vertx.sharedData();\r\n        cache = sharedData.getLocalMap(Cache_Name);\r\n        /* ------------------------------------------------------------------------ */\r\n        /* You should do this ONLY ONCE in the whole application life-cycle:        */\r\n\r\n        /* Create and adjust the configuration singleton */\r\n        this.config = new Configuration(Configuration.VERSION_2_3_29);\r\n        //this.config.setDirectoryForTemplateLoading(new File(\"/templates\"));\r\n        // Recommended settings for new projects:\r\n        this.config.setDefaultEncoding(\"UTF-8\");\r\n        this.config.setIncompatibleImprovements(new Version(2, 3, 20));\r\n        this.config.setTemplateExceptionHandler(TemplateExceptionHandler.RETHROW_HANDLER);\r\n        this.config.setLogTemplateExceptions(false);\r\n        this.config.setWrapUncheckedExceptions(true);\r\n        this.config.setFallbackOnNullLoopVariable(false);\r\n        /* ------------------------------------------------------------------------ */\r\n        this.config.setCacheStorage(new NullCacheStorage());\r\n\r\n        super.initialize(initPromise);\r\n    }\r\n\r\n    @Override\r\n    public void process(Message msg) {\r\n        resultOutboundCount--;\r\n        if (msg.body() instanceof String && msg.body().toString().equalsIgnoreCase(\"finished\")) {\r\n            Set keySet = this.cache.keySet();\r\n            keySet.forEach(key -> {\r\n                if (!nameList.contains(key))\r\n                    cache.remove(key);\r\n            });\r\n            //this.cache.entrySet().removeIf(entry -> true);\r\n            sendLabel(String.format(label, this.cache.size() == 0 ? \"red\" : \"#0043ff\", this.cache.size()), \"18ff96\", \"50\", \"efff18\");\r\n            /*eb.publish(addressBook.getGraph_id(), patternName + \"registry patterns completed\", addressBook.getDeliveryOptions()\r\n                    .addHeader(\"patternName\", patternName).addHeader(\"cmd\", \"init\"));*/\r\n            eb.publish(addressBook.getResult(), \"SQL template loaded\",\r\n                    addressBook.getDeliveryOptions().addHeader(\"cmd\", \"status\").addHeader(\"name\", \"sql\"));\r\n            resultOutboundCount++;\r\n            nameList.clear();\r\n        } else {\r\n            TemplateHolder<Template> template;\r\n            JsonObject pat = (JsonObject) msg.body();\r\n            if (!pat.getString(\"group\").equalsIgnoreCase(\"registry\"))\r\n                return;\r\n            String name = pat.getString(\"name\");\r\n            String text = pat.getString(\"text\");\r\n            try {\r\n                template = new TemplateHolder(new Template(name, new StringReader(text), this.config));\r\n                this.cache.put(name, template);\r\n                nameList.add(name);\r\n                count++;\r\n                errorOutboundCount++;\r\n                eb.publish(addressBook.getError(), pat, addressBook.getDeliveryOptions(msg));\r\n            } catch (IOException e) {\r\n                errorOutboundCount++;\r\n                eb.publish(addressBook.getError(), e.getMessage(), addressBook.getDeliveryOptions(msg));\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n}",
    "fName" : "CompileSQLs",
    "theme" : "gruvbox",
    "outNumber" : 0
  },
  "Trigger" : [ ],
  "Input" : [ "process.117.result" ],
  "Error" : [ ],
  "Result" : [ "process.92.input" ]
}, {
  "id" : "84",
  "type" : "process",
  "data" : {
    "type" : "process",
    "config" : {
      "worker" : false,
      "instances" : 1,
      "chart" : {
        "data" : {
          "labels" : [ ],
          "datasets" : [ {
            "label" : "input",
            "data" : [ ],
            "backgroundColor" : "#2ef82a",
            "borderColor" : "#2e880ce6",
            "borderWidth" : 1
          }, {
            "label" : "trigger",
            "data" : [ ],
            "backgroundColor" : "#2ab2f8",
            "borderColor" : "#0c4488e6",
            "borderWidth" : 1
          } ]
        },
        "options" : {
          "scales" : {
            "x" : {
              "stacked" : false
            },
            "y" : {
              "stacked" : false
            }
          },
          "responsive" : true,
          "maintainAspectRatio" : false,
          "resizeDelay" : 0
        },
        "type" : "line",
        "limit" : 30
      }
    },
    "setting" : { },
    "lang" : "java",
    "code" : "import com.vx6.master.MasterVerticle;\r\nimport io.vertx.core.Promise;\r\nimport io.vertx.core.eventbus.Message;\r\nimport io.vertx.core.json.JsonArray;\r\nimport io.vertx.core.json.JsonObject;\r\n\r\nimport java.util.Objects;\r\n\r\npublic class Probe extends MasterVerticle {\r\n    private final String className = this.getClass().getName();\r\n    private int process = 0, trigger = 0;\r\n\r\n    @Override\r\n    public void initialize(Promise<Void> initPromise) throws Exception {\r\n        eb.consumer(\"vx.mx\", msg -> {\r\n            try {\r\n                var body = (JsonObject) msg.body();\r\n                if (!Objects.equals(body.getString(\"type\"), \"sync\"))\r\n                    return;\r\n                var time = body.getString(\"time\").substring(14, 16) + \":\" + body.getString(\"time\").substring(17);\r\n                UpdateChart(time);\r\n            } catch (Exception e) {\r\n                //e.printStackTrace();\r\n            }\r\n        });\r\n        initPromise.complete();\r\n    }\r\n\r\n    @Override\r\n    public void process(Message msg) {\r\n        process++;\r\n        System.out.println(className + \"(\" + config().getString(\"id\") + \").Input.body: \" + msg.body());\r\n        System.out.println(className + \"(\" + config().getString(\"id\") + \").Input.header: \" + msg.headers());\r\n    }\r\n\r\n    @Override\r\n    public void trigger(Message msg) {\r\n        trigger++;\r\n        System.out.println(className + \"(\" + config().getString(\"id\") + \").Trigger.body: \" + msg.body());\r\n        System.out.println(className + \"(\" + config().getString(\"id\") + \").Trigger.header: \" + msg.headers());\r\n    }\r\n\r\n    @Override\r\n    public <T> void ready(Message<T> tMessage) {\r\n        /*holdOn = false;\r\n        if (autoNext) {\r\n            eb.publish(addressBook.getTrigger(), \"Next message\", new DeliveryOptions().addHeader(\"cmd\", \"next\"));\r\n        }*/\r\n    }\r\n\r\n    private void UpdateChart(String time) {\r\n        JsonObject data = new JsonObject();\r\n        data.put(\"labels\", new JsonArray().add(time));\r\n        data.put(\"datasets\", new JsonArray()\r\n                .add(new JsonObject().put(\"data\", new JsonArray().add(process)))\r\n                .add(new JsonObject().put(\"data\", new JsonArray().add(trigger))));\r\n        sendChart(new JsonObject().put(\"data\", data));\r\n    }\r\n}",
    "fName" : "Probe",
    "theme" : "monokai",
    "outNumber" : 0
  },
  "Trigger" : [ ],
  "Input" : [ "process.92.result" ],
  "Error" : [ ],
  "Result" : [ ]
}, {
  "id" : "100",
  "type" : "group",
  "data" : null,
  "" : [ ]
}, {
  "id" : "101",
  "type" : "switch",
  "data" : {
    "type" : "switch",
    "config" : {
      "kind" : "trigger",
      "switchName" : "RedGreenToggleSwitch"
    },
    "setting" : {
      "body" : { },
      "header" : {
        "cmd" : "code"
      },
      "_" : {
        "state" : false,
        "period" : 0,
        "delay" : 0
      }
    }
  },
  "Output" : [ "parquet.103.trigger" ]
}, {
  "id" : "103",
  "type" : "parquet",
  "data" : {
    "type" : "parquet",
    "config" : { },
    "setting" : { },
    "xml" : "<xml xmlns=\"https://developers.google.com/blockly/xml\"><block type=\"xml_element\" id=\")NY;AhXQxsNLIjXcG%TA\" x=\"38\" y=\"63\"><field name=\"trans\">Active</field><field name=\"tag\">Queries</field><value name=\"attr\"><block type=\"xml_attribute_string\" id=\"bwZxT5=L@_h)k3XpGkiP\"><field name=\"attr\">group</field><field name=\"val\">accounts</field></block></value><statement name=\"childs\"><block type=\"xml_element\" id=\"~3SsYrhK.sWoCd+z:{.,\"><field name=\"trans\">Active</field><field name=\"tag\">Query</field><value name=\"attr\"><block type=\"xml_attribute_string\" id=\",t?DDDe}c@F#y#s#QhOv\"><field name=\"attr\">name</field><field name=\"val\">accounts</field></block></value><statement name=\"childs\"><block type=\"sql_freemarker_concat\" id=\"ueSGI|T/X43~kXpFzlRy\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"7_P7+T:-)!KxZ=w/2CH{\"><field name=\"text\">Select</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"r2b%6UJ9.dsEoIIoE/~4\" disabled=\"true\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"I,tmjCzbKfLW6Sw$ZNQA\"><field name=\"text\">top(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"jB)v~$fGl%jx#kz}E^JK\"><field name=\"text\">1</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"RC5:oNOuj:.SlcrqXaV}\"><field name=\"text\">)</field></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"6iaR14,.CZelt0e?uz%c\" disabled=\"true\"><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"H#|k2LtBc!df8#=p*w:g\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"5H!!jNO%@]x(fS:#%v}(\"><field name=\"text\">convert(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"3c4OG%(u(.TEUV:q%~PB\"><field name=\"text\">varchar(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"0.]qF:oc{rLL|O7FMOzR\"><field name=\"text\">9</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"}2tj26jzMS$z^n+q7(ix\"><field name=\"text\">),</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"S99LQ{]SeJ1z/mEo%0t.\"><field name=\"text\">UniqId</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"7[U]0W34m(V^y)sH!Xh,\"><field name=\"text\">)</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"^#HE!dVF72;m*t:M_lS@\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"rMkyCfqblN.:|},31kR5\"><field name=\"text\">+ '|' +</field></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"JmrsXUIc?WT$!$)EH9Ts\"><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"h4z@N|KgGSThLnxi-.nN\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\";?U=wN6b)/Ya1@[_GVF!\"><field name=\"text\">convert(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"qWx}Jwc`[8;P,*E3]P)7\"><field name=\"text\">varchar(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"yb/yReISX[A7|OF:NK*-\"><field name=\"text\">13</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"v8iB0?)*#KwQ-$+M;{YZ\"><field name=\"text\">),isnull(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"0yp::I/^9{_@hd8xK:8D\"><field name=\"text\">AccountNo</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"Q+Y8iEs*WZut73=GI@W!\"><field name=\"text\">,'null'))</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"}.x^veRwd9j-h6U-}-E!\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"rTZF,YwZdp+bzyVCCZL7\"><field name=\"text\">+ '|' +</field></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"+CxM.|z.6C}B0(K*EPGi\"><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"2ZOS_u(Zl3Uo}qzfse9B\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"_t;o[4zum[I0mru+KNY)\"><field name=\"text\">convert(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"wrLNH!Ni6cbKUkV.!w,l\"><field name=\"text\">varchar(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"~Pq.^/TKI^ZeOu][l2W*\"><field name=\"text\">10</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"OQx9]a-/KY(J^VNQMtsM\"><field name=\"text\">),isnull(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"w{;faV#Yz}+2}{h`Uou(\"><field name=\"text\">Enable</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"d(E%;8-ZiM3qflIV9!K%\"><field name=\"text\">,'null'))</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"uxj#smDZ2C~irkXmq6M)\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"~3CY!)|`CR=U$#)~0Eze\"><field name=\"text\">+ '|' +</field></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"x2.g(%5jg1*`*aPzsD+0\"><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\":V@O,v^@K05Hak~vUQwR\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"/50rc;w{|vEQE$n9ro6x\"><field name=\"text\">convert(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"%0vlji1VD$9aM7{p!)1B\"><field name=\"text\">varchar(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"tA`MJm76K^g,;B}Nzg)e\"><field name=\"text\">10</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"1MeMRie|,?K7m6$!04xX\"><field name=\"text\">),isnull(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"W5|ucF4L[Ot+LO5(r]%R\"><field name=\"text\">CustomerId</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"@@oD~k72~B23S9FO3W.[\"><field name=\"text\">,'null'))</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"mw!8qZ:`/kt4MwpXk*ei\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"xOnGoo`j%7am]6zrM-,-\"><field name=\"text\">+ '|' +</field></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"N`+2FV-o|z~4)Krb5n|f\"><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"/PAbi1UlIXnn=!?Iy[{p\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"0k]I~FOv`:f(k0Rj-!ju\"><field name=\"text\">convert(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"P,Kk,OxhxY1UEKNty=7#\"><field name=\"text\">varchar(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"16?bC3fT]0,8ifTUw?*B\"><field name=\"text\">100</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"YEfYOBbz?r|IgBtU{L+)\"><field name=\"text\">),isnull(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"[/[la[?I(Lk84x)Q6lgm\"><field name=\"text\">TransGroupsStr</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"9GPdjsC*e_MJ[sH`Yf@e\"><field name=\"text\">,'null'))</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"JUCpoZ_O4;rI{3Gx{M*F\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"avLJoh5I4]X|w:xb},I!\"><field name=\"text\">+ '|' +</field></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"2[JIx]Tgfj#gC`GpfR/o\"><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"fgv6SK.1{;N[.|GyO$(K\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"na]wnd=g;9i:[_MR/_O0\"><field name=\"text\">convert(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"`m[@A7F|E,P9*+dDA_gn\"><field name=\"text\">varchar(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"|_O44Z{.|XTKQF=YpixW\"><field name=\"text\">110</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"]tT85.=c|(((RZJK2$SC\"><field name=\"text\">),isnull(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"W0AjzcF*)q`6(7kuHMB#\"><field name=\"text\">Phones</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"|^Op^IqU.8Dkp14g~(wn\"><field name=\"text\">,'null'))</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"Co~K:H4~|zzE1UYzowQ@\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"xJ-.3z8{u@@o~L[O06Tc\"><field name=\"text\">+ '|' +</field></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\",RS/[~{N0-~r`?K^^D0#\"><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"gv+?b-M(2TmjSq7:!c{W\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"A2cC1=kr5pY?[iu!ZCLS\"><field name=\"text\">convert(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"7/:+_=4D;DHPZ8{9CtEs\"><field name=\"text\">varchar(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"Z6P?kqDT#Ydv2,{sP#lD\"><field name=\"text\">10</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"aBY[`58MEs$Fe7;b-+HW\"><field name=\"text\">),isnull(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"09IDO,`hK`:a`VD9dQ9L\"><field name=\"text\">AutoRenewRegister</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"c9^GYY)t3GM3I=M|i/-1\"><field name=\"text\">,'null'))</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\",$C(mV{yxA28}V}arz9z\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\":W$|zuR{/{ylN$%_.gcg\"><field name=\"text\">+ '|' +</field></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"j}`7p,IIbS*F+}L1XIJb\"><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"nZ=8WD7-|z9tVlc@3V/C\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"ZW~B/,pFoR__:JP0f4y]\"><field name=\"text\">convert(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"VDjw]5q^s+GZphe-YDPs\"><field name=\"text\">varchar(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"FErc$}PAuaw$4mPZRcbu\"><field name=\"text\">60</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"TT|tw_OW|G4SofzYOD#}\"><field name=\"text\">),isnull(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"5epexv9m!^Rqao).]ag`\"><field name=\"text\">RemainAmount</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"IQ3)tB{wkTCA5c-mHj+M\"><field name=\"text\">,'null'))</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"p5B..e+~6n,FD!jPrx3s\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"7!~j0,2z6h{-TOW8iR10\"><field name=\"text\">+ '|' +</field></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"!u11wsUigjC/Ts%Knf_*\"><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"xR-Ohf-/a{!YNh^umHQ7\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"Q{Z^MQPvSVuf8^VeJ7qU\"><field name=\"text\">convert(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"@JDVhek+`ByL^qCh!/S/\"><field name=\"text\">varchar(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"Q,`aP9LM+`gU,co$NJZ%\"><field name=\"text\">50</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\")pJc77=V)hOCi1rzyHKu\"><field name=\"text\">),isnull(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"J1L2]~WN/|t7P86}O!S|\"><field name=\"text\">RemainDays</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"0BP/3nLs#L;/QME{gIw?\"><field name=\"text\">,'null'))</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\":4#^pG,{ufEs{=9,/M9h\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"l:G}j_Vrqu.Lg5E9O/X~\"><field name=\"text\">+ '|' +</field></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"22b9+rWpW2T6{H(feIr3\"><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"C!a17g35uGc9SXvCq-D3\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"1`5X.UYII`u058@5xGZf\"><field name=\"text\">isnull(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"CdnH]f2CzmARgY]yX5GG\"><field name=\"text\">convert(varchar(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"HV[T*Gbw{d)k3oe,mGxc\"><field name=\"text\">10</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"OV*vd7Co`jP2.3PFXW/X\"><field name=\"text\">),</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"unG02py~[14F2QvHHx2^\"><field name=\"text\">DueDate</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"h1xyj2RrQX`v0r!%p;5:\"><field name=\"text\">,102),'null')</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"rZl,sj[ihw+*w`IJz`,)\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"1J.PI-4DgFbruathycfT\"><field name=\"text\">+ '|' +</field></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\";?:o|S5WiD(/T6E$LGz8\"><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"cp94lC@.o`NTOZi)VLm?\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"OU+IwMQu*FY@nGv([tJH\"><field name=\"text\">convert(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"U}i^ZZ51vaXaQ07l`_/_\"><field name=\"text\">varchar(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"bAN.ASC=gl4f$Z_|qQ/@\"><field name=\"text\">10</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"mHZtXl=|B@eeo)WIWnEx\"><field name=\"text\">),isnull(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"/a/ot]-Q$2Fc*3cZ(p89\"><field name=\"text\">LowLimitCredit</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"GCehzzJ@B[+t`h};HczM\"><field name=\"text\">,'null'))</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"Lk5ck20/Ew*UUQBM%|dJ\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"^cu~4!E-yV_}ziJMAYGD\"><field name=\"text\">+ '|' +</field></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"`SmleolSgw%=B(bH=HBb\"><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"r~w.D(Siot}:O{b:x9W{\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"a0Dd88(P3^2US)~k.+NP\"><field name=\"text\">convert(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"l6iEEIxf6-qR}]lU1j`+\"><field name=\"text\">varchar(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"Wr;FJXa!rOeS_ZaO7,0i\"><field name=\"text\">10</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"1eMW$l/oh_vx8:SHt%aK\"><field name=\"text\">),isnull(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"L1_F=qVG!EF^-${;+`,W\"><field name=\"text\">LowLimitDebit</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"6Uyw._cDx_vdK.[B#0+L\"><field name=\"text\">,'null'))</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"nN*,Y`(;J{1lC#FpuUZC\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\")!S]ghM(1tl^klfREjUV\"><field name=\"text\">+ '|' +</field></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"3m;=~;=b5vjX#/7E;)Kg\"><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"FhHBJ8$_:PgNuz3O[%h(\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\".K8ZW2tjN/|+PtW[u7ay\"><field name=\"text\">isnull(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"z5A5g0yN(f2*^0mTYzO1\"><field name=\"text\">convert(varchar(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"{npW6%UI1*+k2vf^GBVW\"><field name=\"text\">10</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"3DpJzX1fiv9CoeTFr9mg\"><field name=\"text\">),</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"!lkqS^fb!;%vj8F_4e:9\"><field name=\"text\">ExpireDate</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"IF.F$x:LJXA|#IgvqJ;Z\"><field name=\"text\">,102),'null')</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"lhi15G=*BHVFRaQp5v|D\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"EBxa;cIDH3v;^fTn/,WZ\"><field name=\"text\">+ '|' +</field></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"d$6k|lKbUNlVHyC`EuTN\"><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"6xP$h2%a(huJcg-G?,I4\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"Awc:l7~~LT}z]{;=AXY4\"><field name=\"text\">isnull(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"3tkVB^{#gHBqPmgHXo2,\"><field name=\"text\">convert(varchar(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"[12t.K60[])4WzGrElG.\"><field name=\"text\">10</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"+=SBo8%~7okjM0}_KL@C\"><field name=\"text\">),</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"]]wWH)L#/m{Ax{qWZ_^j\"><field name=\"text\">NearExpireNotifyDate</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"70.8K}w|Mf-p3Ls!$WcQ\"><field name=\"text\">,102),'null')</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"-]%BosUvh8`LG/qh8?7f\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"_.7Ud#X~IjznpBA?8W!a\"><field name=\"text\">+ '|' +</field></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"e^O5fXIG~6H@8)vMNA?9\"><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"]tps*TyTw/hG^Ofz((]s\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"K{pdq|KbhBXL5S,c}:BM\"><field name=\"text\">isnull(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"K={@M0ylLp}?koik,p~@\"><field name=\"text\">convert(varchar(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"rgQa9zJ-NmGS0+O%LMy|\"><field name=\"text\">10</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"(Bg9^j.q#B}pq[F^BU;#\"><field name=\"text\">),</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"{0D!_kpop9p3DoVTNp1J\"><field name=\"text\">ExpiredNotifyDate</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\";N_;ujaFo9C]#@zA`-xp\"><field name=\"text\">,102),'null')</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"0(n?C{J-A/{J55z]I!=`\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"rRd`W[V[OmhLo8#/fm[D\"><field name=\"text\">+ '|' +</field></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"(Yhu`*C8GhDKVP00uJxt\" disabled=\"true\"><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"@Kq%hQHjr`iAn^~MdLv$\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"~,jQciQw$6T`R2wo*]BS\"><field name=\"text\">convert(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"|G+IL~cN*Y!x%bgAEW%l\"><field name=\"text\">varchar(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"UOgH2d2BdmCs{=)f94-S\"><field name=\"text\">23</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"sf3}ZkZ5!j4=Z;r~67]0\"><field name=\"text\">),isnull(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"e[gU_kyf{p{WKFeerE]X\"><field name=\"text\">EditDT</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"z7g1Q81`8EJ:#-Djyg*3\"><field name=\"text\">,'null'))</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\".oVPO8OPHQcqBPEWJ[Jg\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"-Vwl3lZ(fpkoMwlc+frg\"><field name=\"text\">+ '|' +</field></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"I2C.5_/.W/vQVSfMJLs(\"><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"IVet_|xpnY*DMO!$)$c]\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"Cbi}@{q7X5h76.bsc*j@\"><field name=\"text\">isnull(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"1D$72!}0Q0}U).7G/vi8\"><field name=\"text\">convert(varchar(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"IYgBfeyX}PbA{^186(eg\"><field name=\"text\">10</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\",RVd2Y!V:ci+zfpgGu]1\"><field name=\"text\">),</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"3J;M[[6r},bzfLvWY_Fv\"><field name=\"text\">AutoRenewRegCancelNotifyDate</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"gCW=ODrdcF5qQ})p*/*$\"><field name=\"text\">,102),'null')</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"#dR]s)T%744vabpmQd7p\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"4(aVng];N.@M40Zg[0?U\"><field name=\"text\">+ '\\\\n' </field></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"Y%O@~y@T26eciEL/[sk]\" disabled=\"true\"><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"4xbIxIk+#Rci{u7G~h93\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\";-L^,Vi%a}A69WQFhVp|\"><field name=\"text\">convert(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"K~Fj9RYuWn7pi^s@f9`r\"><field name=\"text\">varchar(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"ph(9y7gT@mv{2LUT3_U#\"><field name=\"text\">10</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"cKEQJitT_[U#7WuLp_Y%\"><field name=\"text\">),isnull(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"nPRAZDQQ8v0PotF9.fq}\"><field name=\"text\">Flag</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"+Qkl-L*VfAoWaDaTk2%j\"><field name=\"text\">,'null'))</field></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"3L9xxvpwR[(=U:@%jZw|\"><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"YQYT|Cq8OrR@S}y)??PN\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"pY.u^g;!(]T)2fQ3_~,V\"><field name=\"text\">from</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"$Ou;c:LSfR?R=SAm])a#\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"BV#6eO[chz*LcA!+QN1L\"><field name=\"text\">[dbo].[TblAccounts3]</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"b|u2D^QE7B.OBqYSv?sH\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"98N#Jw#XfnY!k!d?tj~!\"><field name=\"text\">for</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"Xq|x686:Qf-6}S]c@M:%\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"_B2%qqsjW433G$-`UPGK\"><field name=\"text\">XML</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"glGi7Qm{FPRc{+VtZ$LZ\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"Bk,[]vtux|xvP~8f_=R3\"><field name=\"text\">PATH('');</field></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></statement></block><block type=\"xml_element\" id=\"wTx@caP^aG2s6T!.g8QX\" x=\"887\" y=\"62\"><field name=\"trans\">Active</field><field name=\"tag\">Queries</field><value name=\"attr\"><block type=\"xml_attribute_string\" id=\"AC^FU{o!3S2}BEU7D7v}\"><field name=\"attr\">group</field><field name=\"val\">registry</field></block></value><statement name=\"childs\"><block type=\"xml_element\" id=\"m0?5PQiy1bHo`_+{Qqjr\"><field name=\"trans\">Active</field><field name=\"tag\">Query</field><value name=\"attr\"><block type=\"xml_attribute_string\" id=\"lE}li(fRuKQ*em7[J[^?\"><field name=\"attr\">name</field><field name=\"val\">updateQuery</field></block></value><statement name=\"childs\"><block type=\"sql_freemarker_concat\" id=\"v7)Saq]0Mc?D.eBvx1|H\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\")+Cp#=Jf)T1s$Wala04S\"><field name=\"text\">Update</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"y0egS4I;a/#2`[-2Ys[U\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"HjZ##W3?uVEi.Hv`=a@L\"><field name=\"text\">[dbo].[TblAccounts3]</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"/vc@DT4LC.47wZG6ixv.\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"/loG4^jo($C|rg/!{b18\"><field name=\"text\">set</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"zX-j|;qTP(c$Vbvs_-#D\"/></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"n+cx=KMO4+eFp|,@+7AQ\"><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"(v6ac0{!$HNbR,xBM:Bt\"><field name=\"pre\">CustomerId = '</field><field name=\"interpolate\">CustomerId</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"_8Gssr[hdvcsJMOLLon]\"><field name=\"pre\">[Enable] = '</field><field name=\"interpolate\">Enable</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"dr|wP^qbb9T:g[Ay(r-z\"><field name=\"pre\">TransGroupsStr = '</field><field name=\"interpolate\">TransGroupsStr</field><field name=\"post\">', </field></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"vlzxm;LG:E]zYm#QD.l*\"><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"8`Z%sEIgoohR_KtQW[zb\"><field name=\"pre\">Phones = '</field><field name=\"interpolate\">Phones</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"90TIvpP;f_p%*{eemLXQ\"><field name=\"pre\">RemainAmount = </field><field name=\"interpolate\">RemainAmount</field><field name=\"post\">, </field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"#dR$ml9Lq+lAySg/`RnH\"><field name=\"pre\">RemainDays = </field><field name=\"interpolate\">RemainDays</field><field name=\"post\">, </field></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"I##XJ*^X%*ys9EQ~l2`%\"><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"[}ZC_e63n1Qyf!,$f=0}\"><field name=\"pre\">DueDate = '</field><field name=\"interpolate\">DueDate</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"`o^.t7xeR,q)AuDE.Ho$\"><field name=\"pre\">LowLimitCredit = </field><field name=\"interpolate\">LowLimitCredit</field><field name=\"post\">, </field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"eKAo@Z:glnVU*S?-T.72\"><field name=\"pre\">LowLimitDebit = </field><field name=\"interpolate\">LowLimitDebit</field><field name=\"post\">, </field></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"pMZ_c1u/F5(N!p^.$c,3\"><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"u[tXlFf8x`-^i7U6UlCX\"><field name=\"pre\">NearExpireNotifyDate = '</field><field name=\"interpolate\">NearExpireNotifyDate</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"Lfwa9JdQkjJ1C`O.zjX)\"><field name=\"pre\">ExpiredNotifyDate = '</field><field name=\"interpolate\">ExpiredNotifyDate</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"mqk(}gmTR[p$:qt!^IPN\"><field name=\"pre\">[ExpireDate] = '</field><field name=\"interpolate\">ExpireDate</field><field name=\"post\">', </field></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"jC7/UV2)I;;bH|W-wYkl\"><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"dmRPD_xB$H-C8)d9C(Wj\"><field name=\"pre\">AutoRenewRegister = '</field><field name=\"interpolate\">AutoRenewRegister</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"u89J7{JoSgAaB%OAu*7!\"><field name=\"pre\">AutoRenewRegCancelNotifyDate = '</field><field name=\"interpolate\">AutoRenewRegCancelNotifyDate</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"v;L-4JJUyTZw+k`hJ+.[\"><field name=\"pre\">EditDT = '</field><field name=\"interpolate\">EditDT</field><field name=\"post\">' </field></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"os[Z^6nUYewh:;U56_7t\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"bZe|b;,UDWg55Rd-1f}I\"><field name=\"text\">where </field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"f.$P=/V[tvMxHVij+K/c\"><field name=\"pre\">AccountNo = '</field><field name=\"interpolate\">AccountNo</field><field name=\"post\">';</field></block></value></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></statement><next><block type=\"xml_element\" id=\"-#xRGorz{Ik5HawyvKcU\"><field name=\"trans\">Active</field><field name=\"tag\">Query</field><value name=\"attr\"><block type=\"xml_attribute_string\" id=\"$02Q![:11`MKc6ZO-hA+\"><field name=\"attr\">name</field><field name=\"val\">insertQuery</field></block></value><statement name=\"childs\"><block type=\"sql_freemarker_concat\" id=\"#OG.rD+aWxL1c|d:nX-*\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"iF,hbnalh,6:VRHcdf!0\"><field name=\"text\">Insert into</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"FfDl8I{+pvpfR$q:]Pdt\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"mgc9NJ[286`:gZ:b3Sk2\"><field name=\"text\">[dbo].[TblAccounts3]</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"@??x%z?vNp4_v4}ySh7|\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\":Gc28fWckP2doSj@v;|}\"><field name=\"text\">(</field></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"hPnP#6fy[W9uM!GCT8yV\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"*GNcZQi0Wi-Xppi{#Ie=\"><field name=\"text\">AccountNo,</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"JPEDB,`G5t|DtTjy1Ae`\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"q;$#{7UT8acH^[wuX=|]\"><field name=\"text\">[Enable],</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"Ki9NaSj{d!am6!3Zv[#F\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"!PTZWkmrP#lI-r#n:`v3\"><field name=\"text\">CustomerId,</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"6$nitZl8qRJY@oYVBC=r\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"Ihw^xv!gQ28u:JcG0F?(\"><field name=\"text\">TransGroupsStr,</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"J^R}b4y4]RM=T(k*x!WK\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"N()O`rMp5,C:=/nh-`B]\"><field name=\"text\">Phones,</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"-ZO}-CH%^$=RMgb|Gy=S\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"+a`lSr;Z^_t+o3`MEs;a\"><field name=\"text\">RemainAmount,</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"0DN2F*cS^g]Tx;eWmd~h\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"pQwo#Ud?WWeTR|R(C[*c\"><field name=\"text\">RemainDays,</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"HAR-M^jy:W$rhC:Y(}.{\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"g@T/OcMMU!![:d6}t@+-\"><field name=\"text\">DueDate,</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"S#ywyt|W}^K@%.6}Ad7p\"/></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"W-vdvFH$SuxrEp+;:Qhk\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"{gC5|w}a?Lxqb)DrX5jr\"><field name=\"text\">LowLimitCredit,</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"B7;ETi|EVc+pR{@5=JD)\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"v6?#L{5Ulpk[s~kd3(BU\"><field name=\"text\">LowLimitDebit,</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"eTUcg_1aWN`m{xxgKE0]\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"MMPhstjMW,_?js}2OCut\"><field name=\"text\">NearExpireNotifyDate,</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"jQ?g6kCC^Mgieo#XR!b$\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"1WC%lv:?GkXkKr)WTaWy\"><field name=\"text\">ExpiredNotifyDate,</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"^ZP+B{|E|iAm@Rd_0D9j\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\")*`2ZfhD~zE;WsNB(zNv\"><field name=\"text\">[ExpireDate],</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"|s9!CA2:Vm#BMxoLn`-B\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"f#Z]`;31+)c#Hn2rR|lG\"><field name=\"text\">AutoRenewRegister,</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"asGwXJZoQa(z/ou$t3X@\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"kKmUdySaGE8P[]^xU_f/\"><field name=\"text\">AutoRenewRegCancelNotifyDate,</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"kcYFOT_r;Md[tO=yee-?\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"Xw9)*9s%dBZI|(xTwO{.\"><field name=\"text\">EditDT) </field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"NFckGp7BONf4kVOIynnj\"/></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"kC[(T#ICb.%p$SBMb,.M\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"pDeaE9@QA5re6;$$)om:\"><field name=\"text\">values (</field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"I{/N.%hscAYXXlIKk~w%\"><field name=\"pre\">'</field><field name=\"interpolate\">AccountNo</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\",%ekt6CpW{YewG~iNMPH\"><field name=\"pre\">'</field><field name=\"interpolate\">Enable</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"Ygr@5$Ztt{bmLK3?]|_Q\"><field name=\"pre\">'</field><field name=\"interpolate\">CustomerId</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"je}3V_lx15hu5]k@Ym]7\"><field name=\"pre\">'</field><field name=\"interpolate\">TransGroupsStr</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"PVdsE-]-r|`UVu3$V^N4\"><field name=\"pre\">'</field><field name=\"interpolate\">Phones</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_freemarker_interpolate\" id=\"a]}yKy`Ly[XsxL!,$Z#F\"><field name=\"FIELD\">RemainAmount</field><value name=\"INPUT\"><block type=\"sql_freemarker_text\" id=\"D{M+:$}RK.`HdH,2uG6W\"><field name=\"text\">, </field><value name=\"NAME\"><block type=\"sql_freemarker_interpolate\" id=\"zarDo*M%hX8Z;CPqr!GX\"><field name=\"FIELD\">RemainDays</field><value name=\"INPUT\"><block type=\"sql_interpolate_statement\" id=\",SpRj4x^`g$!1abWx)+)\"><field name=\"pre\">, '</field><field name=\"interpolate\">DueDate</field><field name=\"post\">', </field></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\",Ng8un0!Jo-4E^K@wRL4\"><value name=\"NAME\"><block type=\"sql_freemarker_interpolate\" id=\"dqN`Nb+zaUN*fdJ;}EN/\"><field name=\"FIELD\">LowLimitCredit</field><value name=\"INPUT\"><block type=\"sql_freemarker_text\" id=\"DoW:Yc`MczDn}/]iWhKc\"><field name=\"text\">, </field><value name=\"NAME\"><block type=\"sql_freemarker_interpolate\" id=\"Z[a[/ZPh7R*qLN4+J,Ed\"><field name=\"FIELD\">LowLimitDebit</field><value name=\"INPUT\"><block type=\"sql_interpolate_statement\" id=\"-|!Kw~!x5N[|~4:_$v:B\"><field name=\"pre\">, '</field><field name=\"interpolate\">NearExpireNotifyDate</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"pkMm5~iMR]X;ue+GZyyI\"><field name=\"pre\">'</field><field name=\"interpolate\">ExpiredNotifyDate</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"#c42zjX]8J|a7uQ3$Abo\"><field name=\"pre\">'</field><field name=\"interpolate\">ExpireDate</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"g9fP!$XY:*jm4($y_SRt\"><field name=\"pre\">'</field><field name=\"interpolate\">AutoRenewRegister</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"jbNz[0q_,gTpj#H%QxnY\"><field name=\"pre\">'</field><field name=\"interpolate\">AutoRenewRegCancelNotifyDate</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"3HEOsJ:C|L+cm^-Iuhm6\"><field name=\"text\">getDate());</field></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></next></block></next></block></next></block></next></block></statement><next><block type=\"xml_element\" id=\"XILYR~hhZ*zJ}|}qp2?4\"><field name=\"trans\">Active</field><field name=\"tag\">Query</field><value name=\"attr\"><block type=\"xml_attribute_string\" id=\"nI;fUC5=oZ){:Oo-7Jr}\"><field name=\"attr\">name</field><field name=\"val\">historyQuery</field></block></value><statement name=\"childs\"><block type=\"sql_freemarker_concat\" id=\"Gsds@q7S47,^ysn47B5M\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"OA#xLt_mBBFH`i:ta+h8\"><field name=\"text\">Insert into</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"qU!k%o/#jqBJEM!0o:sH\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"I$C~ub#O/t]0u8XzaP9J\"><field name=\"text\">[dbo].[TblAccounts3History]</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"F2@CEs!,U.{,c#+9!;z@\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"%;#D5[UnI|7mgD*.=!|Y\"><field name=\"text\">(</field></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"Lm=ylg)7$tVWgTQnUxuY\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"2{U(FD121?T!WCo5}N=y\"><field name=\"text\">AccountNo,</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\".eDr871nf@-~=wPUj($:\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"iN`JBnLCBe94qWHWwdXl\"><field name=\"text\">[Enable],</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"K/$Ns[c?G#?{;l;32=qi\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"hKT/9dBQ%]I_%#2BJbq7\"><field name=\"text\">CustomerId,</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"?3o4#CUB={.4_B%G2x_=\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"qq;l2`jq]p!?}HiK]7R4\"><field name=\"text\">TransGroupsStr,</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"~yg)gbR;6gA|CGmpj0#d\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"=q}Ut_LJ8~Pt3kYrh+f$\"><field name=\"text\">Phones,</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"JEO_N+FX{J43`jHW?i-[\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\":^mhyEt.?U=um=(oR.XA\"><field name=\"text\">RemainAmount,</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"=VwK5ZF,W:BJdG|8PLk]\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"qaUIuQ{7v*i7k?.K3s|P\"><field name=\"text\">RemainDays,</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"1G1+Nf0IlqOc{z}(*LmZ\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"wXS8JvVDGg}H/~|`CbK?\"><field name=\"text\">DueDate,</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"yf5|z4%bZ|d|j.1wMn+2\"/></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"6.dWSMKX|U$l*WAJQ)DY\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"_^[ZT~7kSbmSrAXlKf[y\"><field name=\"text\">LowLimitCredit,</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\";vC%XA9T7QPB`r9E{80a\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"n8yJtYJhdK(uLt7DM.6H\"><field name=\"text\">LowLimitDebit,</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"-2@K;VjBMVw7}33eb:k,\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"Ex0F00?@BILT-e~O8Jp#\"><field name=\"text\">[ExpireDate],</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"X3E/9$.[[J]WD{XBE#W}\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"/69wDlVc4r-=0Xm/4TC|\"><field name=\"text\">NearExpireNotifyDate,</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"]gg8eGM53U}b*(5rZewK\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"gtu,6Ea9~X)YWgiueAw1\"><field name=\"text\">ExpiredNotifyDate,</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"3p~Oqbb,2M4-jYPF9kyG\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\")F6IdES0|-[+K+x:aG_M\"><field name=\"text\">EditDT,</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"i,/Eiy`#;SJhSDj/)%p6\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"kjj.OM)zZ/VC^m%4Nl3U\"><field name=\"text\">AutoRenewRegister,</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\";|){[sy]d%K..*V-#}ES\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"N=/Jnc~Rgd=G]+*T,]Pm\"><field name=\"text\">AutoRenewRegCancelNotifyDate,</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"mWJL6.Ehm_1R.ByN[U[Q\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"nBrm=U=(43Vx^a;SGwHn\"><field name=\"text\">Flag)</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"#15-8R4Vk3fNo`WC{Ps~\"/></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"T;_eL$L8FympGs0#?7c#\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"T60[1j81t4*juqXBcDsw\"><field name=\"text\">values (</field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"`1)02Ib/H{`ss+@HMGt8\"><field name=\"pre\">'</field><field name=\"interpolate\">AccountNo</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"WN,`F?sMHPaXd`!5H,9t\"><field name=\"pre\">'</field><field name=\"interpolate\">Enable</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"qGI~vn`b)#JFiaLIWa?F\"><field name=\"pre\">'</field><field name=\"interpolate\">CustomerId</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"+S#y[z/dFaS9fv]!P?Pc\"><field name=\"pre\">'</field><field name=\"interpolate\">TransGroupsStr</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"3M{MN?.V~-KG!V-1b.aW\"><field name=\"pre\">'</field><field name=\"interpolate\">Phones</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_freemarker_interpolate\" id=\"[}y^6U_g|{L_]Q^E}J}P\"><field name=\"FIELD\">RemainAmount</field><value name=\"INPUT\"><block type=\"sql_freemarker_text\" id=\"baK:XG[=jv:VN^Kg![9L\"><field name=\"text\">, </field><value name=\"NAME\"><block type=\"sql_freemarker_interpolate\" id=\"A];EnNIh1}BIW[@k}p?f\"><field name=\"FIELD\">RemainDays</field><value name=\"INPUT\"><block type=\"sql_interpolate_statement\" id=\"5;6stiPmD{qG3VH.Tt~T\"><field name=\"pre\">, '</field><field name=\"interpolate\">DueDate</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_freemarker_interpolate\" id=\"X7n4uIo+kn3t1Ju:N1hM\"><field name=\"FIELD\">LowLimitCredit</field><value name=\"INPUT\"><block type=\"sql_freemarker_text\" id=\"KOcDp0,=r9Eg#8i]KHu#\"><field name=\"text\">, </field><value name=\"NAME\"><block type=\"sql_freemarker_interpolate\" id=\"Egb~w}+yWNlXpC*F2[uL\"><field name=\"FIELD\">LowLimitDebit</field></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"crR}L;kCb?_R~KFk;7`1\"><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"i3+MT2z~Tk)92J2uwF~Q\"><field name=\"pre\">, '</field><field name=\"interpolate\">ExpireDate</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"4rmvap?PYOI$N0V,Cp_!\"><field name=\"pre\">'</field><field name=\"interpolate\">NearExpireNotifyDate</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"~x^(BFmt09FAm@IkBQSS\"><field name=\"pre\">'</field><field name=\"interpolate\">ExpiredNotifyDate</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"$A/Mz:nIVwKn|o8SV.*c\"><field name=\"pre\">'</field><field name=\"interpolate\">EditDT</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"YH[!E91IwMYa10,c3x3C\"><field name=\"pre\">'</field><field name=\"interpolate\">AutoRenewRegister</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"xuIsa~YFbZ6f0hKjNRW%\"><field name=\"pre\">'</field><field name=\"interpolate\">AutoRenewRegCancelNotifyDate</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_freemarker_interpolate\" id=\"X#k!2E,LFzn+Ue:7]Qcc\"><field name=\"FIELD\">Flag!\"null\"</field><value name=\"INPUT\"><block type=\"sql_freemarker_text\" id=\"6d(w4A}a3[.8[^;s#Ut~\"><field name=\"text\">);</field></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></next></block></next></block></next></block></next></block></statement><next><block type=\"xml_element\" id=\"JKw#]ERZP;nelM=attZ0\"><field name=\"trans\">Active</field><field name=\"tag\">Query</field><value name=\"attr\"><block type=\"xml_attribute_string\" id=\"{H)+dA0)D:[%aG+8gV-F\"><field name=\"attr\">name</field><field name=\"val\">registerQuery</field></block></value><statement name=\"childs\"><block type=\"sql_freemarker_concat\" id=\"a7ge;s9,rC/,R+QX~oqO\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"1C04J5zxbM4NT$gcDsbJ\"><field name=\"text\">Insert into</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"$fl@Jh~FYyXIl^xr`1ra\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"32R.pRnpk3zh|]d,1Dl0\"><field name=\"text\">[dbo].[tblRegister3]</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"C?bPNCO=j-}h;}:C)[gB\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"2jUI=6uBNCC+hBeV~Bn5\"><field name=\"text\">(</field></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"XDwX9#LUJy!/,~C4!E#6\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"Yr35UX=`bope7zgHKvg.\"><field name=\"text\">[CreateDT],</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"lA.Eg?N0q]]o3@hqd4al\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"{X.1Qq)c5Yi0VL#`G%r]\"><field name=\"text\">[Command],</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"F%Vlvp:W)p5o^v^4ZL1g\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"c8-^l{e!`@U%]i:aUdRV\"><field name=\"text\">[AccountNo],</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"Wm3jc;$/r$GF~xRtVgKx\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"+St|nxke^1#!c(s_Ksa-\"><field name=\"text\">[CustomerId],</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"RnDh51mIT]s|FMkNc^,]\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"zv^?|z5V%Il=oi_000)A\"><field name=\"text\">[PhoneNo],</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"88^qHkepGS?:5i7U5{Pf\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"%@7i1Kf]8d?u$zavEdh[\"><field name=\"text\">[ExpireDate],</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"0:A]|%KXW`B{Xb?zh4VA\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"ujuoE)v7HT*[A];{g$r9\"><field name=\"text\">[LowLimitCredit],</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"XZVd*a}-9BFTLI%y|tt)\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"Ctn2P^w2UBkp%k@QiL|7\"><field name=\"text\">[TransactionGroupNames],</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"=Z+DpF^RB4DKVB$b/Rd)\"/></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"E-MTSqWOmDfM%vq5MO6L\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"b`A,93_$85-d!N$=(Q0f\"><field name=\"text\">[CreditItemName],</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"yWXk~tKGB0e..6RFY=+0\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"Q6lvN0R2qTYqJ$d]Iq@J\"><field name=\"text\">[ExtraPhoneNo],</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\".*Ul7m?g1l;0X.nX:AY[\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"hxVKx|KcDObpWST1MlF6\"><field name=\"text\">[LanguageCode],</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"T!Q#1omz$K!_!cZ!DyY4\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"W38t!h:ct05Tzfh3QmzO\"><field name=\"text\">[CmdDate],</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"@MFHppAYFMwmg})/i-mf\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"ZUoyz|GZ3II((#0[i+iN\"><field name=\"text\">[CmdTime],</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"pwZ0gVhnd:p4M7$1/DL}\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"9k6MN.!.vt-f-C/9BR2v\"><field name=\"text\">[Branch],</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"`DiZKVO|]{M7|+_JLL3u\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"}[XSTOW:E}Y1V.}-a61{\"><field name=\"text\">[TerminalId],</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"po01^G4]8UCYG(Z`wZ[v\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"X9-}AsJzWp:8:L]u8oZW\"><field name=\"text\">[user])</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"KL:-pS0,sfNw/p|!8v4H\"/></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"Xrmu%/)1RpItnz4p}OSA\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"VNMU%zC;S,Vh/o1%vbr]\"><field name=\"text\">values (</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"}OAZzhuheU9jt8e!L~Xr\"><field name=\"text\">getDate(), </field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"a?lb}qq]z2IuHUAB^{d$\"><field name=\"pre\">'</field><field name=\"interpolate\">COMMAND</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"jg^^4CXQtqW46;3Wx0LM\"><field name=\"pre\">'</field><field name=\"interpolate\">ACCOUNTNO</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"$;lIZk/cT:LRx[`fC|zv\"><field name=\"pre\">'</field><field name=\"interpolate\">CUSTOMERID</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"_p2Rd9?JE89Gf!-`L|i)\"><field name=\"pre\">'</field><field name=\"interpolate\">PHONENO</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"env^e7::@Lk1^KC.:2Fa\"><field name=\"pre\">'</field><field name=\"interpolate\">EXPIREDATE</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"-B#6R2bhB]:w[i6!M:Lp\"><field name=\"pre\">'</field><field name=\"interpolate\">LOWLIMITCREDIT</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"-6F*~rnQw2JXO-WUC8bm\"><field name=\"pre\">'</field><field name=\"interpolate\">TRANSACTIONGROUPNAMES</field><field name=\"post\">', </field></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"ki(p3S3ixeY^7##xyupN\"><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"fwP7bI9p(kv3XHe[m!MJ\"><field name=\"pre\">'</field><field name=\"interpolate\">CREDITITEMNAME</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"#(I#Of{b,-9(UQ?Tlz1+\"><field name=\"pre\">'</field><field name=\"interpolate\">EXTRAPHONENO</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"7wxs*lb,[k)!uSr#D8$Y\"><field name=\"pre\">'</field><field name=\"interpolate\">LANGUAGECODE</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"T+{Wx[gZo)t_8a#{yiL)\"><field name=\"pre\">'</field><field name=\"interpolate\">CMDDATE</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"o/pH1q/EErJ{JxOXpeZ%\"><field name=\"pre\">'</field><field name=\"interpolate\">CMDTIME</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"xy`,%STn(qQ^]+C6VfTq\"><field name=\"pre\">'</field><field name=\"interpolate\">BRANCH</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\")lPZyHT^KlUgc:zzxWL^\"><field name=\"pre\">'</field><field name=\"interpolate\">TERMINALID</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"oMwYMs{:e2(pQoK}v{6h\"><field name=\"pre\">'</field><field name=\"interpolate\">USER</field><field name=\"post\">'); </field></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></statement></block><block type=\"xml_element\" id=\"-~MCk:d:b:,[iYYYL}p_\" x=\"262\" y=\"862\"><field name=\"trans\">Active</field><field name=\"tag\">Queries</field><value name=\"attr\"><block type=\"xml_attribute_string\" id=\"8-yAwQBMAm@niRp,UO2?\"><field name=\"attr\">group</field><field name=\"val\">report</field></block></value><statement name=\"childs\"><block type=\"xml_element\" id=\"W0?)6SH8LDySnu56@S(E\"><field name=\"trans\">Active</field><field name=\"tag\">Query</field><value name=\"attr\"><block type=\"xml_attribute_string\" id=\"*,inN@O}E3,@h*lk4F7G\"><field name=\"attr\">name</field><field name=\"val\">repdel</field></block></value><statement name=\"childs\"><block type=\"sql_freemarker_concat\" id=\"s+Uvm{pwcskEh-yYlQ;#\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"!O/GJbAfOgXQbc^*IW.$\"><field name=\"text\">select</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"9.4dI[m%ZZF}+BxAx!x5\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"oow:*H]oH%MNg8Gp[LeG\"><field name=\"text\">accountNo</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"%!FxYaD1)d,m~1are:b*\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"l|*p7HG+[7kU3IZB6(RX\"><field name=\"text\">from</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"9Eo)pb*?F~~goVtzEn3)\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"ssC2NR~CS0H6x;}n^Gh}\"><field name=\"text\">tblAccounts3</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"K!C}U3^r?Ac1LZ4xrq6R\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"V-vzX:7!cr4$]7_Zf28c\"><field name=\"text\">where</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"uIiw|%fzn!=En-2+]8qE\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"=!8~,Q:N*VZ_d*Z+J!~Z\"><field name=\"text\">accountNo</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"i{:I`$M6Z-TuA-O0E|-=\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"ZnxZJ`+l}3$}Jr~?jtX)\"><field name=\"text\">=</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"Se3?EtvgSsyPE@^AMoee\"><value name=\"NAME\"><block type=\"sql_freemarker_interpolate\" id=\")IrD%c_Mr*|gy`z[y)_D\"><field name=\"FIELD\">accountNo</field></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></statement><next><block type=\"xml_element\" id=\"1;8tsboUI(J}x}U_E$Mv\"><field name=\"trans\">Active</field><field name=\"tag\">Query</field><value name=\"attr\"><block type=\"xml_attribute_string\" id=\"AHjel0Vuv2hWZg8=l+`{\"><field name=\"attr\">name</field><field name=\"val\">repaccount</field></block></value><statement name=\"childs\"><block type=\"sql_freemarker_concat\" id=\"9V=py?-XpI#R4ml%uDRb\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"]#WolEzTo@L:A/j4ev-z\"><field name=\"text\">Select</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"r-dTy=SxESrOwBr5ptGP\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"kHHW9Y9=m;nHLObO|-9t\"><field name=\"text\">A.AccountNo</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"z.+fq]j[vkrv2Pb=u/~/\"><field name=\"text\">, </field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"AcHG(.4FMhv$WXR6cqD3\"><field name=\"text\">A.Enable</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"0Y|PK`slp~j_.lG.JKN!\"><field name=\"text\">, </field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"NaV}boCl%Ht:.D0r5NLY\"><field name=\"text\">A.Phones</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"oQ%SLapc%S/blJNw;X6l\"><field name=\"text\">, </field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"$f79*)@klQQZ^%*WneZy\"><field name=\"text\">A.TransGroupsStr</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"irZF[yTu{=FT/+^;`0^o\"><field name=\"text\">, </field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"2]`WQhoQ^4;zNA*I$sXP\"><field name=\"text\">A.RemainAmount</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"zwVvjvxN?vCnJ*%:jCOm\"><field name=\"text\">, </field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"_np;2b0M5//gkW]4kn`#\"><field name=\"text\">A.RemainDays</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"lH@ZA+[{|gdiC0k)mWkA\"><field name=\"text\">, </field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"^Y-gHSp)JQT[^D@{]1gP\"><field name=\"text\">A.DueDate</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"qu8@(8k:s})@{KAWl`9Y\"><field name=\"text\">, </field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"(X,V?x%cAJfqo~z0k4nL\"><field name=\"text\">A.LowLimitCredit</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"HqQ!%GaPF88I?$S4jb`T\"><field name=\"text\">, </field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"BUb_dZ#,:;;n3r6.%h7f\"><field name=\"text\">A.LowLimitDebit</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"WM9ISuKIy(c|{aK2/,BK\"><field name=\"text\">, </field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"bApwpI8#px+Gu$OQ)=+h\"><field name=\"text\">A.ExpireDate</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\",pxH}as?WT?7aU;*cwr/\"><field name=\"text\">, </field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\";D-W}J_NWB]Kj;w;3K.H\"><field name=\"text\">R.Branch</field></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"iSf+8yrN7MxiQaGE2C-H\"><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"dFuBe?j^+Euu=RNc_PIV\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"/!TfR)qsWxn5+UOzh]M(\"><field name=\"text\">from</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"DJu(I_JnFr0J(O{?BPr2\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"_1;pS%@s[pRO^fvW?m;=\"><field name=\"text\">TblAccounts3</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"j@W[Ep5ur5eI:HcX?|],\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"Lp?|-Ui/-qu0`3.K:ZiN\"><field name=\"text\">as A</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"_ZfzlQ(#ESRszv^lQk)R\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"-/sfAN.w|.3BlPY$8TFp\"><field name=\"text\">left outer join (</field></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"GMO,a}?81oY1r6!A8H~{\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"zyunN`q~vDxMtpNLwK.O\"><field name=\"text\">Select * from (</field></block></value><next><block type=\"sql_freemarker_concat\" id=\"pr[X=V`4uwAnN|/g9)qA\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"f1m)}%Jk4CAZXkcWy}7`\"><field name=\"text\">Select</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"^KIrx}{9hBWOsWn?]V=B\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"%-:9[Gl:u,Bf9e(Uk{uj\"><field name=\"text\">ROW_NUMBER()</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"q#WthX1hInf`YTo}PLma\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"Or,aMjQaS0PXtb{/;vX7\"><field name=\"text\">OVER(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"$%^,:#sJ3]FCU[vK=bnu\"><field name=\"text\">PARTITION BY</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"{W5oA0XS,(A6JJbkTN}y\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"Q,p9W#[|fU~{g-FS{(os\"><field name=\"text\">AccountNo</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"zHMjcq8R_`H$j/Td-BIA\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"*4jFgdG#H[?4e|U`F)Et\"><field name=\"text\">ORDER BY</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"i3{j780{$$[C*3(GU|zP\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"Cc-:FcL?PAbYFPfAExlE\"><field name=\"text\">CmdDate</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"]d2-H!5ODy,Om/:.M8Ne\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"1WmWTAeJG0+nkm5xzlZA\"><field name=\"text\">DESC,</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"IRYHvB}8XI)*w~h1q70.\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"`fJv|^=m6wm:Q9pRkWvM\"><field name=\"text\">CmdTime</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"7$Ygf?HZd*.,{I!+:K)9\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"BFj^4A#^/E:YRNH`]iyG\"><field name=\"text\">DESC)</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"iQvoC*80P-F?:IRXL7I_\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"h|ZoVrd;s%o9(^~+pBB(\"><field name=\"text\">AS</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"NppgoD;MoSu8*n,M1.Jm\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"6%C]{2!OUf2zy^sxP^|5\"><field name=\"text\">RowN, *</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"OzqvLI)(TTTv(vQntF.;\"/></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"f5iXMNkn!IR?.woM=iq)\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"ebXt:srh,wt6{/W#1WA9\"><field name=\"text\">from</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\",U[WVD+_f=,Zsr[OF_!x\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"h_^_{,S3$O;JT-Cuz;8Q\"><field name=\"text\">tblRegister3</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"+tzF|o{-YcF-K#$gtEZl\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"Z,I_WrcNmV(SLBob}Gce\"><field name=\"text\">where Command = </field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"zxMuwIK5C2[Qx.35pa!D\"><field name=\"text\">'ADDACCOUNT'</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"+A3_C;g#p0k?#A{hIdYd\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"QSX2U(x1uYQk=#GL{!MK\"><field name=\"text\">or Command = </field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"T4+axGib{kv5=yev$#+F\"><field name=\"text\">'ADDCREDITITEM'</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"R%IUDlkKfobC{X+L?88y\"><field name=\"text\">) as B</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"*P)I$XOijuh|9gXIN(ZD\"/></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"m3?R`X$EYLP^hox]$l_b\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"*zyPviykxwv|H~J;0mqd\"><field name=\"text\">where</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\";9UxCkQ96]BTRmANx5?_\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"L~R`a?c=4aKELTLUk?~J\"><field name=\"text\">B.RowN</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"OsyP?e!0-3%E=i`PTBg7\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"H}_*/yox|6v},eT^hzQ!\"><field name=\"text\">= 1</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"nERI*]=inJ_exfP:V[H`\"><field name=\"text\">) as R</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\";X/rfQE_vh*uDYK7zNcx\"/></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"dR$L;M.1S*xM.@4_E.UO\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"ikT!n:Sl(dp{R6}x8oDn\"><field name=\"text\">on</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"-u1hh$mALt[F[L})V~z~\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\".n*x!txy3^_#vHI3t`sN\"><field name=\"text\">A.AccountNo</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"[W49QvAm^P@G;!l_:7~@\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"%by5r2A1g0s1a{-#8+U~\"><field name=\"text\">=</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"X8OuJlz#dopUjX3=9)xz\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"lQYwRK@.Y0]01zcW6v/a\"><field name=\"text\">R.AccountNo</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"f$N.xXX1MNSJ[/Pb;4CB\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"uX`j,5JpEYAf3W(2;j)6\"><field name=\"text\">order by</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"!5XFS#rcaQ.60z)aw=}W\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"4svAz9r{/PcX@Qm%HkI9\"><field name=\"text\">A.AccountNo</field></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></statement></block></xml>",
    "code" : "<Queries group = \"accounts\" >  <Query name = \"accounts\" >  Select convert(varchar(13),isnull(AccountNo,'null')) + '|' + convert(varchar(10),isnull(Enable,'null')) + '|' + convert(varchar(10),isnull(CustomerId,'null')) + '|' + convert(varchar(100),isnull(TransGroupsStr,'null')) + '|' + convert(varchar(110),isnull(Phones,'null')) + '|' + convert(varchar(10),isnull(AutoRenewRegister,'null')) + '|' + convert(varchar(60),isnull(RemainAmount,'null')) + '|' + convert(varchar(50),isnull(RemainDays,'null')) + '|' + isnull(convert(varchar(10),DueDate,102),'null') + '|' + convert(varchar(10),isnull(LowLimitCredit,'null')) + '|' + convert(varchar(10),isnull(LowLimitDebit,'null')) + '|' + isnull(convert(varchar(10),ExpireDate,102),'null') + '|' + isnull(convert(varchar(10),NearExpireNotifyDate,102),'null') + '|' + isnull(convert(varchar(10),ExpiredNotifyDate,102),'null') + '|' + isnull(convert(varchar(10),AutoRenewRegCancelNotifyDate,102),'null') + '\\\\n'  from [dbo].[TblAccounts3] for XML PATH('');</Query></Queries>\n<Queries group = \"registry\" >  <Query name = \"updateQuery\" >  Update [dbo].[TblAccounts3] set CustomerId = '${CustomerId}', [Enable] = '${Enable}', TransGroupsStr = '${TransGroupsStr}', Phones = '${Phones}', RemainAmount = ${RemainAmount}, RemainDays = ${RemainDays}, DueDate = '${DueDate}', LowLimitCredit = ${LowLimitCredit}, LowLimitDebit = ${LowLimitDebit}, NearExpireNotifyDate = '${NearExpireNotifyDate}', ExpiredNotifyDate = '${ExpiredNotifyDate}', [ExpireDate] = '${ExpireDate}', AutoRenewRegister = '${AutoRenewRegister}', AutoRenewRegCancelNotifyDate = '${AutoRenewRegCancelNotifyDate}', EditDT = '${EditDT}' where AccountNo = '${AccountNo}';</Query><Query name = \"insertQuery\" >  Insert into [dbo].[TblAccounts3] (AccountNo, [Enable], CustomerId, TransGroupsStr, Phones, RemainAmount, RemainDays, DueDate, LowLimitCredit, LowLimitDebit, NearExpireNotifyDate, ExpiredNotifyDate, [ExpireDate], AutoRenewRegister, AutoRenewRegCancelNotifyDate, EditDT)  values ('${AccountNo}', '${Enable}', '${CustomerId}', '${TransGroupsStr}', '${Phones}', ${RemainAmount}, ${RemainDays}, '${DueDate}', ${LowLimitCredit}, ${LowLimitDebit}, '${NearExpireNotifyDate}', '${ExpiredNotifyDate}', '${ExpireDate}', '${AutoRenewRegister}', '${AutoRenewRegCancelNotifyDate}', getDate());</Query><Query name = \"historyQuery\" >  Insert into [dbo].[TblAccounts3History] (AccountNo, [Enable], CustomerId, TransGroupsStr, Phones, RemainAmount, RemainDays, DueDate, LowLimitCredit, LowLimitDebit, [ExpireDate], NearExpireNotifyDate, ExpiredNotifyDate, EditDT, AutoRenewRegister, AutoRenewRegCancelNotifyDate, Flag) values ('${AccountNo}', '${Enable}', '${CustomerId}', '${TransGroupsStr}', '${Phones}', ${RemainAmount}, ${RemainDays}, '${DueDate}', ${LowLimitCredit}, ${LowLimitDebit}, '${ExpireDate}', '${NearExpireNotifyDate}', '${ExpiredNotifyDate}', '${EditDT}', '${AutoRenewRegister}', '${AutoRenewRegCancelNotifyDate}', ${Flag!\"null\"});</Query><Query name = \"registerQuery\" >  Insert into [dbo].[tblRegister3] ([CreateDT], [Command], [AccountNo], [CustomerId], [PhoneNo], [ExpireDate], [LowLimitCredit], [TransactionGroupNames], [CreditItemName], [ExtraPhoneNo], [LanguageCode], [CmdDate], [CmdTime], [Branch], [TerminalId], [user]) values (getDate(), '${COMMAND}', '${ACCOUNTNO}', '${CUSTOMERID}', '${PHONENO}', '${EXPIREDATE}', '${LOWLIMITCREDIT}', '${TRANSACTIONGROUPNAMES}', '${CREDITITEMNAME}', '${EXTRAPHONENO}', '${LANGUAGECODE}', '${CMDDATE}', '${CMDTIME}', '${BRANCH}', '${TERMINALID}', '${USER}'); </Query></Queries>\n<Queries group = \"report\" >  <Query name = \"repdel\" >  select accountNo from tblAccounts3 where accountNo = ${accountNo}</Query><Query name = \"repaccount\" >  Select A.AccountNo, A.Enable, A.Phones, A.TransGroupsStr, A.RemainAmount, A.RemainDays, A.DueDate, A.LowLimitCredit, A.LowLimitDebit, A.ExpireDate, R.Branch from TblAccounts3 as A left outer join (Select * from (Select ROW_NUMBER() OVER(PARTITION BY AccountNo ORDER BY CmdDate DESC, CmdTime DESC) AS RowN, * from tblRegister3 where Command = 'ADDACCOUNT' or Command = 'ADDCREDITITEM') as B where B.RowN = 1) as R on A.AccountNo = R.AccountNo order by A.AccountNo</Query></Queries>",
    "lang" : "freemarker"
  },
  "Trigger" : [ "switch.101.output" ],
  "Input" : [ ],
  "Error" : [ ],
  "Result" : [ "process.109.input" ]
}, {
  "id" : "109",
  "type" : "process",
  "data" : {
    "type" : "process",
    "config" : {
      "worker" : false,
      "instances" : 1
    },
    "setting" : { },
    "lang" : "java",
    "code" : "import com.vx6.master.MasterVerticle;\r\nimport io.vertx.core.Promise;\r\nimport io.vertx.core.eventbus.Message;\r\nimport io.vertx.core.json.JsonObject;\r\nimport org.w3c.dom.*;\r\nimport org.xml.sax.InputSource;\r\n\r\nimport java.io.StringReader;\r\nimport javax.xml.parsers.*;\r\n\r\npublic class ReadSQLPattern extends MasterVerticle {\r\n    private DocumentBuilder builder;\r\n\r\n    @Override\r\n    public void initialize(Promise<Void> initPromise) {\r\n        try {\r\n            //Parser that produces DOM object trees from XML content\r\n            DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\n\r\n            //API to obtain DOM Document instance\r\n            //DocumentBuilder builder = null;\r\n\r\n            //Create DocumentBuilder with default configuration\r\n            builder = factory.newDocumentBuilder();\r\n\r\n            initPromise.complete();\r\n        } catch (Exception e) {\r\n            initPromise.fail(\"xml builder not initialized!\");\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void process(Message msg) {\r\n        resultOutboundCount--;\r\n        //Use method to convert XML string content to XML Document object\r\n        Document doc = convertStringToXMLDocument(\"<xml>\" + msg.body().toString() + \"</xml>\");\r\n        doc.getDocumentElement().normalize();\r\n        Element root = doc.getDocumentElement();\r\n        NodeList groups = root.getChildNodes();\r\n        for (int i = 0; i < groups.getLength(); i++) {\r\n            JsonObject joRoot = new JsonObject();\r\n            if (!(groups.item(i) instanceof Element))\r\n                continue;\r\n            joRoot.put(\"root_tag_name\", groups.item(i).getNodeName());\r\n            NamedNodeMap attrs = groups.item(i).getAttributes();\r\n            for (int j = 0; j < attrs.getLength(); ++j) {\r\n                Node attr = attrs.item(j);\r\n                joRoot.put(attr.getNodeName(), attr.getNodeValue());\r\n            }\r\n            Node group = groups.item(i);\r\n            if (group instanceof Element) {\r\n                Element groupElement = (Element) group;\r\n                NodeList patterns = groupElement.getElementsByTagName(\"Query\");\r\n                for (int j = 0; j < patterns.getLength(); j++) {\r\n                    JsonObject joPattern = new JsonObject();\r\n                    Node patElement = patterns.item(j);\r\n                    joPattern.put(\"sql_tag_name\", patElement.getNodeName());\r\n                    NamedNodeMap atts = patElement.getAttributes();\r\n                    for (int k = 0; k < atts.getLength(); k++) {\r\n                        Node att = atts.item(k);\r\n                        joPattern.put(att.getNodeName(), att.getNodeValue());\r\n                    }\r\n                    joPattern.put(\"text\", patElement.getTextContent());\r\n                    joPattern.mergeIn(joRoot.copy());\r\n                    eb.publish(addressBook.getResult(), joPattern, addressBook.getDeliveryOptions(msg));\r\n                    resultOutboundCount++;\r\n                    //System.out.println(\"Pattern#\" + i + \": \" + joPattern.toString());\r\n                }\r\n            }\r\n        }\r\n\r\n        //System.out.println(\"joRoot: \" + joRoot.toString());\r\n\r\n        resultOutboundCount++;\r\n        eb.publish(addressBook.getResult(), \"finished\");\r\n    }\r\n\r\n    private void sendError(Message msg, Exception e) {\r\n        eb.publish(addressBook.getError(), msg.body(), addressBook.getDeliveryOptions(msg).addHeader(\"error\", e.getMessage()));\r\n    }\r\n\r\n    private Document convertStringToXMLDocument(String xmlString) {\r\n\r\n        try {\r\n            //Parse the content to Document object\r\n            Document doc = builder.parse(new InputSource(new StringReader(xmlString)));\r\n            return doc;\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n}",
    "fName" : "ReadSQLPattern",
    "theme" : "gruvbox",
    "outNumber" : 0
  },
  "Trigger" : [ ],
  "Input" : [ "parquet.103.result" ],
  "Error" : [ ],
  "Result" : [ "process.117.input" ]
} ]