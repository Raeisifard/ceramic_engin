[ {
  "id" : "0",
  "type" : "data.source",
  "data" : {
    "BankIranWS" : {
      "url" : "http://192.168.160.205:7911/wsAcctStmt_Service",
      "url2 (copy)" : "http://192.168.160.205:7810/wsAcctStmt_Service",
      "branchNo" : "0544",
      "workstationId" : "22",
      "terminalId" : "4444",
      "userId" : "EMD",
      "stmtCode" : 170
    },
    "BankIranWS2" : {
      "url" : "http://192.168.160.205:7911/wsAcctStmt_Service",
      "url2 (copy)" : "http://192.168.160.205:7811/wsAcctStmt_Service",
      "branchNo" : "0544",
      "workstationId" : "22",
      "terminalId" : "4444",
      "userId" : "EMD",
      "stmtCode" : 170
    },
    "OBRS-DB" : {
      "ip" : "192.168.166.11",
      "port" : 1433,
      "dbName" : "BXX_SAPTA11",
      "user" : "sa",
      "pass" : "suny$123"
    },
    "Config" : {
      "bankId" : "NOR",
      "bankCode" : 64,
      "transGroup" : "tg99",
      "defaultLowLimitDebit" : 0,
      "defaultLowLimitCredit" : 0,
      "startupCreditItem" : "C01",
      "customerBase" : false,
      "creditItem" : {
        "C00" : {
          "description" : "اعتبار یکماهه رایگان",
          "comment" : "One month Free",
          "amount" : 0,
          "days" : 31,
          "price" : 0
        },
        "C01" : {
          "description" : "اعتبار شش ماهه",
          "comment" : "6 Months",
          "amount" : 0,
          "days" : 186,
          "price" : 50000
        },
        "C02" : {
          "description" : "اعتبار یکساله",
          "comment" : "Yearly",
          "amount" : 0,
          "days" : 366,
          "price" : 100000
        }
      }
    }
  }
}, {
  "id" : "62",
  "type" : "process",
  "data" : {
    "type" : "process",
    "config" : {
      "worker" : false,
      "instances" : 1
    },
    "setting" : { },
    "lang" : "java",
    "code" : "import BankIranWS.BankIranWS_NOR.*;\r\nimport Utils.PersianCalendarBean;\r\nimport com.vx6.master.MasterVerticle;\r\nimport io.vertx.core.Promise;\r\nimport io.vertx.core.eventbus.Message;\r\nimport io.vertx.core.json.JsonObject;\r\n\r\nimport java.math.BigDecimal;\r\nimport java.net.URL;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.Date;\r\n\r\nimport static Utils.Library.unRevSign;\r\n\r\npublic class FC44 extends MasterVerticle {\r\n    private static Integer seqNo = 0;\r\n    private WsAcctStmtMessageSetPortType wsAcctStmtMessageSetPortType;\r\n    private JsonObject bankIranWS, constants;\r\n    private String branchNo, workstationId, terminalId, userId, stmtCode;\r\n    private int defaultPrice = 0;\r\n\r\n    @Override\r\n    public void initialize(Promise<Void> initPromise) throws Exception {\r\n        constants = config().getJsonObject(\"dataSource\").getJsonObject(\"Config\");\r\n        try {\r\n            if (!(config().containsKey(\"dataSource\") &&\r\n                    config().getJsonObject(\"dataSource\").containsKey(\"BankIranWS\") &&\r\n                    config().getJsonObject(\"dataSource\").containsKey(\"Config\")))\r\n                initPromise.fail(\"BankIranWS data not found on datasource\");\r\n            else {\r\n                bankIranWS = config().getJsonObject(\"dataSource\").getJsonObject(\"BankIranWS\");\r\n                wsAcctStmtMessageSetPortType = new WsAcctStmtService(new URL(bankIranWS.getString(\"url\"))).getWsAcctStmtPort();\r\n                branchNo = bankIranWS.getString(\"branchNo\");\r\n                workstationId = bankIranWS.getString(\"workstationId\");\r\n                terminalId = bankIranWS.getString(\"terminalId\");\r\n                userId = bankIranWS.getString(\"userId\");\r\n                stmtCode = bankIranWS.getString(\"stmtCode\");\r\n                constants = config().getJsonObject(\"dataSource\").getJsonObject(\"Config\");\r\n                defaultPrice = constants.getJsonObject(\"creditItem\").getJsonObject(constants.getString(\"startupCreditItem\")).getInteger(\"price\");\r\n                initPromise.complete();\r\n            }\r\n        } catch (Exception e) {\r\n            initPromise.fail(\"!!!!! Error : BankIranWS_NOR  getWsAcctStmtPort() Problem=\" + e.getMessage());\r\n            sendException(e);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public <T> void process(Message<T> tMessage) {\r\n        resultOutboundCount--;\r\n        JsonObject body = (JsonObject) tMessage.body();\r\n        String accountNo = body.getJsonObject(\"accountInfo\").getString(\"AccountNo\");\r\n        String curPDate = PersianCalendarBean.getPersianDateSimple(new Date()).substring(2, 8);\r\n        String curTime = new SimpleDateFormat(\"HHmmss\").format(new Date());\r\n        Long amount = body.containsKey(\"amount\") ? body.getLong(\"amount\") : defaultPrice;\r\n        String curSeqNo;\r\n        synchronized (seqNo) {\r\n            seqNo++;\r\n            if (seqNo > 9999) seqNo = 0;\r\n            curSeqNo = String.format(\"%04d\", seqNo);\r\n        }\r\n\r\n        FC44MSGIN fc44MSGIN = new FC44MSGIN();\r\n        fc44MSGIN.setFCTRANID(\"DC44\");\r\n        fc44MSGIN.setFCCTRLID(branchNo);\r\n        fc44MSGIN.setFCCTRID(\"\");//new\r\n        fc44MSGIN.setFCBRANCHNO(branchNo);\r\n        fc44MSGIN.setFCWSID(workstationId);\r\n        fc44MSGIN.setFCLTERM(terminalId);\r\n        fc44MSGIN.setFCUSERID(userId);\r\n        fc44MSGIN.setFCSEQNO(curSeqNo);\r\n        fc44MSGIN.setFCDATE(curPDate);\r\n        fc44MSGIN.setFCTIME(curTime);\r\n        fc44MSGIN.setFCMODEFLAG(\"O\");\r\n        fc44MSGIN.setFCSTATUSFLAG(\"N\");\r\n        fc44MSGIN.setFCOVRHFLAG(\"03\");\r\n        fc44MSGIN.setFCAUTHOFFICER(userId);\r\n        fc44MSGIN.setFCTRANLINK(\"001\");\r\n        fc44MSGIN.setACCOUNTNO(accountNo);\r\n        fc44MSGIN.setTRANAMT(amount);\r\n        fc44MSGIN.setTRANKDEQ(amount);\r\n        fc44MSGIN.setSTATDESC(stmtCode);\r\n        fc44MSGIN.setCHQNO(\"0\");\r\n        fc44MSGIN.setVALUEDATE(curPDate);\r\n        fc44MSGIN.setOPTINFO1(\" \");\r\n        fc44MSGIN.setOPTINFO(\" \");\r\n        fc44MSGIN.setLANGCODE(\"F\");\r\n        fc44MSGIN.setPRINTIND(\"N\");\r\n        fc44MSGIN.setORIGKEY(\" \");\r\n        fc44MSGIN.setCHARGECODE(\"K\");\r\n        fc44MSGIN.setCHQDATE(\" \");\r\n        fc44MSGIN.setFCNATIONALID(\" \");\r\n        fc44MSGIN.setFCFXRATE(new BigDecimal(\"0\"));\r\n        fc44MSGIN.setFCSALERT(new BigDecimal(\"0\"));\r\n        fc44MSGIN.setFCORIGINOFMONEY(\"\");\r\n        fc44MSGIN.setFCPHASE(\"\");\r\n        body.put(\"amount\", amount);\r\n        vertx.executeBlocking(promise -> {\r\n            try {\r\n                FC44MSGOUT fc44MSGOUT = wsAcctStmtMessageSetPortType.fc44Opr1(fc44MSGIN);\r\n                promise.complete(fc44MSGOUT);\r\n            } catch (FaultMsg e) {\r\n                deductionFailed(body, e);\r\n                eb.publish(addressBook.getError(), body.put(\"error\", \"##### BankIranWS_NOR.Deposit accountNo Fail \" + accountNo + \" FC44MSGOUT general Exception\"), addressBook.getDeliveryOptions().addHeader(\"error\", \"FC44\").addHeader(\"status\", \"ERROR\"));\r\n                errorOutboundCount++;\r\n                //sendException(e);\r\n                e.printStackTrace();\r\n                promise.fail(e.getMessage());\r\n            }\r\n        }, res -> {\r\n            if (res.succeeded()) {\r\n                FC44MSGOUT fc44MSGOUT = (FC44MSGOUT) res.result();\r\n                if (fc44MSGOUT.getALERTCODE().trim().isEmpty()) {\r\n                    deductionFailed(body, \"FC44MSGOUT_EMPTY_ALERT_CODE\");\r\n                    eb.publish(addressBook.getError(), body.put(\"error\", \"BankIranWS_NOR.Deposit Fail \" + accountNo + \" Invalid Empty AlertCode \" + fc44MSGOUT.getALERTCODE()), addressBook.getDeliveryOptions().addHeader(\"error\", \"FC44\").addHeader(\"status\", \"ERROR\"));\r\n                    errorOutboundCount++;\r\n                } else if (Integer.parseInt(fc44MSGOUT.getALERTCODE()) >= Integer.parseInt(fc44MSGIN.getFCOVRHFLAG())) {\r\n                    deductionFailed(body, fc44MSGOUT.getALERTMSG());\r\n                    eb.publish(addressBook.getError(), body.put(\"error\", \"##### BankIranWS_NOR.Deposit Fail \" + accountNo + \" \" + fc44MSGOUT.getALERTMSG() + \" \" + fc44MSGOUT.getALERTCODE()), addressBook.getDeliveryOptions().addHeader(\"error\", \"FC44\").addHeader(\"status\", \"ERROR\"));\r\n                    errorOutboundCount++;\r\n                } else {\r\n                    JsonObject fc44out = new JsonObject();\r\n                    //fc44out.put(\"remain\", Long.parseLong(unRevSign(fc44MSGOUT.getAVALBAL().trim())) - amount);\r\n                    fc44out.put(\"remain\", Long.parseLong(unRevSign(fc44MSGOUT.getAVALBAL().trim())));\r\n                    fc44out.put(\"ORIG_KEY\", fc44MSGOUT.getORIGKEY());\r\n\r\n                /*System.out.println(\"##### \" + accountNo + \" BankIranWS_NOR.deposit output Fill0          =>\" + fc44MSGOUT.getFill0() + \"<\");\r\n                System.out.println(\"##### \" + accountNo + \" BankIranWS_NOR.deposit output HOSTCICSTRANSID=>\" + fc44MSGOUT.getHOSTCICSTRANSID() + \"<\");\r\n                System.out.println(\"##### \" + accountNo + \" BankIranWS_NOR.deposit output HOSTSEQNO      =>\" + fc44MSGOUT.getHOSTSEQNO() + \"<\");\r\n                System.out.println(\"##### \" + accountNo + \" BankIranWS_NOR.deposit output HOSTDEST       =>\" + fc44MSGOUT.getHOSTDEST() + \"<\");\r\n                System.out.println(\"##### \" + accountNo + \" BankIranWS_NOR.deposit output HOSTDATATYPE   =>\" + fc44MSGOUT.getHOSTDATATYPE() + \"<\");\r\n                System.out.println(\"##### \" + accountNo + \" BankIranWS_NOR.deposit output HOSTDATACHAIN  =>\" + fc44MSGOUT.getHOSTDATACHAIN() + \"<\");\r\n                System.out.println(\"##### \" + accountNo + \" BankIranWS_NOR.deposit output HOSTACKNOWLEDGE=>\" + fc44MSGOUT.getHOSTACKNOWLEDGE() + \"<\");\r\n                System.out.println(\"##### \" + accountNo + \" BankIranWS_NOR.deposit output HOSTMSGNBR     =>\" + fc44MSGOUT.getHOSTMSGNBR() + \"<\");\r\n                System.out.println(\"##### \" + accountNo + \" BankIranWS_NOR.deposit output HOSTEMPTYSEND  =>\" + fc44MSGOUT.getHOSTEMPTYSEND() + \"<\");\r\n                System.out.println(\"##### \" + accountNo + \" BankIranWS_NOR.deposit output FLGGLCD        =>\" + fc44MSGOUT.getFLGGLCD() + \"<\");\r\n                System.out.println(\"##### \" + accountNo + \" BankIranWS_NOR.deposit output Fill1          =>\" + fc44MSGOUT.getFill1() + \"<\");\r\n                System.out.println(\"##### \" + accountNo + \" BankIranWS_NOR.deposit output CUSTNAME1      =>\" + fc44MSGOUT.getCUSTNAME1() + \"<\");\r\n                System.out.println(\"##### \" + accountNo + \" BankIranWS_NOR.deposit output CUSTNAME2      =>\" + fc44MSGOUT.getCUSTNAME2() + \"<\");\r\n                System.out.println(\"##### \" + accountNo + \" BankIranWS_NOR.deposit output CURRBAL        =>\" + fc44MSGOUT.getCURRBAL() + \"<\");\r\n                System.out.println(\"##### \" + accountNo + \" BankIranWS_NOR.deposit output AVALBAL        =>\" + fc44MSGOUT.getAVALBAL() + \"<\");\r\n                System.out.println(\"##### \" + accountNo + \" BankIranWS_NOR.deposit output SHORTNAME      =>\" + fc44MSGOUT.getSHORTNAME() + \"<\");\r\n                System.out.println(\"##### \" + accountNo + \" BankIranWS_NOR.deposit output ACCTCONDITIONS =>\" + fc44MSGOUT.getACCTCONDITIONS() + \"<\");\r\n                System.out.println(\"##### \" + accountNo + \" BankIranWS_NOR.deposit output RESPOFFICER    =>\" + fc44MSGOUT.getRESPOFFICER() + \"<\");\r\n                System.out.println(\"##### \" + accountNo + \" BankIranWS_NOR.deposit output ALERTCODE      =>\" + fc44MSGOUT.getALERTCODE() + \"<\");\r\n                System.out.println(\"##### \" + accountNo + \" BankIranWS_NOR.deposit output ALERTMSG       =>\" + fc44MSGOUT.getALERTMSG() + \"<\");\r\n                System.out.println(\"##### \" + accountNo + \" BankIranWS_NOR.deposit output OFFICERCOMM1   =>\" + fc44MSGOUT.getOFFICERCOMM1() + \"<\");\r\n                System.out.println(\"##### \" + accountNo + \" BankIranWS_NOR.deposit output OFFICERCOMM2   =>\" + fc44MSGOUT.getOFFICERCOMM2() + \"<\");\r\n                System.out.println(\"##### \" + accountNo + \" BankIranWS_NOR.deposit output OFFICERCOMM3   =>\" + fc44MSGOUT.getOFFICERCOMM3() + \"<\");\r\n                System.out.println(\"##### \" + accountNo + \" BankIranWS_NOR.deposit output OFFICERCOMM4   =>\" + fc44MSGOUT.getOFFICERCOMM4() + \"<\");\r\n                System.out.println(\"##### \" + accountNo + \" BankIranWS_NOR.deposit output OFFICERCOMM5   =>\" + fc44MSGOUT.getOFFICERCOMM5() + \"<\");\r\n                System.out.println(\"##### \" + accountNo + \" BankIranWS_NOR.deposit output OFFICERCOMM6   =>\" + fc44MSGOUT.getOFFICERCOMM6() + \"<\");\r\n                System.out.println(\"##### \" + accountNo + \" BankIranWS_NOR.deposit output ORIGKEY        =>\" + fc44MSGOUT.getORIGKEY() + \"<\");\r\n                System.out.println(\"##### \" + accountNo + \" BankIranWS_NOR.deposit output CHARGEAMT44    =>\" + fc44MSGOUT.getCHARGEAMT44() + \"<\");\r\n                System.out.println(\"##### \" + accountNo + \" BankIranWS_NOR.deposit output PSBKFLAG       =>\" + fc44MSGOUT.getPSBKFLAG() + \"<\");\r\n                System.out.println(\"##### \" + accountNo + \" BankIranWS_NOR.deposit output CICSXT         =>\" + fc44MSGOUT.getCICSXT() + \"<\");*/\r\n\r\n                    eb.publish(addressBook.getResult(), body.put(\"FC44MSGOUT\", fc44out), addressBook.getDeliveryOptions().addHeader(\"status\", \"SUCCESS\"));\r\n                    resultOutboundCount++;\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    private void deductionFailed(JsonObject jo, FaultMsg e) {\r\n        deductionFailed(jo, e.getFaultInfo().getFaultstring().getValue());\r\n    }\r\n\r\n    private void deductionFailed(JsonObject jo, String faultMsg) {\r\n        jo.put(\"faultMsg\", faultMsg);\r\n    }\r\n}",
    "fName" : "FC44",
    "theme" : "monokai",
    "outNumber" : 0
  },
  "Trigger" : [ ],
  "Input" : [ "process.56.result" ],
  "Error" : [ "process.128.input" ],
  "Result" : [ "process.128.input" ]
}, {
  "id" : "68",
  "type" : "group",
  "data" : null,
  "" : [ ]
}, {
  "id" : "69",
  "type" : "process",
  "data" : {
    "type" : "process",
    "config" : {
      "worker" : true,
      "instances" : 1
    },
    "setting" : { },
    "lang" : "java",
    "code" : "import com.vx6.master.MasterVerticle;\r\nimport io.vertx.core.Promise;\r\nimport io.vertx.core.eventbus.Message;\r\nimport io.vertx.core.logging.Logger;\r\nimport io.vertx.core.logging.LoggerFactory;\r\nimport io.vertx.core.json.JsonObject;\r\nimport io.vertx.core.shareddata.LocalMap;\r\nimport io.vertx.core.shareddata.SharedData;\r\nimport org.apache.commons.lang3.time.StopWatch;\r\n\r\nimport java.io.IOException;\r\nimport java.io.Reader;\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport java.sql.Statement;\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\n\r\nimport static org.apache.commons.lang3.StringUtils.isNotBlank;\r\n\r\npublic class LoadAccountDB extends MasterVerticle {\r\n    private static final String Cache_Name = \"json_sql_patterns\";\r\n    private final Logger LOGGER = LoggerFactory.getLogger(getClass());\r\n    private SharedData sharedData;\r\n    private LocalMap<String, JsonObject> cache;\r\n    private LocalMap<String, String> accounts;\r\n    private LocalMap<String, String> customers;\r\n    private long accountCount = 0L;\r\n    private long customerCount = 0L;\r\n    private static final String EB_ADDRESS = \"/freeboard/sse/sapta/registery\";\r\n    private int retry = 500000;\r\n    private static JsonObject obrs_db;\r\n    private static Set<String> accountsSet = new HashSet<String>();\r\n    private static String label = \"<h3 style=\\\"margin: 0;\\\">LoadAccountDB</h3>\" +\r\n            \"<h3 style=\\\"display: inline-block; margin: 0;\\\">Accounts Read:&nbsp;</h3>\" +\r\n            \"<h2 style=\\\"display: inline-block; margin: 0;color: %s\\\">%s</h2>\" +\r\n            \"<div><h3 style=\\\"display: inline-block; margin: 0;\\\">Customers Count:&nbsp;</h3>\" +\r\n            \"<h2 style=\\\"display: inline-block; margin: 0;color: %s\\\">%s</h2></div>\" +\r\n            \"<div><h3 style=\\\"display: inline-block; margin: 0;\\\">Accounts List Size:&nbsp;</h3>\" +\r\n            \"<h2 style=\\\"display: inline-block; margin: 0;color: %s\\\">%s</h2></div>\";\r\n\r\n    @Override\r\n    public void start(Promise<Void> startPromise) throws Exception {\r\n        start();\r\n        if (!(config().containsKey(\"dataSource\") && config().getJsonObject(\"dataSource\").containsKey(\"OBRS-DB\")))\r\n            startPromise.fail(\"OBRS-DB data not found on datasource\");\r\n        else {\r\n            obrs_db = config().getJsonObject(\"dataSource\").getJsonObject(\"OBRS-DB\");\r\n            startPromise.complete();\r\n            initialize();\r\n        }\r\n        healthCheck();\r\n    }\r\n\r\n    public void initialize() throws Exception {\r\n        LOGGER.info(\"initialize verticle {\" + this + \"}\");\r\n        sharedData = vertx.sharedData();\r\n        cache = sharedData.getLocalMap(Cache_Name);\r\n        accounts = sharedData.getLocalMap(\"SAPTA_ACCOUNTS_3\");\r\n        customers = sharedData.getLocalMap(\"SAPTA_CUSTOMERS\");\r\n        sendLabels();\r\n    }\r\n\r\n    @Override\r\n    public <T> void process(Message<T> tMessage) {\r\n        resultOutboundCount--;\r\n        if (tMessage.headers().contains(\"cmd\") && tMessage.headers().get(\"cmd\").equalsIgnoreCase(\"status\") &&\r\n                tMessage.headers().contains(\"name\") && tMessage.headers().get(\"name\").equalsIgnoreCase(\"sql\") &&\r\n                accounts.size() == 0) {\r\n            noCmd(tMessage, \"\");\r\n        }\r\n    }\r\n\r\n    private void sendLabels() {\r\n        sendLabel(String.format(label, accountCount == 0 ? \"red\" : \"#0043ff\", accountCount,\r\n                customers.size() == 0 ? \"red\" : \"#0043ff\", customers.size(),\r\n                accounts.size() == 0 ? \"red\" : \"#0043ff\", accounts.size()), \"18ff96\", \"50\", \"efff18\");\r\n    }\r\n\r\n    private boolean extraction(String accountInfo) {\r\n        accountCount++;\r\n        if (accountCount % 500000 == 0)\r\n            sendLabels();\r\n        var split = accountInfo.split(\"\\\\|\");\r\n        if (split.length < 15) {\r\n            System.out.println(\"Defective: \" + accountInfo);\r\n            return true;\r\n        }\r\n        var accountNo = split[0];\r\n        accounts.put(accountNo, accountInfo);\r\n        //System.out.println(\"account: \" + accountInfo);\r\n        accountsSet.add(accountNo);\r\n        var customerId = split[2];\r\n        if (isNotBlank(customerId)) {\r\n            var accountNos = customers.getOrDefault(customerId, \"\");\r\n            if (!accountNos.contains(accountNo)) {\r\n                accountNos += \"|\" + accountNo;\r\n                customers.put(customerId, accountNos);\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public <T> void noCmd(Message<T> tMessage, String cmd) {\r\n        if (cache.containsKey(\"accounts\")) {\r\n            var wasAccountsFull = accounts.size() > 0;\r\n            accountsSet.clear();\r\n            /*String SQL = \"select \\n\" +\r\n                    \"\\t--convert(varchar(9),UniqId) + '|' +   \\n\" +\r\n                    \"\\tconvert(varchar(13),isnull(AccountNo,'null')) + '|' +\\n\" +\r\n                    \"\\tconvert(varchar(10),isnull(Enable,'null')) + '|' +\\n\" +\r\n                    \"\\tconvert(varchar(10),isnull(CustomerId,'null')) + '|' +\\n\" +\r\n                    \"\\tconvert(varchar(100),isnull(TransGroupsStr,'null')) + '|' +\\n\" +\r\n                    \"\\tconvert(varchar(110),isnull(Phones,'null')) + '|' +\\n\" +\r\n                    \"\\tconvert(varchar(10),isnull(AutoRenewRegister,'null')) + '|' +\\n\" +\r\n                    \"\\tconvert(varchar(60),isnull(RemainAmount,'null')) + '|' +\\n\" +\r\n                    \"\\tconvert(varchar(50),isnull(RemainDays,'null')) + '|' +\\n\" +\r\n                    \"\\tisnull(convert(varchar(10),DueDate, 102),'null') + '|' +\\n\" +\r\n                    \"\\tconvert(varchar(10),isnull(LowLimitCredit,'null')) + '|' +\\n\" +\r\n                    \"\\tconvert(varchar(10),isnull(LowLimitDebit,'null')) + '|' +\\n\" +\r\n                    \"\\tisnull(convert(varchar(10),ExpireDate, 102) , 'null')+ '|' +\\n\" +\r\n                    \"\\tisnull(convert(varchar(10),NearExpireNotifyDate, 102),'null')+ '|' +\\n\" +\r\n                    \"\\tisnull(convert(varchar(10),ExpiredNotifyDate, 102) , 'null') + '|' +\\n\" +\r\n                    \"\\t--convert(varchar(23),isnull(EditDT,'null')) + '|' +\\n\" +\r\n                    \"\\tisnull(convert(varchar(10),AutoRenewRegCancelNotifyDate, 102) , 'null') +'\\\\n'\\n\" +\r\n                    \"\\t--convert(varchar(10),isnull(Flag,'null'))\\n\" +\r\n                    \"\\tfrom [TblAccounts3] for XML PATH('')\";*/\r\n            String SQL = cache.get(\"accounts\").getString(\"text\");\r\n            String connectionUrl = \"jdbc:sqlserver://\" + obrs_db.getString(\"ip\") + \":\" + obrs_db.getInteger(\"port\") +\r\n                    \";responseBuffering=adaptive;DatabaseName=\" + obrs_db.getString(\"dbName\") + \";user=\" +\r\n                    obrs_db.getString(\"user\") + \";password=\" + obrs_db.getString(\"pass\");\r\n\r\n            try (Connection con = DriverManager.getConnection(connectionUrl);\r\n                 Statement stmt = con.createStatement();) {\r\n                StopWatch watch = new StopWatch();\r\n                System.out.println(\"Loading DB started!\");\r\n                watch.start();\r\n                ResultSet rs = stmt.executeQuery(SQL);\r\n                StringBuilder remainder = new StringBuilder();\r\n                while (rs.next()) {\r\n                    Reader reader = rs.getCharacterStream(1);\r\n                    if (reader != null) {\r\n                        char[] ac3 = new char[2048];\r\n                        while (reader.read(ac3) != -1) {\r\n                            remainder.append(String.valueOf(ac3));\r\n                            String[] rows = remainder.toString().split(\"\\\\^\");\r\n                            int len = rows.length - 1;\r\n                            if (len > 0) {\r\n                                for (int i = 0; i < len; i++) {\r\n                                    var accountInfo = rows[i];\r\n                                    extraction(accountInfo);\r\n                                }\r\n                            }\r\n                            remainder.setLength(0);\r\n                            remainder.append(rows[len].trim());\r\n                        }\r\n                        reader.close();\r\n                    }\r\n                }\r\n                if (remainder.toString().trim().length() > 0) {\r\n                    System.out.println(\"Remainder: \" + remainder.toString());\r\n                    extraction(remainder.toString());\r\n                }\r\n                con.close();\r\n                if (wasAccountsFull) {\r\n                    Set<String> keySet = accounts.keySet();\r\n                    keySet.forEach(key -> {\r\n                        if (!accountsSet.contains(key))\r\n                            accounts.remove(key);\r\n                    });\r\n                }\r\n                accountsSet.clear();\r\n                sendLabels();\r\n                watch.stop();\r\n                long millis = watch.getTime();  // obtained from StopWatch\r\n                long minutes = (millis / 1000) / 60;\r\n                int seconds = (int) ((millis / 1000) % 60);\r\n                System.out.println(\"Time Elapsed: \" + minutes + \":\" + seconds); // Prints: Time Elapsed: 2501\r\n                eb.publish(addressBook.getResult(), new JsonObject().put(\"msg\", \"AccountDB loaded\").put(\"cmd\", \"browse\"),\r\n                        addressBook.getDeliveryOptions().addHeader(\"cmd\", \"status\").addHeader(\"name\", \"account\"));\r\n                resultOutboundCount++;\r\n                System.out.println(\"accountCount: \" + accountCount);\r\n            } catch (SQLException | IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n    private void metrics() {\r\n        eb.publish(EB_ADDRESS,\r\n                new JsonObject()\r\n                        .put(\"accountCount\", accountCount)\r\n                        .put(\"customerCount\", customers.size())\r\n                        .put(\"accountSize\", accounts.size())\r\n                , addressBook.getDeliveryOptions().addHeader(\"event\", \"initialize\")\r\n                        .addHeader(\"retry\", this.retry + \"\"));\r\n    }\r\n}",
    "fName" : "LoadAccountDB",
    "theme" : "gruvbox",
    "outNumber" : 0
  },
  "Trigger" : [ "switch.74.output" ],
  "Input" : [ "process.100.result" ],
  "Error" : [ ],
  "Result" : [ "process.19.input", "process.143.input" ]
}, {
  "id" : "138",
  "type" : "switch",
  "data" : {
    "type" : "switch",
    "config" : {
      "kind" : "relay",
      "switchName" : "LightGreenToggle"
    },
    "setting" : {
      "_" : {
        "state" : true
      }
    }
  },
  "Output" : [ "file.46.input" ],
  "Input" : [ "process.128.result" ]
}, {
  "id" : "74",
  "type" : "switch",
  "data" : {
    "type" : "switch",
    "config" : {
      "kind" : "trigger",
      "switchName" : "OrangeSubscribeButtons"
    },
    "setting" : {
      "_" : {
        "state" : true,
        "period" : 0,
        "delay" : 0
      }
    }
  },
  "Output" : [ "process.69.trigger" ]
}, {
  "id" : "78",
  "type" : "group",
  "data" : null,
  "" : [ ]
}, {
  "id" : "79",
  "type" : "switch",
  "data" : {
    "type" : "switch",
    "config" : {
      "kind" : "trigger",
      "switchName" : "RedGreenToggleSwitch"
    },
    "setting" : {
      "body" : { },
      "header" : {
        "cmd" : "code"
      },
      "_" : {
        "state" : true,
        "period" : 0,
        "delay" : 0
      }
    }
  },
  "Output" : [ "parquet.81.trigger" ]
}, {
  "id" : "17",
  "type" : "switch",
  "data" : {
    "type" : "switch",
    "config" : {
      "kind" : "trigger",
      "switchName" : "RedGreenToggleSwitch"
    },
    "setting" : {
      "count" : 40,
      "_" : {
        "state" : true,
        "period" : 1000,
        "delay" : 0
      }
    }
  },
  "Output" : [ "process.19.trigger" ]
}, {
  "id" : "143",
  "type" : "process",
  "data" : {
    "type" : "process",
    "lang" : "java",
    "code" : "import com.vx6.master.MasterVerticle;\r\nimport io.vertx.core.Promise;\r\nimport io.vertx.core.eventbus.Message;\r\nimport io.vertx.core.json.JsonArray;\r\nimport io.vertx.core.json.JsonObject;\r\n\r\nimport java.util.Objects;\r\n\r\npublic class Probe extends MasterVerticle {\r\n    private final String className = this.getClass().getName();\r\n    private int process = 0, trigger = 0;\r\n\r\n    @Override\r\n    public void initialize(Promise<Void> initPromise) throws Exception {\r\n        eb.consumer(\"vx.mx\", msg -> {\r\n            try {\r\n                var body = (JsonObject) msg.body();\r\n                if (!Objects.equals(body.getString(\"type\"), \"sync\"))\r\n                    return;\r\n                var time = body.getString(\"time\").substring(14, 16) + \":\" + body.getString(\"time\").substring(17);\r\n                UpdateChart(time);\r\n            } catch (Exception e) {\r\n                //e.printStackTrace();\r\n            }\r\n        });\r\n        initPromise.complete();\r\n    }\r\n\r\n    @Override\r\n    public void process(Message msg) {\r\n        process++;\r\n        System.out.println(className + \"(\" + config().getString(\"id\") + \").Input.body: \" + msg.body());\r\n        //System.out.println(className + \"(\" + config().getString(\"id\") + \").Input.header: \" + msg.headers());\r\n    }\r\n\r\n    @Override\r\n    public void trigger(Message msg) {\r\n        trigger++;\r\n        System.out.println(className + \"(\" + config().getString(\"id\") + \").Trigger.body: \" + msg.body());\r\n        //System.out.println(className + \"(\" + config().getString(\"id\") + \").Trigger.header: \" + msg.headers());\r\n    }\r\n\r\n    @Override\r\n    public <T> void ready(Message<T> tMessage) {\r\n        /*holdOn = false;\r\n        if (autoNext) {\r\n            eb.publish(addressBook.getTrigger(), \"Next message\", new DeliveryOptions().addHeader(\"cmd\", \"next\"));\r\n        }*/\r\n    }\r\n\r\n    private void UpdateChart(String time) {\r\n        JsonObject data = new JsonObject();\r\n        data.put(\"labels\", new JsonArray().add(time));\r\n        data.put(\"datasets\", new JsonArray()\r\n                .add(new JsonObject().put(\"data\", new JsonArray().add(process)))\r\n                .add(new JsonObject().put(\"data\", new JsonArray().add(trigger))));\r\n        sendChart(new JsonObject().put(\"data\", data));\r\n    }\r\n}",
    "fName" : "Probe",
    "theme" : "monokai",
    "outNumber" : 0,
    "config" : {
      "worker" : false,
      "instances" : 1,
      "chart" : {
        "data" : {
          "labels" : [ ],
          "datasets" : [ {
            "label" : "input",
            "data" : [ ],
            "backgroundColor" : "#2ef82a",
            "borderColor" : "#2e880ce6",
            "borderWidth" : 1
          }, {
            "label" : "trigger",
            "data" : [ ],
            "backgroundColor" : "#2ab2f8",
            "borderColor" : "#0c4488e6",
            "borderWidth" : 1
          } ]
        },
        "options" : {
          "scales" : {
            "x" : {
              "stacked" : false
            },
            "y" : {
              "stacked" : false
            }
          },
          "responsive" : true,
          "maintainAspectRatio" : false,
          "resizeDelay" : 0
        },
        "type" : "line",
        "limit" : 30
      }
    },
    "setting" : { }
  },
  "Trigger" : [ "process.19.result" ],
  "Input" : [ "process.69.result" ],
  "Error" : [ ],
  "Result" : [ ]
}, {
  "id" : "19",
  "type" : "process",
  "data" : {
    "type" : "process",
    "lang" : "java",
    "code" : "import Utils.Library;\r\nimport com.ceramic.tools.Account;\r\nimport com.vx6.master.MasterVerticle;\r\nimport io.vertx.core.Promise;\r\nimport io.vertx.core.eventbus.Message;\r\nimport io.vertx.core.json.JsonObject;\r\nimport io.vertx.core.shareddata.LocalMap;\r\nimport io.vertx.core.shareddata.SharedData;\r\n\r\nimport java.text.SimpleDateFormat;\r\n\r\nimport static org.apache.commons.lang3.StringUtils.isNotBlank;\r\n\r\npublic class BrowseAccounts3 extends MasterVerticle {\r\n    private SharedData sharedData;\r\n    private LocalMap<String, String> accounts;\r\n    private boolean browse = false;\r\n    private int count = 0, loc = 0;\r\n    private String[] keySet = new String[0];\r\n    private String datePattern = \"yyyyMMdd\";\r\n    private SimpleDateFormat simpleDateFormat;\r\n    private long nextDate;\r\n    private JsonObject account;\r\n    private int feeDeduct = 0, notDeduct = 0;\r\n    private static String label = \"<h3 style=\\\"margin: 0;\\\">BrowseAccounts3</h3>\" +\r\n            \"<h3 style=\\\"display: inline-block; margin: 0;\\\">Fee Deduct.:&nbsp;</h3>\" +\r\n            \"<h2 style=\\\"display: inline-block; margin: 0;color: blue\\\">%s</h2>\" +\r\n            \"<div><h3 style=\\\"display: inline-block; margin: 0;\\\">Not Deduct.:&nbsp;</h3>\" +\r\n            \"<h2 style=\\\"display: inline-block; margin: 0;color: green\\\">%s</h2></div>\";\r\n\r\n\r\n    @Override\r\n    public void initialize(Promise<Void> initPromise) throws Exception {\r\n        holdOn = false;\r\n        sharedData = vertx.sharedData();\r\n        accounts = sharedData.getLocalMap(\"SAPTA_ACCOUNTS_3\");\r\n        simpleDateFormat = new SimpleDateFormat(datePattern);\r\n        sendLabels();\r\n        initPromise.complete();\r\n    }\r\n\r\n    @Override\r\n    public void process(Message msg) {\r\n        resultOutboundCount--;\r\n        JsonObject body = (JsonObject) msg.body();\r\n        if (body.containsKey(\"cmd\") && body.getString(\"cmd\").equalsIgnoreCase(\"browse\")) {\r\n            browse = true;\r\n            if (accounts.size() > 0)\r\n                vertx.executeBlocking(promise -> {\r\n                    String[] keySet = accounts.keySet().toArray(String[]::new);\r\n                    promise.complete(keySet);\r\n                }, res -> {\r\n                    keySet = (String[]) res.result();\r\n                });\r\n            loc = 0;\r\n        }\r\n        nextDate = Long.parseLong(simpleDateFormat.format(Library.nextDay(setting.getInteger(\"advanceDay\"))));\r\n        System.out.println(\"nextDate: \" + nextDate);\r\n    }\r\n\r\n    @Override\r\n    public <T> void noCmd(Message<T> tMessage, String cmd) {\r\n        if (!holdOn && tMessage.body() instanceof JsonObject) {\r\n            JsonObject body = (JsonObject) tMessage.body();\r\n            if (body.containsKey(\"count\")) {\r\n                count = body.getInteger(\"count\");\r\n                if (loc < keySet.length - 1)\r\n                    browseAccount3();\r\n            }\r\n        }\r\n        sendLabels();\r\n    }\r\n\r\n    private void browseAccount3() {\r\n        if (browse && count > 0) {\r\n            while (count > 0) {\r\n                String strAccount = keySet[loc++];\r\n                String strAccount3 = accounts.get(strAccount);\r\n                System.out.println(strAccount3);\r\n                if (isNotBlank(strAccount3)) {\r\n                    account = Account.csv2json(strAccount3);\r\n                    assert account != null;\r\n                    if (shouldFeeDeduction(account)) {\r\n                        System.out.println(\"Should deduct: \" + account.getString(\"AccountNo\"));\r\n                        eb.publish(addressBook.getResult(), new JsonObject().put(\"accountInfo\", account));\r\n                        resultOutboundCount++;\r\n                        feeDeduct++;\r\n                        --count;\r\n                    } else\r\n                        System.out.println(\"Should not deduct: \" + account.getString(\"AccountNo\"));\r\n                    notDeduct++;\r\n                }\r\n                if (loc == keySet.length) {\r\n                    browse = false;\r\n                    eb.publish(addressBook.getError(), \"Browsing finished for \" + (loc) + \" records.\", addressBook.getDeliveryOptions().addHeader(\"status\", \"BROWSING_FINISHED\"));\r\n                    keySet = new String[0];\r\n                    errorOutboundCount++;\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private boolean shouldFeeDeduction(JsonObject account) {\r\n        if (account.getBoolean(\"Enable\") && account.getBoolean(\"AutoRenewRegister\")) {\r\n            try {\r\n                String dueD = account.getString(\"DueDate\");\r\n                if (dueD == null)\r\n                    dueD = \"99999999\";\r\n                long dueDate = Long.parseLong(dueD.replace(\"-\", \"\"));\r\n                return dueDate < nextDate;\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    protected <T> void control(Message<T> tMessage) {\r\n        String cmd = tMessage.body().toString().toLowerCase();\r\n        switch (cmd) {\r\n            case \"pause\":\r\n                this.holdOn = true;\r\n                break;\r\n            case \"resume\":\r\n                this.holdOn = false;\r\n                break;\r\n            default:\r\n                controlDefault(tMessage);\r\n                break;\r\n        }\r\n    }\r\n\r\n    private void sendLabels() {\r\n        sendLabel(String.format(label, feeDeduct, notDeduct), \"18ff96\", \"50\", \"efff18\");\r\n    }\r\n}",
    "fName" : "BrowseAccounts3",
    "theme" : "monokai",
    "outNumber" : 0,
    "config" : {
      "worker" : false,
      "instances" : 1
    },
    "setting" : {
      "advanceDay" : 2
    }
  },
  "Trigger" : [ "switch.17.output" ],
  "Input" : [ "process.9.result", "process.69.result" ],
  "Error" : [ ],
  "Result" : [ "process.34.input", "process.143.trigger" ]
}, {
  "id" : "7",
  "type" : "switch",
  "data" : {
    "type" : "switch",
    "config" : {
      "kind" : "trigger",
      "switchName" : "SwitchButton3d"
    },
    "setting" : {
      "on" : {
        "header" : {
          "cmd" : "start"
        },
        "body" : {
          "cron_expression" : " 1 * * ? * * *",
          "timezone_name" : "Iran",
          "address" : "WSScheduler.timeup",
          "message" : {
            "command" : "Account3FeeDeduction",
            "BankId" : "NOR",
            "cmd" : "browse",
            "autoNext" : true
          },
          "repeat" : true,
          "action" : "publish",
          "result_address" : "stock.quotes.persist"
        }
      },
      "off" : {
        "header" : {
          "cmd" : "stop"
        },
        "body" : {
          "message" : "Cancel schduler"
        }
      },
      "_" : {
        "state" : false,
        "period" : 0,
        "delay" : 0
      }
    }
  },
  "Output" : [ "process.9.trigger" ]
}, {
  "id" : "9",
  "type" : "process",
  "data" : {
    "type" : "process",
    "config" : {
      "worker" : false,
      "instances" : 1
    },
    "setting" : { },
    "lang" : "java",
    "code" : "import com.vx6.master.MasterVerticle;\r\nimport com.vx6.utils.PersianCalendarBean;\r\nimport io.vertx.core.eventbus.Message;\r\nimport io.vertx.core.json.JsonObject;\r\n\r\nimport java.util.Date;\r\n\r\n\r\npublic class WSScheduler extends MasterVerticle {\r\n    private static final String address_base = \"cron.scheduler\";\r\n    private String schId;\r\n\r\n    @Override\r\n    public <T> void start(Message<T> msg) {\r\n        JsonObject body = (JsonObject) msg.body();\r\n        eb.consumer(body.getString(\"address\"), this::control);\r\n        eb.request(address_base + \".schedule\", body, ar -> {\r\n            if (ar.succeeded()) {\r\n                this.schId = ar.result().body().toString();\r\n                //System.out.println(\"Received reply: \" + ar.result().body());\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public void stop() throws Exception {\r\n        eb.publish(address_base + \".cancel\", schId);\r\n        eb.publish(addressBook.getError(), \"Scheduler \\\"\" + schId + \"\\\" has been canceled!\");\r\n        errorOutboundCount++;\r\n        System.out.println(\"Scheduler has been canceled!\");\r\n    }\r\n\r\n    @Override\r\n    protected  <T> void control(Message<T> msg) {\r\n        if (msg.body() instanceof JsonObject) {\r\n            JsonObject body = (JsonObject) msg.body();\r\n            if (body.containsKey(\"cmd\") && body.getString(\"cmd\").equalsIgnoreCase(\"browse\")) {\r\n                publish(msg);\r\n            }\r\n        }\r\n    }\r\n\r\n    private <T> void publish(Message<T> tMessage) {\r\n        Date date = new Date();\r\n        eb.publish(addressBook.getResult(), ((JsonObject) tMessage.body())\r\n                .put(\"SolarDate\", PersianCalendarBean.getPersianDate(date))\r\n                .put(\"GregorianDate\", date.toString()), addressBook.getDeliveryOptions(tMessage)\r\n                .addHeader(\"SolarDate\", PersianCalendarBean.getPersianDate(date))\r\n                .addHeader(\"GregorianDate\", date.toString()));\r\n        resultOutboundCount++;\r\n    }\r\n}",
    "fName" : "WSScheduler",
    "theme" : "monokai",
    "outNumber" : 0
  },
  "Trigger" : [ "switch.7.output" ],
  "Input" : [ ],
  "Error" : [ ],
  "Result" : [ "process.19.input" ]
}, {
  "id" : "81",
  "type" : "parquet",
  "data" : {
    "type" : "parquet",
    "config" : { },
    "setting" : { },
    "xml" : "<xml xmlns=\"https://developers.google.com/blockly/xml\"><block type=\"xml_element\" id=\")NY;AhXQxsNLIjXcG%TA\" collapsed=\"true\" disabled=\"true\" x=\"38\" y=\"63\"><field name=\"trans\">Active</field><field name=\"tag\">Queries</field><value name=\"attr\"><block type=\"xml_attribute_string\" id=\"bwZxT5=L@_h)k3XpGkiP\"><field name=\"attr\">group</field><field name=\"val\">accounts</field></block></value><statement name=\"childs\"><block type=\"xml_element\" id=\"~3SsYrhK.sWoCd+z:{.,\"><field name=\"trans\">Active</field><field name=\"tag\">Query</field><value name=\"attr\"><block type=\"xml_attribute_string\" id=\",t?DDDe}c@F#y#s#QhOv\"><field name=\"attr\">name</field><field name=\"val\">accounts</field></block></value><statement name=\"childs\"><block type=\"sql_freemarker_concat\" id=\"ueSGI|T/X43~kXpFzlRy\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"7_P7+T:-)!KxZ=w/2CH{\"><field name=\"text\">Select</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"r2b%6UJ9.dsEoIIoE/~4\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"I,tmjCzbKfLW6Sw$ZNQA\"><field name=\"text\">top(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"jB)v~$fGl%jx#kz}E^JK\"><field name=\"text\">2</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"RC5:oNOuj:.SlcrqXaV}\"><field name=\"text\">)</field></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"6iaR14,.CZelt0e?uz%c\" disabled=\"true\"><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"H#|k2LtBc!df8#=p*w:g\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"5H!!jNO%@]x(fS:#%v}(\"><field name=\"text\">convert(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"3c4OG%(u(.TEUV:q%~PB\"><field name=\"text\">varchar(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"0.]qF:oc{rLL|O7FMOzR\"><field name=\"text\">9</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"}2tj26jzMS$z^n+q7(ix\"><field name=\"text\">),</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"S99LQ{]SeJ1z/mEo%0t.\"><field name=\"text\">UniqId</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"7[U]0W34m(V^y)sH!Xh,\"><field name=\"text\">)</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"^#HE!dVF72;m*t:M_lS@\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"rMkyCfqblN.:|},31kR5\"><field name=\"text\">+ '|' +</field></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"JmrsXUIc?WT$!$)EH9Ts\"><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"h4z@N|KgGSThLnxi-.nN\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\";?U=wN6b)/Ya1@[_GVF!\"><field name=\"text\">convert(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"qWx}Jwc`[8;P,*E3]P)7\"><field name=\"text\">varchar(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"yb/yReISX[A7|OF:NK*-\"><field name=\"text\">13</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"v8iB0?)*#KwQ-$+M;{YZ\"><field name=\"text\">),</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"0yp::I/^9{_@hd8xK:8D\"><field name=\"text\">AccountNo</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"Q+Y8iEs*WZut73=GI@W!\"><field name=\"text\">)</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"}.x^veRwd9j-h6U-}-E!\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"rTZF,YwZdp+bzyVCCZL7\"><field name=\"text\">+ '|' +</field></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"+CxM.|z.6C}B0(K*EPGi\"><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"2ZOS_u(Zl3Uo}qzfse9B\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"_t;o[4zum[I0mru+KNY)\"><field name=\"text\">convert(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"wrLNH!Ni6cbKUkV.!w,l\"><field name=\"text\">varchar(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"~Pq.^/TKI^ZeOu][l2W*\"><field name=\"text\">1</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"OQx9]a-/KY(J^VNQMtsM\"><field name=\"text\">),</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"w{;faV#Yz}+2}{h`Uou(\"><field name=\"text\">Enable</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"d(E%;8-ZiM3qflIV9!K%\"><field name=\"text\">)</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"uxj#smDZ2C~irkXmq6M)\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"~3CY!)|`CR=U$#)~0Eze\"><field name=\"text\">+ '|' +</field></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"x2.g(%5jg1*`*aPzsD+0\"><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\":V@O,v^@K05Hak~vUQwR\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"/50rc;w{|vEQE$n9ro6x\"><field name=\"text\">convert(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"%0vlji1VD$9aM7{p!)1B\"><field name=\"text\">varchar(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"tA`MJm76K^g,;B}Nzg)e\"><field name=\"text\">10</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"1MeMRie|,?K7m6$!04xX\"><field name=\"text\">),</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"W5|ucF4L[Ot+LO5(r]%R\"><field name=\"text\">CustomerId</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"@@oD~k72~B23S9FO3W.[\"><field name=\"text\">)</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"mw!8qZ:`/kt4MwpXk*ei\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"xOnGoo`j%7am]6zrM-,-\"><field name=\"text\">+ '|' +</field></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"N`+2FV-o|z~4)Krb5n|f\"><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"/PAbi1UlIXnn=!?Iy[{p\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"0k]I~FOv`:f(k0Rj-!ju\"><field name=\"text\">convert(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"P,Kk,OxhxY1UEKNty=7#\"><field name=\"text\">varchar(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"16?bC3fT]0,8ifTUw?*B\"><field name=\"text\">100</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"YEfYOBbz?r|IgBtU{L+)\"><field name=\"text\">),</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"[/[la[?I(Lk84x)Q6lgm\"><field name=\"text\">TransGroupsStr</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"9GPdjsC*e_MJ[sH`Yf@e\"><field name=\"text\">)</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"JUCpoZ_O4;rI{3Gx{M*F\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"avLJoh5I4]X|w:xb},I!\"><field name=\"text\">+ '|' +</field></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"2[JIx]Tgfj#gC`GpfR/o\"><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"fgv6SK.1{;N[.|GyO$(K\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"na]wnd=g;9i:[_MR/_O0\"><field name=\"text\">convert(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"`m[@A7F|E,P9*+dDA_gn\"><field name=\"text\">varchar(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"|_O44Z{.|XTKQF=YpixW\"><field name=\"text\">110</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"]tT85.=c|(((RZJK2$SC\"><field name=\"text\">),</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"W0AjzcF*)q`6(7kuHMB#\"><field name=\"text\">Phones</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"|^Op^IqU.8Dkp14g~(wn\"><field name=\"text\">)</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"Co~K:H4~|zzE1UYzowQ@\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"xJ-.3z8{u@@o~L[O06Tc\"><field name=\"text\">+ '|' +</field></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\",RS/[~{N0-~r`?K^^D0#\"><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"gv+?b-M(2TmjSq7:!c{W\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"A2cC1=kr5pY?[iu!ZCLS\"><field name=\"text\">convert(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"7/:+_=4D;DHPZ8{9CtEs\"><field name=\"text\">varchar(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"Z6P?kqDT#Ydv2,{sP#lD\"><field name=\"text\">1</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"aBY[`58MEs$Fe7;b-+HW\"><field name=\"text\">),</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"09IDO,`hK`:a`VD9dQ9L\"><field name=\"text\">AutoRenewRegister</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"c9^GYY)t3GM3I=M|i/-1\"><field name=\"text\">)</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\",$C(mV{yxA28}V}arz9z\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\":W$|zuR{/{ylN$%_.gcg\"><field name=\"text\">+ '|' +</field></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"j}`7p,IIbS*F+}L1XIJb\"><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"nZ=8WD7-|z9tVlc@3V/C\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"ZW~B/,pFoR__:JP0f4y]\"><field name=\"text\">convert(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"VDjw]5q^s+GZphe-YDPs\"><field name=\"text\">varchar(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"FErc$}PAuaw$4mPZRcbu\"><field name=\"text\">10</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"TT|tw_OW|G4SofzYOD#}\"><field name=\"text\">),</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"5epexv9m!^Rqao).]ag`\"><field name=\"text\">RemainAmount</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"IQ3)tB{wkTCA5c-mHj+M\"><field name=\"text\">)</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"p5B..e+~6n,FD!jPrx3s\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"7!~j0,2z6h{-TOW8iR10\"><field name=\"text\">+ '|' +</field></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"!u11wsUigjC/Ts%Knf_*\"><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"xR-Ohf-/a{!YNh^umHQ7\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"Q{Z^MQPvSVuf8^VeJ7qU\"><field name=\"text\">convert(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"@JDVhek+`ByL^qCh!/S/\"><field name=\"text\">varchar(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"Q,`aP9LM+`gU,co$NJZ%\"><field name=\"text\">10</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\")pJc77=V)hOCi1rzyHKu\"><field name=\"text\">),</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"J1L2]~WN/|t7P86}O!S|\"><field name=\"text\">RemainDays</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"0BP/3nLs#L;/QME{gIw?\"><field name=\"text\">)</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\":4#^pG,{ufEs{=9,/M9h\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"l:G}j_Vrqu.Lg5E9O/X~\"><field name=\"text\">+ '|' +</field></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"22b9+rWpW2T6{H(feIr3\"><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"C!a17g35uGc9SXvCq-D3\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"1`5X.UYII`u058@5xGZf\"><field name=\"text\">isnull(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"CdnH]f2CzmARgY]yX5GG\"><field name=\"text\">convert(varchar(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"HV[T*Gbw{d)k3oe,mGxc\"><field name=\"text\">10</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"OV*vd7Co`jP2.3PFXW/X\"><field name=\"text\">),</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"unG02py~[14F2QvHHx2^\"><field name=\"text\">DueDate</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"h1xyj2RrQX`v0r!%p;5:\"><field name=\"text\">,126),'null')</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"rZl,sj[ihw+*w`IJz`,)\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"1J.PI-4DgFbruathycfT\"><field name=\"text\">+ '|' +</field></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\";?:o|S5WiD(/T6E$LGz8\"><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"cp94lC@.o`NTOZi)VLm?\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"OU+IwMQu*FY@nGv([tJH\"><field name=\"text\">convert(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"U}i^ZZ51vaXaQ07l`_/_\"><field name=\"text\">varchar(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"bAN.ASC=gl4f$Z_|qQ/@\"><field name=\"text\">10</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"mHZtXl=|B@eeo)WIWnEx\"><field name=\"text\">),</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"/a/ot]-Q$2Fc*3cZ(p89\"><field name=\"text\">LowLimitCredit</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"GCehzzJ@B[+t`h};HczM\"><field name=\"text\">)</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"Lk5ck20/Ew*UUQBM%|dJ\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"^cu~4!E-yV_}ziJMAYGD\"><field name=\"text\">+ '|' +</field></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"`SmleolSgw%=B(bH=HBb\"><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"r~w.D(Siot}:O{b:x9W{\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"a0Dd88(P3^2US)~k.+NP\"><field name=\"text\">convert(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"l6iEEIxf6-qR}]lU1j`+\"><field name=\"text\">varchar(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"Wr;FJXa!rOeS_ZaO7,0i\"><field name=\"text\">10</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"1eMW$l/oh_vx8:SHt%aK\"><field name=\"text\">),</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"L1_F=qVG!EF^-${;+`,W\"><field name=\"text\">LowLimitDebit</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"6Uyw._cDx_vdK.[B#0+L\"><field name=\"text\">)</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"nN*,Y`(;J{1lC#FpuUZC\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\")!S]ghM(1tl^klfREjUV\"><field name=\"text\">+ '|' +</field></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"3m;=~;=b5vjX#/7E;)Kg\"><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"FhHBJ8$_:PgNuz3O[%h(\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\".K8ZW2tjN/|+PtW[u7ay\"><field name=\"text\">isnull(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"z5A5g0yN(f2*^0mTYzO1\"><field name=\"text\">convert(varchar(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"{npW6%UI1*+k2vf^GBVW\"><field name=\"text\">10</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"3DpJzX1fiv9CoeTFr9mg\"><field name=\"text\">),</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"!lkqS^fb!;%vj8F_4e:9\"><field name=\"text\">ExpireDate</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"IF.F$x:LJXA|#IgvqJ;Z\"><field name=\"text\">,126),'null')</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"lhi15G=*BHVFRaQp5v|D\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"EBxa;cIDH3v;^fTn/,WZ\"><field name=\"text\">+ '|' +</field></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"d$6k|lKbUNlVHyC`EuTN\"><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"6xP$h2%a(huJcg-G?,I4\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"Awc:l7~~LT}z]{;=AXY4\"><field name=\"text\">isnull(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"3tkVB^{#gHBqPmgHXo2,\"><field name=\"text\">convert(varchar(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"[12t.K60[])4WzGrElG.\"><field name=\"text\">10</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"+=SBo8%~7okjM0}_KL@C\"><field name=\"text\">),</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"]]wWH)L#/m{Ax{qWZ_^j\"><field name=\"text\">NearExpireNotifyDate</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"70.8K}w|Mf-p3Ls!$WcQ\"><field name=\"text\">,126),'null')</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"-]%BosUvh8`LG/qh8?7f\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"_.7Ud#X~IjznpBA?8W!a\"><field name=\"text\">+ '|' +</field></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"e^O5fXIG~6H@8)vMNA?9\"><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"]tps*TyTw/hG^Ofz((]s\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"K{pdq|KbhBXL5S,c}:BM\"><field name=\"text\">isnull(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"K={@M0ylLp}?koik,p~@\"><field name=\"text\">convert(varchar(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"rgQa9zJ-NmGS0+O%LMy|\"><field name=\"text\">10</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"(Bg9^j.q#B}pq[F^BU;#\"><field name=\"text\">),</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"{0D!_kpop9p3DoVTNp1J\"><field name=\"text\">ExpiredNotifyDate</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\";N_;ujaFo9C]#@zA`-xp\"><field name=\"text\">,126),'null')</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"0(n?C{J-A/{J55z]I!=`\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"rRd`W[V[OmhLo8#/fm[D\"><field name=\"text\">+ '|' +</field></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"}.vd%it.%?4?J%[%{`yx\"><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"oNdZhfQ`TLJFCE45=xTY\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"~eG_]NZXp0K/wNI~-,eo\"><field name=\"text\">isnull(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"ZU~zQZDk_MLZD1g=ro|y\"><field name=\"text\">convert(varchar(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"?FagBusaa%``e1eTcmIG\"><field name=\"text\">23</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"44bmKMDyn[T_#}if%M@|\"><field name=\"text\">),</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\":z-7Y_a)!L)L_3Tf,^T6\"><field name=\"text\">EditDT</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"=v5f!wz.OZ%N9$,+/4GU\"><field name=\"text\">,120),'null')</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"LD$YYiCLo!{7J)~w]w}i\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"QkL(B%H`1=KjIWu$:#hF\"><field name=\"text\">+ '|' +</field></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"I2C.5_/.W/vQVSfMJLs(\"><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"IVet_|xpnY*DMO!$)$c]\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"Cbi}@{q7X5h76.bsc*j@\"><field name=\"text\">isnull(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"1D$72!}0Q0}U).7G/vi8\"><field name=\"text\">convert(varchar(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"IYgBfeyX}PbA{^186(eg\"><field name=\"text\">10</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\",RVd2Y!V:ci+zfpgGu]1\"><field name=\"text\">),</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"3J;M[[6r},bzfLvWY_Fv\"><field name=\"text\">AutoRenewRegCancelNotifyDate</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"gCW=ODrdcF5qQ})p*/*$\"><field name=\"text\">,126),'null')</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"QaVQE$AhTHDFIs%Shp6x\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"hc(x3UIrkZ=N:lxW[I1u\"><field name=\"text\">+ '|' +</field></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"~Q9%@D=vU87]O0S+jYjA\"><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"xzTCfleeLQ]D=)Wuf*Le\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"ox[36BT{Sn*wFd!q]!-h\"><field name=\"text\">isnull(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"Y7@,wf/5?u?36cf.i^pH\"><field name=\"text\">convert(varchar(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"@3b06MMmVy4a+]TXG4w@\"><field name=\"text\">4</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"zhwf%quCDW*W3uHqc:DD\"><field name=\"text\">),</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"Y0Zoq7#]{hr79PJ}7[h_\"><field name=\"text\">Flag</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"@bLf|%clNMC|N/@,z(n`\"><field name=\"text\">),'null')</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"#dR]s)T%744vabpmQd7p\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"4(aVng];N.@M40Zg[0?U\"><field name=\"text\">+ '^' </field></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"3L9xxvpwR[(=U:@%jZw|\"><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"YQYT|Cq8OrR@S}y)??PN\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"pY.u^g;!(]T)2fQ3_~,V\"><field name=\"text\">from</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"$Ou;c:LSfR?R=SAm])a#\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"BV#6eO[chz*LcA!+QN1L\"><field name=\"text\">[dbo].[TblAccounts3]</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"b|u2D^QE7B.OBqYSv?sH\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"98N#Jw#XfnY!k!d?tj~!\"><field name=\"text\">for</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"Xq|x686:Qf-6}S]c@M:%\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"_B2%qqsjW433G$-`UPGK\"><field name=\"text\">XML</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"glGi7Qm{FPRc{+VtZ$LZ\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"Bk,[]vtux|xvP~8f_=R3\"><field name=\"text\">PATH('');</field></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></statement><next><block type=\"xml_element\" id=\"|5x@f|CC|%!TWWt1BgVM\"><field name=\"trans\">Active</field><field name=\"tag\">Queries</field><value name=\"attr\"><block type=\"xml_attribute_string\" id=\"iqdh3N^=RTl-4++xYihq\"><field name=\"attr\">group</field><field name=\"val\">accounts</field></block></value><statement name=\"childs\"><block type=\"xml_element\" id=\"TKl,(2KEY:3@zwNCDzT+\"><field name=\"trans\">Active</field><field name=\"tag\">Query</field><value name=\"attr\"><block type=\"xml_attribute_string\" id=\"DKqavqh*T9UOU}nfs{Z|\"><field name=\"attr\">name</field><field name=\"val\">accounts</field></block></value><statement name=\"childs\"><block type=\"sql_freemarker_concat\" id=\"j[[UX[G?M_b3fhPROQ/T\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"7dRv|-0^R2w_2QY:mUi3\"><field name=\"text\">Select</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"=gJKJKA;M.9s7x=#U1~b\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"[Z0f6{}HOKPjJn?xyVZ~\"><field name=\"text\">top(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"}.`iA_h.enZu^lIgN5E~\"><field name=\"text\">2</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"`EV|27`s`9@E{0`VHgRm\"><field name=\"text\">)</field></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"o2dz^RGs8,B_BfAURV;9\" disabled=\"true\"><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"AMtdC[3J)q#!4F|x@O_(\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"*X=^Em5GGK%ig3qjU)Qu\"><field name=\"text\">convert(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"9Z(j=br[2qg:Tgs;YdOV\"><field name=\"text\">varchar(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"nFBq+9(WO=}e,n]+j;*E\"><field name=\"text\">9</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"_cgdQi:/-kTg?T~8um$4\"><field name=\"text\">),</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"UubRRTfT0BrGrT0K~eqI\"><field name=\"text\">UniqId</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"14wK#@d*Q11rjfg|/fa$\"><field name=\"text\">)</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"XBd!J{0~wc[ZbtNbkCYC\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"*=lHE;^Rh;t5^#Ne^=mw\"><field name=\"text\">+ '|' +</field></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"mx7s0Wxs(9;,~`ceRk1i\"><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"?V,c?8yN7D+{}J+-toss\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"t5e0_GhrwO_8?I=5=+Th\"><field name=\"text\">convert(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"13ZbdG1*Bp~gGigoK$^1\"><field name=\"text\">varchar(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"-0_32e$iI`BQATb9~L+X\"><field name=\"text\">13</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\")w[aiH$uUZPd*.O#)IW:\"><field name=\"text\">),</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"2]z3f9+6U!sFNJc@/,J=\"><field name=\"text\">AccountNo</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"s{|`nG@8%bjx95!-)Vf4\"><field name=\"text\">)</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"8gJJFVAx)G^t{5PBVN3j\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"3y{d06k7G_Tr;]2!bCM-\"><field name=\"text\">+ '|' +</field></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"QKUfD)JSqckemW^$/Eo#\"><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"qPt`C%)ji.4P~)}TMxse\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"9^7Y:NmbUisYS[HtgaLw\"><field name=\"text\">convert(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"xlht*(zn[q9^-b=,{xXL\"><field name=\"text\">varchar(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"Yr7]eHj[MOu2+B;B[|H{\"><field name=\"text\">1</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"gSSBRH8v^_KRFU!0~[fO\"><field name=\"text\">),</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"_sS6f}`]l7C,tW7IL32-\"><field name=\"text\">Enable</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"Azt-Z+T=UQgzr%dbQ*?q\"><field name=\"text\">)</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\":{sr61p4fx1O4u?i)`:{\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"p/XKJM:rY,-ZhQ9~[[}k\"><field name=\"text\">+ '|' +</field></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"x,2HFeV@nH9FctJKbD-/\"><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"W,!gUcFKekDa;vO$kHWx\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"N_MtileyGhCncQ3kU#(e\"><field name=\"text\">convert(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"b|a23$rO3xu}O=.[m?R^\"><field name=\"text\">varchar(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"$Otg,Dk{iAip?zuf,2h#\"><field name=\"text\">10</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"Q/k6iir)H9em8U(QpsO.\"><field name=\"text\">),</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"R,-nIOu%[^|aM$Is-/UB\"><field name=\"text\">CustomerId</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"xZ9?DY]MBs$?9hcA*EFC\"><field name=\"text\">)</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"#1#RaHP~X];c8!kg9S{z\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"wZ2Z%8}ib9?CEUm]j3q?\"><field name=\"text\">+ '|' +</field></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"t-I{eUDaXOY/zO),{-~]\"><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"9YR|/DtA,9E@%RyeIxt)\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"?2N~r%Y(%fx2FMO/{b:6\"><field name=\"text\">convert(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"cH@r?am~NUp=yy8X`LK_\"><field name=\"text\">varchar(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"b]lXM4n@uQDQ~N]Mj#.F\"><field name=\"text\">100</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"U6,-7EVRcsH~EsUSm*;l\"><field name=\"text\">),</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"4|v?vypS=!YdH4=@@8Vp\"><field name=\"text\">TransGroupsStr</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"4WY=Pc5Bpza]ThmNxRc}\"><field name=\"text\">)</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"rfK4-/wPAL0}k=$4^Ia6\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"K50*V?i1~.ezv38rr(WR\"><field name=\"text\">+ '|' +</field></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"}]Y{}+dV4*$dIxBx0=y2\"><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"r|Riju![XbMN@#o%.gCD\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"W$B#1Gi_QN?c/xG)/=uu\"><field name=\"text\">convert(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"90~,h|ZNKIUSxt%1)KBA\"><field name=\"text\">varchar(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"_AQacy2JR^uyfMo+(%iP\"><field name=\"text\">110</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"wwm)L/cJ?FUA(U^[|QVf\"><field name=\"text\">),</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"=]NDF7OXP;94E-,T@u-l\"><field name=\"text\">Phones</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"%_MO~PpJG{5(RW4:gW=Y\"><field name=\"text\">)</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"_rdCHkHZgJS5VIRegO2P\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"wy|WA})B{B3E+9rq_P0R\"><field name=\"text\">+ '|' +</field></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"M^3U{|@_GQGPC,i@Gm%_\"><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"3fWh+]l%qhD`pvNkC7-G\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"UJxH$DV!H:!s]L3St/n$\"><field name=\"text\">convert(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"026)cad:nY^Jub=o~Tkz\"><field name=\"text\">varchar(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"~wV%9O~LCIP{=F^:zD@k\"><field name=\"text\">1</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\",+uif[iK+F~6l3RE7Fc?\"><field name=\"text\">),</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\")J`5RN2=hUj|J-u6+u.a\"><field name=\"text\">AutoRenewRegister</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"9y9)-.ZC.(fxjh.c]EIs\"><field name=\"text\">)</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"9%+7f3W@BzKO79/Oe8[m\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"*lnv1KDPGO^4Iqmq1kp0\"><field name=\"text\">+ '|' +</field></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"iCeHVTQy`ykT^9pfBD1N\"><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"xG00Q:(x#L([$Z^Q:15w\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"y}r=Q}w05RE%SW.U](kJ\"><field name=\"text\">convert(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"(Fn~PA?fHt}9~w0J_#u1\"><field name=\"text\">varchar(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"V{HHR?#LjJ2#|)#6qkjV\"><field name=\"text\">10</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"XffgV#9Hc+FP3uLuMHc4\"><field name=\"text\">),</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"WOM)CWVq.Lp6.UW=H+rF\"><field name=\"text\">RemainAmount</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"t}6:.i6GKVnQx/:F+g9l\"><field name=\"text\">)</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"0!4+4_vrr]aac=h#/WSF\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"^(+-03oJtK6y+^DPum@Z\"><field name=\"text\">+ '|' +</field></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"b~a@WO:o%RR!D;sGeH]j\"><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"j#Y8paQxMYn~n{xH8(n7\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"fZ~YRa:~9I!~_^f{$G3/\"><field name=\"text\">convert(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"bWAHG-4FIJJQPEh(G)kl\"><field name=\"text\">varchar(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"Z2v!(d6l09xOjXZKPuV2\"><field name=\"text\">10</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"p.hXBwi9*m?0,*W_:rB;\"><field name=\"text\">),</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"!_VLoE[8J=743JJ4Up)q\"><field name=\"text\">RemainDays</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"o8t|0GgxG7g3a]b!SLf#\"><field name=\"text\">)</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\")s2eKrzUwNKY6[d3+Bz`\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"~ykFHNf`~I8?TS6=a|qK\"><field name=\"text\">+ '|' +</field></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"5S2U5vk.z?GkogR}]Lk8\"><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"k.gA];TeJdPcXM=tFbGa\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"gy/ic$78Wa?Ok6NB5E|+\"><field name=\"text\">isnull(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"GoETVBJ_=Skl]24=!~xF\"><field name=\"text\">convert(varchar(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"D9`eQ?Vmrho8{j}X-oPo\"><field name=\"text\">10</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"u~bai2qLXQFm@)*5;_jz\"><field name=\"text\">),</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"M/vR$QodrQMme/tpVpim\"><field name=\"text\">DueDate</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"(}*[{t$q+V2F{qc|N@w@\"><field name=\"text\">,126),'null')</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"fTW9M((Uq~hB;YiTK:?r\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\",`Oe[kmchVXZ4^*W0WYc\"><field name=\"text\">+ '|' +</field></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"Q^Zmz{c3K_~,]8FWiePI\"><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"8;%@ARPCOs~JZ/Qrzxzt\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"#AK4UQ3wliBUSIvuK/~O\"><field name=\"text\">convert(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"+slAyh`nfj[eNO7XydyD\"><field name=\"text\">varchar(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"q1B?80_N{QiTO~G!O;Yz\"><field name=\"text\">10</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"Jw9$bDYms)|Z`mL|~L2{\"><field name=\"text\">),</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"2:Fn{ABw@19a)EW@eAr8\"><field name=\"text\">LowLimitCredit</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"FsO-[L0~ia{nbCA%g[?R\"><field name=\"text\">)</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"fq.d3IG:d$OqpMRnk@3h\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"(l/qwIdVEg9]z,=q8H?6\"><field name=\"text\">+ '|' +</field></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"XD|Yj{ft^1JA/~E%*LJy\"><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"glQ/8L[r)sMVyPJvPcAH\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\")4XeRuhH_o(Y+/8H/Pw8\"><field name=\"text\">convert(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"%UM@D.B(E)ikmt9E(%6=\"><field name=\"text\">varchar(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"X.U-Vc3*g2z|rucKO1^2\"><field name=\"text\">10</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"JSqx=%2Yk8tx;H^5!YK(\"><field name=\"text\">),</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"bhkL?nc3z6B0sE`1KE+;\"><field name=\"text\">LowLimitDebit</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"ca]^rHk1}2U__^c/:`uN\"><field name=\"text\">)</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"cNh)8dUG#+N-71`ZuPdB\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"12Hy_eR=q=fQ!H#:VjjS\"><field name=\"text\">+ '|' +</field></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"3(fiDPxs?ayL_T|cq4gH\"><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"P!xCZ_`;hGvaszwVa,bj\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"4xya])ij[H~46|h%@HJh\"><field name=\"text\">isnull(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"ZPEu/xHBEQ_?H7h,VaI)\"><field name=\"text\">convert(varchar(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"EefeH(RiTAo-dI#y0ii:\"><field name=\"text\">10</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"pNpvSmoEF!j[+|7,F/eH\"><field name=\"text\">),</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"P7h.Ria}qMMGQqBhl6Dh\"><field name=\"text\">ExpireDate</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"#,wPcO+P[:{4LF.QS(C}\"><field name=\"text\">,126),'null')</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"o$AKMLH7$eG-/G5r{tzy\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"+TD|V(xrBA!FCy~HiW{?\"><field name=\"text\">+ '|' +</field></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"w0Jx[!XbM~doxVs9t/Mw\"><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"l_oZBgU7.~f6tFx,I+!!\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"hB/at[Sr1Z2lKUqpB,Vd\"><field name=\"text\">isnull(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"G5z@1.(8?n6x.M]y{ela\"><field name=\"text\">convert(varchar(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"U`E9Mw4Qspnn-GA[oP=/\"><field name=\"text\">10</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"z/m?RIRa/#,~%merZe{5\"><field name=\"text\">),</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"x|SO.7//N^SJmV$=!9wT\"><field name=\"text\">NearExpireNotifyDate</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"u9ts+i4a%BbC=|(8Q[j-\"><field name=\"text\">,126),'null')</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"~mR~7G80n4wEohG$lrt+\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"/LmvIUTf89KB~sj7I}f4\"><field name=\"text\">+ '|' +</field></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"kvZnsblqXN4MQ~XL7stU\"><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"tFok0%.GvZFrb4mUF9I^\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"xoiwSIi|Iblsn-$|{/0f\"><field name=\"text\">isnull(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"o?0McI)((7d#ta6|Vfs+\"><field name=\"text\">convert(varchar(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"^I,,A=-Z:6_y*,Ig{TAw\"><field name=\"text\">10</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"0fBK8-u|0l;;|LuR;DHz\"><field name=\"text\">),</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"R34=~6TK_#jK*o%`Q-fQ\"><field name=\"text\">ExpiredNotifyDate</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"64X]sut0u./THou0FcV%\"><field name=\"text\">,126),'null')</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"/^+@yStVWyx.5hrfu~Qm\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"=:{KEBm*/Ns9#Nhqm9p1\"><field name=\"text\">+ '|' +</field></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"5X,?z*CAV^[qP=oa4*o;\"><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"TUBQmT.=favjVSLE7bpJ\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"_~!=|UzyL:q-[WSU@!Bz\"><field name=\"text\">isnull(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"f!G0iUAF;H^xKfhIQA`I\"><field name=\"text\">convert(varchar(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"=1Xw=0=GLVoi88L`L.gu\"><field name=\"text\">23</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"^./I!]=[~EEw90k[wo;(\"><field name=\"text\">),</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"34@wrH;}R_]w|/l]CB;Q\"><field name=\"text\">EditDT</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"ako3,eB)vOs;Gbn:S`PT\"><field name=\"text\">,120),'null')</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"HHI`jMXtI#tRiSLC#lS`\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"GXqxaU3vl=l-a6*@[mlc\"><field name=\"text\">+ '|' +</field></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"%d)hXh7YPWu/1UaN,BkZ\"><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"QT!6N~Y6(#azO~cV?4?F\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\")Z.Na*{.[op+}0-N6Zmq\"><field name=\"text\">isnull(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"aA%44{4[?t-p0(KEq)zf\"><field name=\"text\">convert(varchar(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"~ZEB8Z3n5F~6~6#p)7-P\"><field name=\"text\">10</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"pIEhs*IP9AM`O%KfAfwm\"><field name=\"text\">),</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"ot3XAozc*MJF#`cT*?Ra\"><field name=\"text\">AutoRenewRegCancelNotifyDate</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"*6EK3rM6IKtAC!M^v-L^\"><field name=\"text\">,126),'null')</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"TyfA%WkUbzva4%eO*)KW\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"uj616rxrq!5*MRa}nepd\"><field name=\"text\">+ '|' +</field></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"J.fVH(7C|j5zPORQWeki\"><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"cX^i0*cDwXWdpC|_(Ecv\" disabled=\"true\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"Da~LKS)+9YU:E)kT}1SW\"><field name=\"text\">isnull(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"aKw6o_s{`8R)[Q?#FLDO\"><field name=\"text\">convert(varchar(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"-s8#vu0i-|gJ=](E=lq;\"><field name=\"text\">4</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"3Yvz2P!rbHdZAu.d({)8\"><field name=\"text\">),</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"x%Q#W*0KQsJJX[GH3)HG\"><field name=\"text\">Flag</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"7j-9mNEPtP#Zzjdd*4pl\"><field name=\"text\">),'null')</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\":FV5n_7Afy,+IVXyTbr|\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"DF}ZFf@A%jJib8SGsPpb\"><field name=\"text\">+ '^' </field></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"WpzLgzpOO-fY;{9NgcfE\"><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"{Ro1hgY=sxB+4(/Qdhi`\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"xq}KuL1G^:UP!Fpe6-jb\"><field name=\"text\"> '^' </field></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"jYJET_?{lMKlGP$C!Kol\"><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"BVYW^N2UGI~X^0f1u-u9\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\".nCP0^C)An{/O%r{%*#R\"><field name=\"text\">from</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"n[R{t9*X@2w$:dbJf22$\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"e%{!Y@;1yxu:vxquoo;^\"><field name=\"text\">[dbo].[TblAccounts3]</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"(m_~o.p;!E!P:!xH}F^(\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"C^[X_$gFG[~tej~8^[Gu\"><field name=\"text\">for</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"A`tF!Uj`Cg2!DU!QlKwX\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"m!`@[qxN/%DWB_{4EXQt\"><field name=\"text\">XML</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"./IVRl]Z)8!dFv!Rt2xv\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"pmnb(Atwr=u.3/tqC/xJ\"><field name=\"text\">PATH('');</field></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></statement></block></next></block><block type=\"xml_element\" id=\"wTx@caP^aG2s6T!.g8QX\" x=\"1513\" y=\"62\"><field name=\"trans\">Active</field><field name=\"tag\">Queries</field><value name=\"attr\"><block type=\"xml_attribute_string\" id=\"AC^FU{o!3S2}BEU7D7v}\"><field name=\"attr\">group</field><field name=\"val\">registry</field></block></value><statement name=\"childs\"><block type=\"xml_element\" id=\"m0?5PQiy1bHo`_+{Qqjr\"><field name=\"trans\">Active</field><field name=\"tag\">Query</field><value name=\"attr\"><block type=\"xml_attribute_string\" id=\"lE}li(fRuKQ*em7[J[^?\"><field name=\"attr\">name</field><field name=\"val\">updateQuery</field></block></value><statement name=\"childs\"><block type=\"sql_freemarker_concat\" id=\"v7)Saq]0Mc?D.eBvx1|H\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\")+Cp#=Jf)T1s$Wala04S\"><field name=\"text\">Update</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"y0egS4I;a/#2`[-2Ys[U\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"HjZ##W3?uVEi.Hv`=a@L\"><field name=\"text\">[dbo].[TblAccounts3]</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"/vc@DT4LC.47wZG6ixv.\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"/loG4^jo($C|rg/!{b18\"><field name=\"text\">set</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"zX-j|;qTP(c$Vbvs_-#D\"/></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"n+cx=KMO4+eFp|,@+7AQ\"><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"(v6ac0{!$HNbR,xBM:Bt\"><field name=\"pre\">CustomerId = '</field><field name=\"interpolate\">CustomerId</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"_8Gssr[hdvcsJMOLLon]\"><field name=\"pre\">[Enable] = '</field><field name=\"interpolate\">Enable</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"dr|wP^qbb9T:g[Ay(r-z\"><field name=\"pre\">TransGroupsStr = '</field><field name=\"interpolate\">TransGroupsStr</field><field name=\"post\">', </field></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"vlzxm;LG:E]zYm#QD.l*\"><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"8`Z%sEIgoohR_KtQW[zb\"><field name=\"pre\">Phones = '</field><field name=\"interpolate\">Phones</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"90TIvpP;f_p%*{eemLXQ\"><field name=\"pre\">RemainAmount = </field><field name=\"interpolate\">RemainAmount</field><field name=\"post\">, </field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"#dR$ml9Lq+lAySg/`RnH\"><field name=\"pre\">RemainDays = </field><field name=\"interpolate\">RemainDays</field><field name=\"post\">, </field></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"I##XJ*^X%*ys9EQ~l2`%\"><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"[}ZC_e63n1Qyf!,$f=0}\"><field name=\"pre\">DueDate = '</field><field name=\"interpolate\">DueDate!\"\"</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"`o^.t7xeR,q)AuDE.Ho$\"><field name=\"pre\">LowLimitCredit = </field><field name=\"interpolate\">LowLimitCredit</field><field name=\"post\">, </field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"eKAo@Z:glnVU*S?-T.72\"><field name=\"pre\">LowLimitDebit = </field><field name=\"interpolate\">LowLimitDebit</field><field name=\"post\">, </field></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"pMZ_c1u/F5(N!p^.$c,3\"><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"u[tXlFf8x`-^i7U6UlCX\"><field name=\"pre\">NearExpireNotifyDate = '</field><field name=\"interpolate\">NearExpireNotifyDate!\"\"</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"Lfwa9JdQkjJ1C`O.zjX)\"><field name=\"pre\">ExpiredNotifyDate = '</field><field name=\"interpolate\">ExpiredNotifyDate!\"\"</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"mqk(}gmTR[p$:qt!^IPN\"><field name=\"pre\">[ExpireDate] = '</field><field name=\"interpolate\">ExpireDate</field><field name=\"post\">', </field></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"jC7/UV2)I;;bH|W-wYkl\"><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"dmRPD_xB$H-C8)d9C(Wj\"><field name=\"pre\">AutoRenewRegister = '</field><field name=\"interpolate\">AutoRenewRegister</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"u89J7{JoSgAaB%OAu*7!\"><field name=\"pre\">AutoRenewRegCancelNotifyDate = '</field><field name=\"interpolate\">AutoRenewRegCancelNotifyDate!\"\"</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"u6?u(Q0bno00nH{[V,o`\"><field name=\"text\">EditDT = </field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"fjXBTBL*+_R9lk_~7W=(\"><field name=\"text\">getDate() </field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"v;L-4JJUyTZw+k`hJ+.[\" disabled=\"true\"><field name=\"pre\">EditDT = '</field><field name=\"interpolate\">EditDT</field><field name=\"post\">' </field></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"os[Z^6nUYewh:;U56_7t\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"bZe|b;,UDWg55Rd-1f}I\"><field name=\"text\">where </field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"f.$P=/V[tvMxHVij+K/c\"><field name=\"pre\">AccountNo = '</field><field name=\"interpolate\">AccountNo</field><field name=\"post\">';</field></block></value></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></statement><next><block type=\"xml_element\" id=\"74{DD*XbyqRn%KX?(M#P\"><field name=\"trans\">Active</field><field name=\"tag\">Query</field><value name=\"attr\"><block type=\"xml_attribute_string\" id=\"t7mb[BAC!2oupK5@f=cw\"><field name=\"attr\">name</field><field name=\"val\">insertQuery</field></block></value><statement name=\"childs\"><block type=\"sql_freemarker_concat\" id=\"h*V#Cc=Pq-;1ECyx~pw1\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"lT84F]6|[Xz)mP%HUOIe\"><field name=\"text\">Insert into</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"953n/OWaRhN8EMm%qBS#\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"{W7Vlah1/[J7[b}R?mRw\"><field name=\"text\">[dbo].[TblAccounts3]</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"#_Pl}s~rd58fIWJxbhGq\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"T=j4TUwy=wcHp+j$dkzH\"><field name=\"text\">(</field></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"CimkkgXR..8e{)_?t*Ha\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"U3W9RJs2xtU=LI5901i.\"><field name=\"text\">AccountNo,</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"s:,+3A3kvKWLED|Bgok1\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"5r-Jm7]Snhb:V`~jggD!\"><field name=\"text\">[Enable],</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"rof4LiP$O%g$8yAqu~5*\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"]l,hSC?QsN9wKaE11!i1\"><field name=\"text\">CustomerId,</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"=_xyb5S$hA4;H%u|iY75\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"EX%dt.rwD9+;0(`oWwsq\"><field name=\"text\">TransGroupsStr,</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"DbKirE`@3MsbNpS2Kz!{\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"%$f*m37c|3u(0.,fw4M*\"><field name=\"text\">Phones,</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"qlRx%Bz0BP~$qb9+@be`\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"9]Ll]G2[hcou`/(.~%eV\"><field name=\"text\">RemainAmount,</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\";iW9j.^0o]o,WySG[Efl\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"AQO#Ii~KfX[Y)]zBclU`\"><field name=\"text\">RemainDays,</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"x*zC+9HO^,%y{5P:R]M0\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"AFV..uExCjb,*MghPL|e\"><field name=\"text\">DueDate,</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"L**Kw@Q$H]-Wqq/cwqN(\"/></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"c:5l?;$YKo(oODo}om2E\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"Jx6Lzc,-*YIt1+!iGu?w\"><field name=\"text\">LowLimitCredit,</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"Daqi/J4Tg7L]5T[RraGb\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"/2fx:LZ__lnb~-}o77L~\"><field name=\"text\">LowLimitDebit,</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"%xl-lMh-@qoyycF95R1O\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"Py6lvo.@yzD;ZVOQTQhf\"><field name=\"text\">NearExpireNotifyDate,</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\":Zs+RkcO.1gb7@!i=Q*?\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"WM]S*aENI-0nJlc`ucq)\"><field name=\"text\">ExpiredNotifyDate,</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"v9VgN(/yOx0.H.uRXL8C\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"%UX.gF=kOC(N?aMJK)Lt\"><field name=\"text\">[ExpireDate],</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"Q?-B6nN-wCjm)6wLfcS6\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"7|qJ6(yLsdXNufh96b@1\"><field name=\"text\">AutoRenewRegister,</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"T;o**(g6JIx)^t*n2MVH\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"gzC}y!]+/2[O%wi60)-)\"><field name=\"text\">AutoRenewRegCancelNotifyDate,</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"5l^ut$0s]@8va#%DJ.]`\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"54J53wAh)$ZKtgRu`Vac\"><field name=\"text\">EditDT) </field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"py2_wYi],~`0CKIG8rkU\"/></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"l]8!_lARZ]y5?(.F_lZp\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"*YlVF!i6$q[H]TFE5`W:\"><field name=\"text\">values (</field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"nh%5OC|wrWLdM8Y-l+IX\"><field name=\"pre\">'</field><field name=\"interpolate\">AccountNo</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"P+(iIY8q+`,a;;|KHr(7\"><field name=\"pre\">'</field><field name=\"interpolate\">Enable</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"U5(BZO]Oae`6{pxirC[{\"><field name=\"pre\">'</field><field name=\"interpolate\">CustomerId</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"lU@~)uBWsKr8sPa=r)CH\"><field name=\"pre\">'</field><field name=\"interpolate\">TransGroupsStr</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"q,1Ie-JZO!q^60^Zbtv4\"><field name=\"pre\">'</field><field name=\"interpolate\">Phones</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_freemarker_interpolate\" id=\"XQZt-Uy9at#^`|s;xMAG\"><field name=\"FIELD\">RemainAmount</field><value name=\"INPUT\"><block type=\"sql_freemarker_text\" id=\"uijaj4+6p*,aL@u]VMYT\"><field name=\"text\">, </field><value name=\"NAME\"><block type=\"sql_freemarker_interpolate\" id=\"0=/Xj0!EvT%FmN:]#ki*\"><field name=\"FIELD\">RemainDays</field><value name=\"INPUT\"><block type=\"sql_freemarker_text\" id=\"Xp0$!Ult7.+wwL8zs!e-\"><field name=\"text\">,</field><value name=\"NAME\"><block type=\"sql_freemarker_has_content\" id=\"g6d@@BY?d1vwJixb/V6;\"><field name=\"text\">DueDate</field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"DVjnDL4CQ~4Q9KU-SP,/\"><field name=\"pre\"> '</field><field name=\"interpolate\">DueDate</field><field name=\"post\">'</field><value name=\"NAME\"><block type=\"sql_freemarker_else\" id=\"Jp/qj7QYBjRpe/AU,g{G\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"uCjp(W|6nH-b!,!%(n?U\"><field name=\"text\">null</field></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"eRqf)#yN%X9~z_7lI7!f\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"E-wCV^|lQhTs+HDX?C)*\"><field name=\"text\">,</field><value name=\"NAME\"><block type=\"sql_freemarker_interpolate\" id=\"Gto,Rwf$~hS5e~k8N?L~\"><field name=\"FIELD\">LowLimitCredit</field><value name=\"INPUT\"><block type=\"sql_freemarker_text\" id=\"K,F#QFymgEti2g+s]:zl\"><field name=\"text\">, </field><value name=\"NAME\"><block type=\"sql_freemarker_interpolate\" id=\"b#ZLgWQO|locpz(c8}Ts\"><field name=\"FIELD\">LowLimitDebit</field></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"XZ.!+xCD.s%^x_oG=w.y\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"H~,=630di;`pBbo)1I)z\"><field name=\"text\">, </field><value name=\"NAME\"><block type=\"sql_freemarker_if_exists\" id=\"IvB5-8e^ddPbtZr|IMM)\"><field name=\"text\">NearExpireNotifyDate</field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"QEA$JO7^65n7qv%b`2Ac\"><field name=\"pre\"> '</field><field name=\"interpolate\">NearExpireNotifyDate</field><field name=\"post\">'</field><value name=\"NAME\"><block type=\"sql_freemarker_else\" id=\"GG,d+`~#S,Avqh!5M{%w\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"Bn`{xy@5EL#/$/+cj/^D\"><field name=\"text\">null</field></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"G|:4hVb2(0_OX[{6?x6Y\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"tIIOv~$Ao4g4h*p-3!i=\"><field name=\"text\">, </field><value name=\"NAME\"><block type=\"sql_freemarker_if_exists\" id=\"9MZdffN0_bSMAk=ON{Vm\"><field name=\"text\">ExpiredNotifyDate</field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"2Go%0a8pFjCVeshN_^vb\"><field name=\"pre\"> '</field><field name=\"interpolate\">ExpiredNotifyDate</field><field name=\"post\">'</field><value name=\"NAME\"><block type=\"sql_freemarker_else\" id=\"12Yirp)+37X[Ic92DsEJ\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"OPwC%lrYJQrc-TN_(Bz7\"><field name=\"text\">null</field></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"e[cLrWM@+^e3^;.gy5^^\"><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"l(tCNbL+H/v@g?G6g}xd\"><field name=\"pre\">, '</field><field name=\"interpolate\">ExpireDate</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\")eSW$]^4|Br7c~CVMCd;\"><field name=\"pre\">'</field><field name=\"interpolate\">AutoRenewRegister</field><field name=\"post\">', </field></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"XOtVE32+RR`!n=AECMWp\"><value name=\"NAME\"><block type=\"sql_freemarker_if_exists\" id=\"a[SU@7RpZ4F1_g-Ftuu|\"><field name=\"text\">AutoRenewRegCancelNotifyDate</field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"UA/?9,3E0wF@{/7BSFqq\"><field name=\"pre\"> '</field><field name=\"interpolate\">AutoRenewRegCancelNotifyDate</field><field name=\"post\">'</field><value name=\"NAME\"><block type=\"sql_freemarker_else\" id=\"-H@s_~(jMh!3Gug)aOhg\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"990AZX?hLIA])GmKInq3\"><field name=\"text\">null</field></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"ZDJHFWHn{m..h@QLFMvv\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"@hDuV$[SP*uykn/`YV^V\"><field name=\"text\">, </field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"4l85HksrLnlf=b{6[^b^\"><field name=\"text\">getDate());</field></block></value></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement><next><block type=\"xml_element\" id=\"XILYR~hhZ*zJ}|}qp2?4\"><field name=\"trans\">Active</field><field name=\"tag\">Query</field><value name=\"attr\"><block type=\"xml_attribute_string\" id=\"nI;fUC5=oZ){:Oo-7Jr}\"><field name=\"attr\">name</field><field name=\"val\">historyQuery</field></block></value><statement name=\"childs\"><block type=\"sql_freemarker_concat\" id=\"Gsds@q7S47,^ysn47B5M\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"OA#xLt_mBBFH`i:ta+h8\"><field name=\"text\">Insert into</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"qU!k%o/#jqBJEM!0o:sH\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"I$C~ub#O/t]0u8XzaP9J\"><field name=\"text\">[dbo].[TblAccounts3History]</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"F2@CEs!,U.{,c#+9!;z@\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"%;#D5[UnI|7mgD*.=!|Y\"><field name=\"text\">(</field></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"Lm=ylg)7$tVWgTQnUxuY\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"2{U(FD121?T!WCo5}N=y\"><field name=\"text\">AccountNo,</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\".eDr871nf@-~=wPUj($:\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"iN`JBnLCBe94qWHWwdXl\"><field name=\"text\">[Enable],</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"K/$Ns[c?G#?{;l;32=qi\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"hKT/9dBQ%]I_%#2BJbq7\"><field name=\"text\">CustomerId,</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"?3o4#CUB={.4_B%G2x_=\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"qq;l2`jq]p!?}HiK]7R4\"><field name=\"text\">TransGroupsStr,</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"~yg)gbR;6gA|CGmpj0#d\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"=q}Ut_LJ8~Pt3kYrh+f$\"><field name=\"text\">Phones,</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"JEO_N+FX{J43`jHW?i-[\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\":^mhyEt.?U=um=(oR.XA\"><field name=\"text\">RemainAmount,</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"=VwK5ZF,W:BJdG|8PLk]\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"qaUIuQ{7v*i7k?.K3s|P\"><field name=\"text\">RemainDays,</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"1G1+Nf0IlqOc{z}(*LmZ\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"wXS8JvVDGg}H/~|`CbK?\"><field name=\"text\">DueDate,</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"yf5|z4%bZ|d|j.1wMn+2\"/></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"6.dWSMKX|U$l*WAJQ)DY\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"_^[ZT~7kSbmSrAXlKf[y\"><field name=\"text\">LowLimitCredit,</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\";vC%XA9T7QPB`r9E{80a\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"n8yJtYJhdK(uLt7DM.6H\"><field name=\"text\">LowLimitDebit,</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"-2@K;VjBMVw7}33eb:k,\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"Ex0F00?@BILT-e~O8Jp#\"><field name=\"text\">[ExpireDate],</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"X3E/9$.[[J]WD{XBE#W}\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"/69wDlVc4r-=0Xm/4TC|\"><field name=\"text\">NearExpireNotifyDate,</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"]gg8eGM53U}b*(5rZewK\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"gtu,6Ea9~X)YWgiueAw1\"><field name=\"text\">ExpiredNotifyDate,</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"3p~Oqbb,2M4-jYPF9kyG\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\")F6IdES0|-[+K+x:aG_M\"><field name=\"text\">EditDT,</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"i,/Eiy`#;SJhSDj/)%p6\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"kjj.OM)zZ/VC^m%4Nl3U\"><field name=\"text\">AutoRenewRegister,</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\";|){[sy]d%K..*V-#}ES\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"N=/Jnc~Rgd=G]+*T,]Pm\"><field name=\"text\">AutoRenewRegCancelNotifyDate,</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"mWJL6.Ehm_1R.ByN[U[Q\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"nBrm=U=(43Vx^a;SGwHn\"><field name=\"text\">Flag)</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"#15-8R4Vk3fNo`WC{Ps~\"/></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"T;_eL$L8FympGs0#?7c#\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"T60[1j81t4*juqXBcDsw\"><field name=\"text\">values (</field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"`1)02Ib/H{`ss+@HMGt8\"><field name=\"pre\">'</field><field name=\"interpolate\">AccountNo</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"WN,`F?sMHPaXd`!5H,9t\"><field name=\"pre\">'</field><field name=\"interpolate\">Enable</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"qGI~vn`b)#JFiaLIWa?F\"><field name=\"pre\">'</field><field name=\"interpolate\">CustomerId</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"+S#y[z/dFaS9fv]!P?Pc\"><field name=\"pre\">'</field><field name=\"interpolate\">TransGroupsStr</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"3M{MN?.V~-KG!V-1b.aW\"><field name=\"pre\">'</field><field name=\"interpolate\">Phones</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_freemarker_interpolate\" id=\"[}y^6U_g|{L_]Q^E}J}P\"><field name=\"FIELD\">RemainAmount</field><value name=\"INPUT\"><block type=\"sql_freemarker_text\" id=\"baK:XG[=jv:VN^Kg![9L\"><field name=\"text\">, </field><value name=\"NAME\"><block type=\"sql_freemarker_interpolate\" id=\"A];EnNIh1}BIW[@k}p?f\"><field name=\"FIELD\">RemainDays</field><value name=\"INPUT\"><block type=\"sql_freemarker_text\" id=\"^H,3tTeUtBK`U05$]?NR\"><field name=\"text\">,</field><value name=\"NAME\"><block type=\"sql_freemarker_if_exists\" id=\"!x8Uh5x?Q=7_n6)DS79%\"><field name=\"text\">DueDate</field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"5;6stiPmD{qG3VH.Tt~T\"><field name=\"pre\"> '</field><field name=\"interpolate\">DueDate</field><field name=\"post\">'</field><value name=\"NAME\"><block type=\"sql_freemarker_else\" id=\"tvP)^W%KNQRxbyj9Npk^\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"QkEmpnWi|eA*,%p9C6f=\"><field name=\"text\">null</field></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"crR}L;kCb?_R~KFk;7`1\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"Ie;yiZI^ZQ6.CmN$v^gd\"><field name=\"text\">, </field><value name=\"NAME\"><block type=\"sql_freemarker_interpolate\" id=\"X7n4uIo+kn3t1Ju:N1hM\"><field name=\"FIELD\">LowLimitCredit</field><value name=\"INPUT\"><block type=\"sql_freemarker_text\" id=\"KOcDp0,=r9Eg#8i]KHu#\"><field name=\"text\">, </field><value name=\"NAME\"><block type=\"sql_freemarker_interpolate\" id=\"Egb~w}+yWNlXpC*F2[uL\"><field name=\"FIELD\">LowLimitDebit</field><value name=\"INPUT\"><block type=\"sql_interpolate_statement\" id=\"i3+MT2z~Tk)92J2uwF~Q\"><field name=\"pre\">, '</field><field name=\"interpolate\">ExpireDate</field><field name=\"post\">', </field></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"H!cYGJ}YW-|cX^LEV?!H\"><value name=\"NAME\"><block type=\"sql_freemarker_if_exists\" id=\"8r)cl(!P=(*x=~M]y+|h\"><field name=\"text\">NearExpireNotifyDate</field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"6S$.ftZ2~?tT5DrsLw[R\"><field name=\"pre\"> '</field><field name=\"interpolate\">NearExpireNotifyDate</field><field name=\"post\">'</field><value name=\"NAME\"><block type=\"sql_freemarker_else\" id=\"*BZhO6qeccKhtNm$-,)7\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"33c*VeB5q2]J[T!r-iA@\"><field name=\"text\">null</field></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"C]RPAC;?c#FzPliGx!*Y\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"#$G(gBmdd+#-$$ogRxr3\"><field name=\"text\">, </field><value name=\"NAME\"><block type=\"sql_freemarker_if_exists\" id=\"p%-;=CV4CE[U3.4mj{vR\"><field name=\"text\">ExpiredNotifyDate</field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"#]mz@w@:Oyuvk!JN[JgO\"><field name=\"pre\"> '</field><field name=\"interpolate\">ExpiredNotifyDate</field><field name=\"post\">'</field><value name=\"NAME\"><block type=\"sql_freemarker_else\" id=\"Q#RSt-(_t,w.6mj0*V~t\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"k?Qv:TOCo%.jcrxdW@Tn\"><field name=\"text\">null</field></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\";2EiTLET2FrWiU+)cUi~\"><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"$A/Mz:nIVwKn|o8SV.*c\"><field name=\"pre\">, '</field><field name=\"interpolate\">EditDT</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"YH[!E91IwMYa10,c3x3C\"><field name=\"pre\">'</field><field name=\"interpolate\">AutoRenewRegister</field><field name=\"post\">', </field></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"uZ/%oIgyNLVJ8H+!f]Oc\"><value name=\"NAME\"><block type=\"sql_freemarker_if_exists\" id=\"F-vh5w^7HJJk/MF4z9t;\"><field name=\"text\">AutoRenewRegCancelNotifyDate</field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"qe4uxi1JauLhZ^0KXvBw\"><field name=\"pre\"> '</field><field name=\"interpolate\">AutoRenewRegCancelNotifyDate</field><field name=\"post\">'</field><value name=\"NAME\"><block type=\"sql_freemarker_else\" id=\"Z;[cs!Iy]KSXw$VPnfSL\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"0(1QW@BO.@c*$yUo+.#f\"><field name=\"text\">null</field></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"1PnKe]FZ@A0@.}^i^8vn\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"8LCi,BZ|2sa3Nj1Fts@I\"><field name=\"text\">, </field><value name=\"NAME\"><block type=\"sql_freemarker_interpolate\" id=\"X#k!2E,LFzn+Ue:7]Qcc\"><field name=\"FIELD\">Flag!\"null\"</field><value name=\"INPUT\"><block type=\"sql_freemarker_text\" id=\"6d(w4A}a3[.8[^;s#Ut~\"><field name=\"text\">);</field></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"xZ;:qI|gSv,(8W:xuw*{\"/></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement><next><block type=\"xml_element\" id=\"JKw#]ERZP;nelM=attZ0\"><field name=\"trans\">Active</field><field name=\"tag\">Query</field><value name=\"attr\"><block type=\"xml_attribute_string\" id=\"{H)+dA0)D:[%aG+8gV-F\"><field name=\"attr\">name</field><field name=\"val\">registerQuery</field></block></value><statement name=\"childs\"><block type=\"sql_freemarker_concat\" id=\"a7ge;s9,rC/,R+QX~oqO\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"1C04J5zxbM4NT$gcDsbJ\"><field name=\"text\">Insert into</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"$fl@Jh~FYyXIl^xr`1ra\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"32R.pRnpk3zh|]d,1Dl0\"><field name=\"text\">[dbo].[tblRegister3]</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"C?bPNCO=j-}h;}:C)[gB\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"2jUI=6uBNCC+hBeV~Bn5\"><field name=\"text\">(</field></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"XDwX9#LUJy!/,~C4!E#6\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"Yr35UX=`bope7zgHKvg.\"><field name=\"text\">[CreateDT],</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"lA.Eg?N0q]]o3@hqd4al\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"{X.1Qq)c5Yi0VL#`G%r]\"><field name=\"text\">[Command],</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"F%Vlvp:W)p5o^v^4ZL1g\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"c8-^l{e!`@U%]i:aUdRV\"><field name=\"text\">[AccountNo],</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"Wm3jc;$/r$GF~xRtVgKx\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"+St|nxke^1#!c(s_Ksa-\"><field name=\"text\">[CustomerId],</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"RnDh51mIT]s|FMkNc^,]\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"zv^?|z5V%Il=oi_000)A\"><field name=\"text\">[PhoneNo],</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"88^qHkepGS?:5i7U5{Pf\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"%@7i1Kf]8d?u$zavEdh[\"><field name=\"text\">[ExpireDate],</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"0:A]|%KXW`B{Xb?zh4VA\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"ujuoE)v7HT*[A];{g$r9\"><field name=\"text\">[LowLimitCredit],</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"XZVd*a}-9BFTLI%y|tt)\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"Ctn2P^w2UBkp%k@QiL|7\"><field name=\"text\">[TransactionGroupNames],</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"=Z+DpF^RB4DKVB$b/Rd)\"/></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"E-MTSqWOmDfM%vq5MO6L\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"b`A,93_$85-d!N$=(Q0f\"><field name=\"text\">[CreditItemName],</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"yWXk~tKGB0e..6RFY=+0\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"Q6lvN0R2qTYqJ$d]Iq@J\"><field name=\"text\">[ExtraPhoneNo],</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\".*Ul7m?g1l;0X.nX:AY[\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"hxVKx|KcDObpWST1MlF6\"><field name=\"text\">[LanguageCode],</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"T!Q#1omz$K!_!cZ!DyY4\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"W38t!h:ct05Tzfh3QmzO\"><field name=\"text\">[CmdDate],</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"@MFHppAYFMwmg})/i-mf\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"ZUoyz|GZ3II((#0[i+iN\"><field name=\"text\">[CmdTime],</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"pwZ0gVhnd:p4M7$1/DL}\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"9k6MN.!.vt-f-C/9BR2v\"><field name=\"text\">[Branch],</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"`DiZKVO|]{M7|+_JLL3u\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"}[XSTOW:E}Y1V.}-a61{\"><field name=\"text\">[TerminalId],</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"po01^G4]8UCYG(Z`wZ[v\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"X9-}AsJzWp:8:L]u8oZW\"><field name=\"text\">[user])</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"KL:-pS0,sfNw/p|!8v4H\"/></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"Xrmu%/)1RpItnz4p}OSA\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"VNMU%zC;S,Vh/o1%vbr]\"><field name=\"text\">values (</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"}OAZzhuheU9jt8e!L~Xr\"><field name=\"text\">getDate(), </field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"a?lb}qq]z2IuHUAB^{d$\"><field name=\"pre\">'</field><field name=\"interpolate\">COMMAND</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"jg^^4CXQtqW46;3Wx0LM\"><field name=\"pre\">'</field><field name=\"interpolate\">ACCOUNTNO</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"$;lIZk/cT:LRx[`fC|zv\"><field name=\"pre\">'</field><field name=\"interpolate\">CUSTOMERID</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"_p2Rd9?JE89Gf!-`L|i)\"><field name=\"pre\">'</field><field name=\"interpolate\">PHONENO</field><field name=\"post\">', </field></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"qH0Pkosh|/AD=mS%=L_2\"><value name=\"NAME\"><block type=\"sql_freemarker_has_content\" id=\"a)/V_W+mYJz(jytU,xSt\"><field name=\"text\">EXPIREDATE</field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"env^e7::@Lk1^KC.:2Fa\"><field name=\"pre\">'</field><field name=\"interpolate\">EXPIREDATE</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_freemarker_else\" id=\"wHs|XOrtRY#+Pugf=_DV\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"JhM]kTgY9tG)|0[2jsD.\"><field name=\"text\">null, </field></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"m5AQAU#CDV,kK*n.|*ga\"><value name=\"NAME\"><block type=\"sql_freemarker_has_content\" id=\"ZN{Xkzl}?k:LN}B)7yWh\"><field name=\"text\">LOWLIMITCREDIT</field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"r+3Q(4|n]v,RdWJm+8rS\"><field name=\"pre\">'</field><field name=\"interpolate\">LOWLIMITCREDIT</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_freemarker_else\" id=\"|HXzD~W~o,5GK~ylpu/n\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"?mU5pS[(pMf+W`~gD`iB\"><field name=\"text\">null, </field></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"I?;P-ac;8C1%#LTsYZ#/\"><value name=\"NAME\"><block type=\"sql_freemarker_has_content\" id=\"CMA6-:^9/XTa^7*{rgH~\"><field name=\"text\">TRANSACTIONGROUPNAMES</field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"5kIVY4]%oM$gaV2#NdIg\"><field name=\"pre\">'</field><field name=\"interpolate\">TRANSACTIONGROUPNAMES</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_freemarker_else\" id=\"T==yfFvVXQ^?9@s,TgUY\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"rnZ-9IH!YJvJr_%NiB^P\"><field name=\"text\">null, </field></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"KqoR99]D7pb#Pypl~S%~\"><value name=\"NAME\"><block type=\"sql_freemarker_has_content\" id=\"DNxk5Val-f@wNL23f!0G\"><field name=\"text\">CREDITITEMNAME</field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"@Ni?X]9rppvq!E3ya4O-\"><field name=\"pre\">'</field><field name=\"interpolate\">CREDITITEMNAME</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_freemarker_else\" id=\"eE:u[8Ng2$qLJGM,gA!4\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\";*$0}MC#%6Nkw,zxFukk\"><field name=\"text\">null, </field></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"WNLwBeC9;1x3=`,]a)rw\"><value name=\"NAME\"><block type=\"sql_freemarker_has_content\" id=\"ay=}wy_%}jz7O_RIOnZo\"><field name=\"text\">EXTRAPHONENO</field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"%;2rz4${,+JegNQD=$P@\"><field name=\"pre\">'</field><field name=\"interpolate\">EXTRAPHONENO</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_freemarker_else\" id=\".)L7k.{?307JSvv:yIe1\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"xz}WL}rU%uTdb_Fuuna`\"><field name=\"text\">null, </field></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"$|u9/#DbZ3=`|-Yddm=]\"><value name=\"NAME\"><block type=\"sql_freemarker_has_content\" id=\"V%D!5M/RiDSK+dD+z6k(\"><field name=\"text\">LANGUAGECODE</field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"aaxUC{wn9B]@O#x;?JX|\"><field name=\"pre\">'</field><field name=\"interpolate\">LANGUAGECODE</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_freemarker_else\" id=\"If81J*PBmRN4?E|.Te#{\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"Mkmr(%ghS/ztjoRc1dtl\"><field name=\"text\">null, </field></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"ki(p3S3ixeY^7##xyupN\"><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"T+{Wx[gZo)t_8a#{yiL)\"><field name=\"pre\">'</field><field name=\"interpolate\">CMDDATE</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"o/pH1q/EErJ{JxOXpeZ%\"><field name=\"pre\">'</field><field name=\"interpolate\">CMDTIME</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"xy`,%STn(qQ^]+C6VfTq\"><field name=\"pre\">'</field><field name=\"interpolate\">BRANCH</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\")lPZyHT^KlUgc:zzxWL^\"><field name=\"pre\">'</field><field name=\"interpolate\">TERMINALID</field><field name=\"post\">', </field><value name=\"NAME\"><block type=\"sql_interpolate_statement\" id=\"oMwYMs{:e2(pQoK}v{6h\"><field name=\"pre\">'</field><field name=\"interpolate\">USER</field><field name=\"post\">'); </field></block></value></block></value></block></value></block></value></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></statement></block><block type=\"xml_element\" id=\"-~MCk:d:b:,[iYYYL}p_\" x=\"37\" y=\"787\"><field name=\"trans\">Active</field><field name=\"tag\">Queries</field><value name=\"attr\"><block type=\"xml_attribute_string\" id=\"8-yAwQBMAm@niRp,UO2?\"><field name=\"attr\">group</field><field name=\"val\">report</field></block></value><statement name=\"childs\"><block type=\"xml_element\" id=\"W0?)6SH8LDySnu56@S(E\"><field name=\"trans\">Active</field><field name=\"tag\">Query</field><value name=\"attr\"><block type=\"xml_attribute_string\" id=\"*,inN@O}E3,@h*lk4F7G\"><field name=\"attr\">name</field><field name=\"val\">repdel</field></block></value><statement name=\"childs\"><block type=\"sql_freemarker_concat\" id=\"s+Uvm{pwcskEh-yYlQ;#\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"!O/GJbAfOgXQbc^*IW.$\"><field name=\"text\">select</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"9.4dI[m%ZZF}+BxAx!x5\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"oow:*H]oH%MNg8Gp[LeG\"><field name=\"text\">accountNo</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"%!FxYaD1)d,m~1are:b*\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"l|*p7HG+[7kU3IZB6(RX\"><field name=\"text\">from</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"9Eo)pb*?F~~goVtzEn3)\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"ssC2NR~CS0H6x;}n^Gh}\"><field name=\"text\">tblAccounts3</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"K!C}U3^r?Ac1LZ4xrq6R\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"V-vzX:7!cr4$]7_Zf28c\"><field name=\"text\">where</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"uIiw|%fzn!=En-2+]8qE\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"=!8~,Q:N*VZ_d*Z+J!~Z\"><field name=\"text\">accountNo</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"i{:I`$M6Z-TuA-O0E|-=\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"ZnxZJ`+l}3$}Jr~?jtX)\"><field name=\"text\">=</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"Se3?EtvgSsyPE@^AMoee\"><value name=\"NAME\"><block type=\"sql_freemarker_interpolate\" id=\")IrD%c_Mr*|gy`z[y)_D\"><field name=\"FIELD\">accountNo</field></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></statement><next><block type=\"xml_element\" id=\"1;8tsboUI(J}x}U_E$Mv\"><field name=\"trans\">Active</field><field name=\"tag\">Query</field><value name=\"attr\"><block type=\"xml_attribute_string\" id=\"AHjel0Vuv2hWZg8=l+`{\"><field name=\"attr\">name</field><field name=\"val\">repaccount</field></block></value><statement name=\"childs\"><block type=\"sql_freemarker_concat\" id=\"9V=py?-XpI#R4ml%uDRb\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"]#WolEzTo@L:A/j4ev-z\"><field name=\"text\">Select</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"r-dTy=SxESrOwBr5ptGP\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"kHHW9Y9=m;nHLObO|-9t\"><field name=\"text\">A.AccountNo</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"z.+fq]j[vkrv2Pb=u/~/\"><field name=\"text\">, </field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"AcHG(.4FMhv$WXR6cqD3\"><field name=\"text\">A.Enable</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"0Y|PK`slp~j_.lG.JKN!\"><field name=\"text\">, </field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"NaV}boCl%Ht:.D0r5NLY\"><field name=\"text\">A.Phones</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"oQ%SLapc%S/blJNw;X6l\"><field name=\"text\">, </field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"$f79*)@klQQZ^%*WneZy\"><field name=\"text\">A.TransGroupsStr</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"irZF[yTu{=FT/+^;`0^o\"><field name=\"text\">, </field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"2]`WQhoQ^4;zNA*I$sXP\"><field name=\"text\">A.RemainAmount</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"zwVvjvxN?vCnJ*%:jCOm\"><field name=\"text\">, </field></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"oZ_7jEpSn+HdfB4KWiEB\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"_np;2b0M5//gkW]4kn`#\"><field name=\"text\">A.RemainDays</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"lH@ZA+[{|gdiC0k)mWkA\"><field name=\"text\">, </field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"^Y-gHSp)JQT[^D@{]1gP\"><field name=\"text\">A.DueDate</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"qu8@(8k:s})@{KAWl`9Y\"><field name=\"text\">, </field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"(X,V?x%cAJfqo~z0k4nL\"><field name=\"text\">A.LowLimitCredit</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"HqQ!%GaPF88I?$S4jb`T\"><field name=\"text\">, </field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"BUb_dZ#,:;;n3r6.%h7f\"><field name=\"text\">A.LowLimitDebit</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"WM9ISuKIy(c|{aK2/,BK\"><field name=\"text\">, </field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"bApwpI8#px+Gu$OQ)=+h\"><field name=\"text\">A.ExpireDate</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\",pxH}as?WT?7aU;*cwr/\"><field name=\"text\">, </field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\";D-W}J_NWB]Kj;w;3K.H\"><field name=\"text\">R.Branch</field></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"iSf+8yrN7MxiQaGE2C-H\"><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"dFuBe?j^+Euu=RNc_PIV\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"/!TfR)qsWxn5+UOzh]M(\"><field name=\"text\">from</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"DJu(I_JnFr0J(O{?BPr2\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"_1;pS%@s[pRO^fvW?m;=\"><field name=\"text\">TblAccounts3</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"j@W[Ep5ur5eI:HcX?|],\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"Lp?|-Ui/-qu0`3.K:ZiN\"><field name=\"text\">as A</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"_ZfzlQ(#ESRszv^lQk)R\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"-/sfAN.w|.3BlPY$8TFp\"><field name=\"text\">left outer join (</field></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"GMO,a}?81oY1r6!A8H~{\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"zyunN`q~vDxMtpNLwK.O\"><field name=\"text\">Select * from (</field></block></value><next><block type=\"sql_freemarker_concat\" id=\"pr[X=V`4uwAnN|/g9)qA\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"f1m)}%Jk4CAZXkcWy}7`\"><field name=\"text\">Select</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"^KIrx}{9hBWOsWn?]V=B\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"%-:9[Gl:u,Bf9e(Uk{uj\"><field name=\"text\">ROW_NUMBER()</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"q#WthX1hInf`YTo}PLma\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"Or,aMjQaS0PXtb{/;vX7\"><field name=\"text\">OVER(</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"$%^,:#sJ3]FCU[vK=bnu\"><field name=\"text\">PARTITION BY</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"{W5oA0XS,(A6JJbkTN}y\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"Q,p9W#[|fU~{g-FS{(os\"><field name=\"text\">AccountNo</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"zHMjcq8R_`H$j/Td-BIA\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"*4jFgdG#H[?4e|U`F)Et\"><field name=\"text\">ORDER BY</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"i3{j780{$$[C*3(GU|zP\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"Cc-:FcL?PAbYFPfAExlE\"><field name=\"text\">CmdDate</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"]d2-H!5ODy,Om/:.M8Ne\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"1WmWTAeJG0+nkm5xzlZA\"><field name=\"text\">DESC,</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"IRYHvB}8XI)*w~h1q70.\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"`fJv|^=m6wm:Q9pRkWvM\"><field name=\"text\">CmdTime</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"7$Ygf?HZd*.,{I!+:K)9\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"BFj^4A#^/E:YRNH`]iyG\"><field name=\"text\">DESC)</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"iQvoC*80P-F?:IRXL7I_\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"h|ZoVrd;s%o9(^~+pBB(\"><field name=\"text\">AS</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"NppgoD;MoSu8*n,M1.Jm\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"6%C]{2!OUf2zy^sxP^|5\"><field name=\"text\">RowN, *</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"OzqvLI)(TTTv(vQntF.;\"/></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"f5iXMNkn!IR?.woM=iq)\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"ebXt:srh,wt6{/W#1WA9\"><field name=\"text\">from</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\",U[WVD+_f=,Zsr[OF_!x\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"h_^_{,S3$O;JT-Cuz;8Q\"><field name=\"text\">tblRegister3</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"+tzF|o{-YcF-K#$gtEZl\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"Z,I_WrcNmV(SLBob}Gce\"><field name=\"text\">where Command = </field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"zxMuwIK5C2[Qx.35pa!D\"><field name=\"text\">'ADDACCOUNT'</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"+A3_C;g#p0k?#A{hIdYd\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"QSX2U(x1uYQk=#GL{!MK\"><field name=\"text\">or Command = </field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"T4+axGib{kv5=yev$#+F\"><field name=\"text\">'ADDCREDITITEM'</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"R%IUDlkKfobC{X+L?88y\"><field name=\"text\">) as B</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"*P)I$XOijuh|9gXIN(ZD\"/></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"m3?R`X$EYLP^hox]$l_b\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"*zyPviykxwv|H~J;0mqd\"><field name=\"text\">where</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\";9UxCkQ96]BTRmANx5?_\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"L~R`a?c=4aKELTLUk?~J\"><field name=\"text\">B.RowN</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"OsyP?e!0-3%E=i`PTBg7\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"H}_*/yox|6v},eT^hzQ!\"><field name=\"text\">= 1</field><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"nERI*]=inJ_exfP:V[H`\"><field name=\"text\">) as R</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\";X/rfQE_vh*uDYK7zNcx\"/></value></block></value></block></value></block></value></block></value></block></value></block></value><next><block type=\"sql_freemarker_concat\" id=\"dR$L;M.1S*xM.@4_E.UO\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"ikT!n:Sl(dp{R6}x8oDn\"><field name=\"text\">on</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"-u1hh$mALt[F[L})V~z~\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\".n*x!txy3^_#vHI3t`sN\"><field name=\"text\">A.AccountNo</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"[W49QvAm^P@G;!l_:7~@\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"%by5r2A1g0s1a{-#8+U~\"><field name=\"text\">=</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"X8OuJlz#dopUjX3=9)xz\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"lQYwRK@.Y0]01zcW6v/a\"><field name=\"text\">R.AccountNo</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"f$N.xXX1MNSJ[/Pb;4CB\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"uX`j,5JpEYAf3W(2;j)6\"><field name=\"text\">order by</field><value name=\"NAME\"><block type=\"sql_freemarker_space\" id=\"!5XFS#rcaQ.60z)aw=}W\"><value name=\"NAME\"><block type=\"sql_freemarker_text\" id=\"4svAz9r{/PcX@Qm%HkI9\"><field name=\"text\">A.AccountNo</field></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></statement></block></xml>",
    "code" : "<Queries group = \"accounts\" >  <Query name = \"accounts\" >  Select top(2) convert(varchar(13),AccountNo) + '|' + convert(varchar(1),Enable) + '|' + convert(varchar(10),CustomerId) + '|' + convert(varchar(100),TransGroupsStr) + '|' + convert(varchar(110),Phones) + '|' + convert(varchar(1),AutoRenewRegister) + '|' + convert(varchar(10),RemainAmount) + '|' + convert(varchar(10),RemainDays) + '|' + isnull(convert(varchar(10),DueDate,126),'null') + '|' + convert(varchar(10),LowLimitCredit) + '|' + convert(varchar(10),LowLimitDebit) + '|' + isnull(convert(varchar(10),ExpireDate,126),'null') + '|' + isnull(convert(varchar(10),NearExpireNotifyDate,126),'null') + '|' + isnull(convert(varchar(10),ExpiredNotifyDate,126),'null') + '|' + isnull(convert(varchar(23),EditDT,120),'null') + '|' + isnull(convert(varchar(10),AutoRenewRegCancelNotifyDate,126),'null') + '|' +  '^'  from [dbo].[TblAccounts3] for XML PATH('');</Query></Queries>\n<Queries group = \"registry\" >  <Query name = \"updateQuery\" >  Update [dbo].[TblAccounts3] set CustomerId = '${CustomerId}', [Enable] = '${Enable}', TransGroupsStr = '${TransGroupsStr}', Phones = '${Phones}', RemainAmount = ${RemainAmount}, RemainDays = ${RemainDays}, DueDate = '${DueDate!\"\"}', LowLimitCredit = ${LowLimitCredit}, LowLimitDebit = ${LowLimitDebit}, NearExpireNotifyDate = '${NearExpireNotifyDate!\"\"}', ExpiredNotifyDate = '${ExpiredNotifyDate!\"\"}', [ExpireDate] = '${ExpireDate}', AutoRenewRegister = '${AutoRenewRegister}', AutoRenewRegCancelNotifyDate = '${AutoRenewRegCancelNotifyDate!\"\"}', EditDT = getDate() where AccountNo = '${AccountNo}';</Query><Query name = \"insertQuery\" >  Insert into [dbo].[TblAccounts3] (AccountNo, [Enable], CustomerId, TransGroupsStr, Phones, RemainAmount, RemainDays, DueDate, LowLimitCredit, LowLimitDebit, NearExpireNotifyDate, ExpiredNotifyDate, [ExpireDate], AutoRenewRegister, AutoRenewRegCancelNotifyDate, EditDT)  values ('${AccountNo}', '${Enable}', '${CustomerId}', '${TransGroupsStr}', '${Phones}', ${RemainAmount}, ${RemainDays},&lt;#if DueDate?has_content&gt; '${DueDate}'&lt;#else&gt;null&lt;/#if&gt;,${LowLimitCredit}, ${LowLimitDebit}, &lt;#if NearExpireNotifyDate??&gt; '${NearExpireNotifyDate}'&lt;#else&gt;null&lt;/#if&gt;, &lt;#if ExpiredNotifyDate??&gt; '${ExpiredNotifyDate}'&lt;#else&gt;null&lt;/#if&gt;, '${ExpireDate}', '${AutoRenewRegister}', &lt;#if AutoRenewRegCancelNotifyDate??&gt; '${AutoRenewRegCancelNotifyDate}'&lt;#else&gt;null&lt;/#if&gt;, getDate());</Query><Query name = \"historyQuery\" >  Insert into [dbo].[TblAccounts3History] (AccountNo, [Enable], CustomerId, TransGroupsStr, Phones, RemainAmount, RemainDays, DueDate, LowLimitCredit, LowLimitDebit, [ExpireDate], NearExpireNotifyDate, ExpiredNotifyDate, EditDT, AutoRenewRegister, AutoRenewRegCancelNotifyDate, Flag) values ('${AccountNo}', '${Enable}', '${CustomerId}', '${TransGroupsStr}', '${Phones}', ${RemainAmount}, ${RemainDays},&lt;#if DueDate??&gt; '${DueDate}'&lt;#else&gt;null&lt;/#if&gt;, ${LowLimitCredit}, ${LowLimitDebit}, '${ExpireDate}', &lt;#if NearExpireNotifyDate??&gt; '${NearExpireNotifyDate}'&lt;#else&gt;null&lt;/#if&gt;, &lt;#if ExpiredNotifyDate??&gt; '${ExpiredNotifyDate}'&lt;#else&gt;null&lt;/#if&gt;, '${EditDT}', '${AutoRenewRegister}', &lt;#if AutoRenewRegCancelNotifyDate??&gt; '${AutoRenewRegCancelNotifyDate}'&lt;#else&gt;null&lt;/#if&gt;, ${Flag!\"null\"});</Query><Query name = \"registerQuery\" >  Insert into [dbo].[tblRegister3] ([CreateDT], [Command], [AccountNo], [CustomerId], [PhoneNo], [ExpireDate], [LowLimitCredit], [TransactionGroupNames], [CreditItemName], [ExtraPhoneNo], [LanguageCode], [CmdDate], [CmdTime], [Branch], [TerminalId], [user]) values (getDate(), '${COMMAND}', '${ACCOUNTNO}', '${CUSTOMERID}', '${PHONENO}', &lt;#if EXPIREDATE?has_content&gt;'${EXPIREDATE}', &lt;#else&gt;null, &lt;/#if&gt;&lt;#if LOWLIMITCREDIT?has_content&gt;'${LOWLIMITCREDIT}', &lt;#else&gt;null, &lt;/#if&gt;&lt;#if TRANSACTIONGROUPNAMES?has_content&gt;'${TRANSACTIONGROUPNAMES}', &lt;#else&gt;null, &lt;/#if&gt;&lt;#if CREDITITEMNAME?has_content&gt;'${CREDITITEMNAME}', &lt;#else&gt;null, &lt;/#if&gt;&lt;#if EXTRAPHONENO?has_content&gt;'${EXTRAPHONENO}', &lt;#else&gt;null, &lt;/#if&gt;&lt;#if LANGUAGECODE?has_content&gt;'${LANGUAGECODE}', &lt;#else&gt;null, &lt;/#if&gt;'${CMDDATE}', '${CMDTIME}', '${BRANCH}', '${TERMINALID}', '${USER}'); </Query></Queries>\n<Queries group = \"report\" >  <Query name = \"repdel\" >  select accountNo from tblAccounts3 where accountNo = ${accountNo}</Query><Query name = \"repaccount\" >  Select A.AccountNo, A.Enable, A.Phones, A.TransGroupsStr, A.RemainAmount, A.RemainDays, A.DueDate, A.LowLimitCredit, A.LowLimitDebit, A.ExpireDate, R.Branch from TblAccounts3 as A left outer join (Select * from (Select ROW_NUMBER() OVER(PARTITION BY AccountNo ORDER BY CmdDate DESC, CmdTime DESC) AS RowN, * from tblRegister3 where Command = 'ADDACCOUNT' or Command = 'ADDCREDITITEM') as B where B.RowN = 1) as R on A.AccountNo = R.AccountNo order by A.AccountNo</Query></Queries>",
    "lang" : "freemarker"
  },
  "Trigger" : [ "switch.79.output" ],
  "Input" : [ ],
  "Error" : [ ],
  "Result" : [ "process.87.input" ]
}, {
  "id" : "87",
  "type" : "process",
  "data" : {
    "type" : "process",
    "config" : {
      "worker" : false,
      "instances" : 1
    },
    "setting" : { },
    "lang" : "java",
    "code" : "import com.vx6.master.MasterVerticle;\r\nimport io.vertx.core.Promise;\r\nimport io.vertx.core.eventbus.Message;\r\nimport io.vertx.core.json.JsonObject;\r\nimport org.w3c.dom.*;\r\nimport org.xml.sax.InputSource;\r\n\r\nimport java.io.StringReader;\r\nimport javax.xml.parsers.*;\r\n\r\npublic class ReadSQLPattern extends MasterVerticle {\r\n    private DocumentBuilder builder;\r\n\r\n    @Override\r\n    public void initialize(Promise<Void> initPromise) {\r\n        try {\r\n            //Parser that produces DOM object trees from XML content\r\n            DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\n\r\n            //API to obtain DOM Document instance\r\n            //DocumentBuilder builder = null;\r\n\r\n            //Create DocumentBuilder with default configuration\r\n            builder = factory.newDocumentBuilder();\r\n\r\n            initPromise.complete();\r\n        } catch (Exception e) {\r\n            initPromise.fail(\"xml builder not initialized!\");\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void process(Message msg) {\r\n        resultOutboundCount--;\r\n        //Use method to convert XML string content to XML Document object\r\n        Document doc = convertStringToXMLDocument(\"<xml>\" + msg.body().toString() + \"</xml>\");\r\n        doc.getDocumentElement().normalize();\r\n        Element root = doc.getDocumentElement();\r\n        NodeList groups = root.getChildNodes();\r\n        for (int i = 0; i < groups.getLength(); i++) {\r\n            JsonObject joRoot = new JsonObject();\r\n            if (!(groups.item(i) instanceof Element))\r\n                continue;\r\n            joRoot.put(\"root_tag_name\", groups.item(i).getNodeName());\r\n            NamedNodeMap attrs = groups.item(i).getAttributes();\r\n            for (int j = 0; j < attrs.getLength(); ++j) {\r\n                Node attr = attrs.item(j);\r\n                joRoot.put(attr.getNodeName(), attr.getNodeValue());\r\n            }\r\n            Node group = groups.item(i);\r\n            if (group instanceof Element) {\r\n                Element groupElement = (Element) group;\r\n                NodeList patterns = groupElement.getElementsByTagName(\"Query\");\r\n                for (int j = 0; j < patterns.getLength(); j++) {\r\n                    JsonObject joPattern = new JsonObject();\r\n                    Node patElement = patterns.item(j);\r\n                    joPattern.put(\"sql_tag_name\", patElement.getNodeName());\r\n                    NamedNodeMap atts = patElement.getAttributes();\r\n                    for (int k = 0; k < atts.getLength(); k++) {\r\n                        Node att = atts.item(k);\r\n                        joPattern.put(att.getNodeName(), att.getNodeValue());\r\n                    }\r\n                    joPattern.put(\"text\", patElement.getTextContent());\r\n                    joPattern.mergeIn(joRoot.copy());\r\n                    eb.publish(addressBook.getResult(), joPattern, addressBook.getDeliveryOptions(msg));\r\n                    resultOutboundCount++;\r\n                    //System.out.println(\"Pattern#\" + i + \": \" + joPattern.toString());\r\n                }\r\n            }\r\n        }\r\n\r\n        //System.out.println(\"joRoot: \" + joRoot.toString());\r\n\r\n        resultOutboundCount++;\r\n        eb.publish(addressBook.getResult(), \"finished\");\r\n    }\r\n\r\n    private void sendError(Message msg, Exception e) {\r\n        eb.publish(addressBook.getError(), msg.body(), addressBook.getDeliveryOptions(msg).addHeader(\"error\", e.getMessage()));\r\n    }\r\n\r\n    private Document convertStringToXMLDocument(String xmlString) {\r\n\r\n        try {\r\n            //Parse the content to Document object\r\n            Document doc = builder.parse(new InputSource(new StringReader(xmlString)));\r\n            return doc;\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n}",
    "fName" : "ReadSQLPattern",
    "theme" : "gruvbox",
    "outNumber" : 0
  },
  "Trigger" : [ ],
  "Input" : [ "parquet.81.result" ],
  "Error" : [ ],
  "Result" : [ "process.95.input" ]
}, {
  "id" : "95",
  "type" : "process",
  "data" : {
    "type" : "process",
    "config" : {
      "worker" : false,
      "instances" : 1
    },
    "setting" : { },
    "lang" : "java",
    "code" : "import com.vx6.master.MasterVerticle;\r\nimport io.vertx.core.Promise;\r\nimport io.vertx.core.eventbus.Message;\r\nimport io.vertx.core.json.JsonObject;\r\nimport io.vertx.core.shareddata.LocalMap;\r\nimport io.vertx.core.shareddata.SharedData;\r\n\r\npublic class SQLs2LocalMap extends MasterVerticle {\r\n    private int count = 0;\r\n    private SharedData sharedData;\r\n    private LocalMap<String, JsonObject> patterns;\r\n    private static String label = \"<h3 style=\\\"margin: 0;\\\">SQLs2LocalMap</h3>\"+\r\n            \"<h3 style=\\\"display: inline-block; margin: 0;\\\">count:</h3>\"+\r\n            \"<h2 style=\\\"display: inline-block; margin: 0;color: %s\\\">%s</h2>\";\r\n\r\n    @Override\r\n    public void initialize(Promise<Void> initPromise) throws Exception {\r\n        sharedData = vertx.sharedData();\r\n        patterns = sharedData.getLocalMap(\"json_sql_patterns\");\r\n        super.initialize(initPromise);\r\n    }\r\n\r\n    @Override\r\n    public void process(Message msg) {\r\n        if (msg.body() instanceof String) {\r\n            sendLabel(String.format(label, count == 0? \"red\" : \"#0043ff\", count), \"18ff96\", \"50\", \"efff18\");\r\n            eb.publish((addressBook.getResult()), msg.body());//Patterns messages finished.\r\n        } else {\r\n            JsonObject pattern = (JsonObject) msg.body();\r\n            patterns.put(pattern.getString(\"name\"), pattern);\r\n            count++;\r\n            eb.publish(addressBook.getResult(), pattern, addressBook.getDeliveryOptions(msg));\r\n        }\r\n    }\r\n}",
    "fName" : "SQLs2LocalMap",
    "theme" : "monokai",
    "outNumber" : 0
  },
  "Trigger" : [ ],
  "Input" : [ "process.87.result" ],
  "Error" : [ ],
  "Result" : [ "process.100.input" ]
}, {
  "id" : "34",
  "type" : "process",
  "data" : {
    "type" : "process",
    "config" : {
      "worker" : false,
      "instances" : 1
    },
    "setting" : {
      "parallelConnections" : 5
    },
    "lang" : "java",
    "code" : "import BankIranWS.BankIranWS_NOR.*;\r\nimport Utils.PersianCalendarBean;\r\nimport com.vx6.master.MasterVerticle;\r\nimport io.vertx.core.Promise;\r\nimport io.vertx.core.eventbus.Message;\r\nimport io.vertx.core.json.JsonObject;\r\n\r\nimport java.net.URL;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.ArrayList;\r\nimport java.util.Date;\r\nimport java.util.Objects;\r\n\r\n//سرویس دریافت اطلاعات حساب\r\npublic class MB60 extends MasterVerticle {\r\n    private static Integer seqNo = 0;\r\n    private WsAcctStmtMessageSetPortType wsAcctStmtMessageSetPortType;\r\n    private JsonObject bankIranWS;\r\n    private String branchNo, workstationId, terminalId, userId;\r\n    private int parallelConnections = 0;\r\n    private ArrayList<JsonObject> buf = new ArrayList<>();\r\n    private static String label = \"<h3 style=\\\"margin: 0;\\\">MB60</h3>\" +\r\n            \"<h3 style=\\\"display: inline-block; margin: 0;\\\">CONs.:&nbsp;</h3>\" +\r\n            \"<h2 style=\\\"display: inline-block; margin: 0;color: blue\\\">%s</h2>\" +\r\n            \"<div><h2 style=\\\"display: inline-block; margin: 0;\\\">BUF.:&nbsp;</h2>\" +\r\n            \"<h2 style=\\\"display: inline-block; margin: 0;color: orange\\\">%s</h2></div>\";\r\n\r\n    @Override\r\n    public void initialize(Promise<Void> initPromise) throws Exception {\r\n        eb.consumer(\"vx.mx\", msg -> {\r\n            try {\r\n                var body = (JsonObject) msg.body();\r\n                if (!Objects.equals(body.getString(\"type\"), \"sync\"))\r\n                    return;\r\n                var time = body.getString(\"time\").substring(14, 16) + \":\" + body.getString(\"time\").substring(17);\r\n                UpdateLabel(time);\r\n            } catch (Exception e) {\r\n                //e.printStackTrace();\r\n            }\r\n        });\r\n        try {\r\n            if (!(config().containsKey(\"dataSource\") && config().getJsonObject(\"dataSource\").containsKey(\"BankIranWS\")))\r\n                initPromise.fail(\"BankIranWS data not found on datasource\");\r\n            else {\r\n                bankIranWS = config().getJsonObject(\"dataSource\").getJsonObject(\"BankIranWS\");\r\n                wsAcctStmtMessageSetPortType = new WsAcctStmtService(new URL(bankIranWS.getString(\"url\"))).getWsAcctStmtPort();\r\n                branchNo = bankIranWS.getString(\"branchNo\");\r\n                workstationId = bankIranWS.getString(\"workstationId\");\r\n                terminalId = bankIranWS.getString(\"terminalId\");\r\n                userId = bankIranWS.getString(\"userId\");\r\n                initPromise.complete();\r\n            }\r\n        } catch (Exception e) {\r\n            initPromise.fail(\"!!!!! Error : BankIranWS_NOR  getWsAcctStmtPort() Problem=\" + e.getMessage());\r\n            sendException(e);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public <T> void process(Message<T> tMessage) {\r\n        resultOutboundCount--;\r\n        if (tMessage.body() instanceof JsonObject) {\r\n            JsonObject jo = (JsonObject) tMessage.body();\r\n            if (parallelConnections < setting.getInteger(\"parallelConnections\", 1)) {\r\n                process(jo);\r\n            } else {\r\n                buf.add(jo);\r\n            }\r\n        }\r\n    }\r\n\r\n    private void process(JsonObject jo) {\r\n        String accountNo = jo.getJsonObject(\"accountInfo\").getString(\"AccountNo\");\r\n        String curPDate = PersianCalendarBean.getPersianDateSimple(new Date()).substring(2, 8);\r\n        String curTime = new SimpleDateFormat(\"HHmmss\").format(new Date());\r\n        String curSeqNo;\r\n        synchronized (seqNo) {\r\n            seqNo++;\r\n            if (seqNo > 9999) seqNo = 0;\r\n            curSeqNo = String.format(\"%04d\", seqNo);\r\n        }\r\n\r\n        MB60MSGIN mb60MSGIN = new MB60MSGIN();\r\n        mb60MSGIN.setFCTRANID(\"MB60\");\r\n        mb60MSGIN.setFCCTRLID(branchNo);\r\n        mb60MSGIN.setFCBRANCHNO(branchNo);\r\n        mb60MSGIN.setFCWSID(workstationId);\r\n        mb60MSGIN.setFCLTERM(terminalId);\r\n        mb60MSGIN.setFCUSERID(userId);\r\n        mb60MSGIN.setFCSEQNO(curSeqNo);\r\n        mb60MSGIN.setFCDATE(curPDate);\r\n        mb60MSGIN.setFCTIME(curTime);\r\n        mb60MSGIN.setFCMODEFLAG(\"O\");\r\n        mb60MSGIN.setFCSTATUSFLAG(\"N\");\r\n        mb60MSGIN.setFCOVRHFLAG(\"01\");\r\n        mb60MSGIN.setFCAUTHOFFICER(userId);\r\n        mb60MSGIN.setFCTRANLINK(\"001\");\r\n        mb60MSGIN.setACNO(accountNo);\r\n        mb60MSGIN.setACCCTRLFLG(\"0\");\r\n        parallelConnections++;\r\n        vertx.executeBlocking(promise -> {\r\n            if (health.getInteger(\"parallelConnections\", 0) < parallelConnections)\r\n                health.put(\"parallelConnections\", parallelConnections);\r\n\r\n            try {\r\n                MB60MSGOUT mb60MSGOUT = wsAcctStmtMessageSetPortType.mb60Opr1(mb60MSGIN);\r\n                promise.complete(mb60MSGOUT);\r\n            } catch (FaultMsg e) {\r\n                deductionFailed(jo, e);\r\n                eb.publish(addressBook.getError(), jo.put(\"error\", \"##### BankIranWS_NOR.AccountInfo AccountNo Fail \" + accountNo + \" MB60MSGOUT general Exception\"), addressBook.getDeliveryOptions().addHeader(\"error\", \"MB60\").addHeader(\"status\", \"ERROR\"));\r\n                errorOutboundCount++;\r\n                //sendException(e);\r\n                e.printStackTrace();\r\n                promise.fail(e.getMessage());\r\n            }\r\n        }, res -> {\r\n            if (res.succeeded()) {\r\n                MB60MSGOUT mb60MSGOUT = (MB60MSGOUT) res.result();\r\n                if (mb60MSGOUT.getALERTCODE().trim().isEmpty()) {\r\n                    deductionFailed(jo, \"MB60MSGOUT_EMPTY_ALERT_CODE\");\r\n                    eb.publish(addressBook.getError(), jo.put(\"error\", \"##### BankIranWS_NOR.AccountInfo AccountNo Fail \" + accountNo + \" Invalid Empty AlertCode \" + mb60MSGOUT.getALERTCODE()), addressBook.getDeliveryOptions().addHeader(\"error\", \"MB60\").addHeader(\"status\", \"ERROR\"));\r\n                    errorOutboundCount++;\r\n                } else if (Integer.parseInt(mb60MSGOUT.getALERTCODE()) >= Integer.parseInt(mb60MSGIN.getFCOVRHFLAG())) {\r\n                    deductionFailed(jo, mb60MSGOUT.getALERTMSGE());\r\n                    eb.publish(addressBook.getError(), jo.put(\"error\", \"##### BankIranWS_NOR.AccountInfo AccountNo Fail \" + accountNo + \" \" + mb60MSGOUT.getALERTMSGE() + \" \" + mb60MSGOUT.getALERTCODE()), addressBook.getDeliveryOptions().addHeader(\"error\", \"MB60\").addHeader(\"status\", \"ERROR\"));\r\n                    errorOutboundCount++;\r\n                } else {\r\n                    JsonObject mb60out = new JsonObject();\r\n                    mb60out.put(\"Fill0\", mb60MSGOUT.getFill0())\r\n                            .put(\"HOSTCICSTRANSID\", mb60MSGOUT.getHOSTCICSTRANSID())\r\n                            .put(\"HOSTSEQNO\", mb60MSGOUT.getHOSTSEQNO())\r\n                            .put(\"HOSTDEST\", mb60MSGOUT.getHOSTDEST())\r\n                            .put(\"HOSTDATATYPE\", mb60MSGOUT.getHOSTDATATYPE())\r\n                            .put(\"HOSTDATACHAIN\", mb60MSGOUT.getHOSTDATACHAIN())\r\n                            .put(\"HOSTACKNOWLEDGE\", mb60MSGOUT.getHOSTACKNOWLEDGE())\r\n                            .put(\"HOSTMSGNBR\", mb60MSGOUT.getHOSTMSGNBR())\r\n                            .put(\"HOSTEMPTYSEND\", mb60MSGOUT.getHOSTEMPTYSEND())\r\n                            .put(\"FLGGLCD\", mb60MSGOUT.getFLGGLCD())\r\n                            .put(\"Fill1\", mb60MSGOUT.getFill1())\r\n                            .put(\"ALERTCODE\", mb60MSGOUT.getALERTCODE())\r\n                            .put(\"BRNCHNO\", mb60MSGOUT.getBRNCHNO())\r\n                            .put(\"ACCOUNTSTATCODE\", mb60MSGOUT.getACCOUNTSTATCODE())\r\n                            .put(\"ACCOUNTSTATDESC\", mb60MSGOUT.getACCOUNTSTATDESC())\r\n                            .put(\"ACCOUNTSTYPCODE\", mb60MSGOUT.getACCOUNTSTYPCODE())\r\n                            .put(\"ACCOUNTSTYPDESC\", mb60MSGOUT.getACCOUNTSTYPDESC())\r\n                            .put(\"CUSTTYPE\", mb60MSGOUT.getCUSTTYPE())\r\n                            .put(\"IDNUMBER\", mb60MSGOUT.getIDNUMBER())\r\n                            .put(\"CUSTFNAME\", mb60MSGOUT.getCUSTFNAME())\r\n                            .put(\"CUSTLNAME\", mb60MSGOUT.getCUSTLNAME())\r\n                            .put(\"SBOPENRES\", mb60MSGOUT.getSBOPENRES())\r\n                            .put(\"CICSXT\", mb60MSGOUT.getCICSXT())\r\n                            .put(\"ALERTMSGE\", mb60MSGOUT.getALERTMSGE())\r\n                            .put(\"SBCUSNO\", mb60MSGOUT.getSBCUSNO())\r\n                            .put(\"CUSTSUBTYP\", mb60MSGOUT.getCUSTSUBTYP())\r\n                            .put(\"accountCurrency\", accountNo.substring(10, 12));\r\n                /*System.out.println(\"##### \" + accountNo + \" BankIranWS_NOR.AccountInfo output FILL0           =>\" + mb60MSGOUT.getFill0() + \"<\");\r\n                System.out.println(\"##### \" + accountNo + \" BankIranWS_NOR.AccountInfo output HOSTCICSTRANSID =>\" + mb60MSGOUT.getHOSTCICSTRANSID() + \"<\");\r\n                System.out.println(\"##### \" + accountNo + \" BankIranWS_NOR.AccountInfo output HOSTSEQNO       =>\" + mb60MSGOUT.getHOSTSEQNO() + \"<\");\r\n                System.out.println(\"##### \" + accountNo + \" BankIranWS_NOR.AccountInfo output HOSTDEST        =>\" + mb60MSGOUT.getHOSTDEST() + \"<\");\r\n                System.out.println(\"##### \" + accountNo + \" BankIranWS_NOR.AccountInfo output HOSTDATATYPE    =>\" + mb60MSGOUT.getHOSTDATATYPE() + \"<\");\r\n                System.out.println(\"##### \" + accountNo + \" BankIranWS_NOR.AccountInfo output HOSTDATACHAIN   =>\" + mb60MSGOUT.getHOSTDATACHAIN() + \"<\");\r\n                System.out.println(\"##### \" + accountNo + \" BankIranWS_NOR.AccountInfo output HOSTACKNOWLEDGE =>\" + mb60MSGOUT.getHOSTACKNOWLEDGE() + \"<\");\r\n                System.out.println(\"##### \" + accountNo + \" BankIranWS_NOR.AccountInfo output HOSTMSGNBR      =>\" + mb60MSGOUT.getHOSTMSGNBR() + \"<\");\r\n                System.out.println(\"##### \" + accountNo + \" BankIranWS_NOR.AccountInfo output HOSTEMPTYSEND   =>\" + mb60MSGOUT.getHOSTEMPTYSEND() + \"<\");\r\n                System.out.println(\"##### \" + accountNo + \" BankIranWS_NOR.AccountInfo output FLGGLCD         =>\" + mb60MSGOUT.getFLGGLCD() + \"<\");\r\n                System.out.println(\"##### \" + accountNo + \" BankIranWS_NOR.AccountInfo output FILL1           =>\" + mb60MSGOUT.getFill1() + \"<\");\r\n                System.out.println(\"##### \" + accountNo + \" BankIranWS_NOR.AccountInfo output ALERTCODE       =>\" + mb60MSGOUT.getALERTCODE() + \"<\");\r\n                System.out.println(\"##### \" + accountNo + \" BankIranWS_NOR.AccountInfo output BRNCHNO         =>\" + mb60MSGOUT.getBRNCHNO() + \"<\");\r\n                System.out.println(\"##### \" + accountNo + \" BankIranWS_NOR.AccountInfo output ACCOUNTSTATCODE =>\" + mb60MSGOUT.getACCOUNTSTATCODE() + \"<\");\r\n                System.out.println(\"##### \" + accountNo + \" BankIranWS_NOR.AccountInfo output ACCOUNTSTATDESC =>\" + mb60MSGOUT.getACCOUNTSTATDESC() + \"<\");\r\n                System.out.println(\"##### \" + accountNo + \" BankIranWS_NOR.AccountInfo output ACCOUNTSTYPCODE =>\" + mb60MSGOUT.getACCOUNTSTYPCODE() + \"<\");\r\n                System.out.println(\"##### \" + accountNo + \" BankIranWS_NOR.AccountInfo output ACCOUNTSTYPDESC =>\" + mb60MSGOUT.getACCOUNTSTYPDESC() + \"<\");\r\n                System.out.println(\"##### \" + accountNo + \" BankIranWS_NOR.AccountInfo output CUSTTYPE        =>\" + mb60MSGOUT.getCUSTTYPE() + \"<\");\r\n                System.out.println(\"##### \" + accountNo + \" BankIranWS_NOR.AccountInfo output IDNUMBER        =>\" + mb60MSGOUT.getIDNUMBER() + \"<\");\r\n                System.out.println(\"##### \" + accountNo + \" BankIranWS_NOR.AccountInfo output CUSTFNAME       =>\" + mb60MSGOUT.getCUSTFNAME() + \"<\");\r\n                System.out.println(\"##### \" + accountNo + \" BankIranWS_NOR.AccountInfo output CUSTLNAME       =>\" + mb60MSGOUT.getCUSTLNAME() + \"<\");\r\n                System.out.println(\"##### \" + accountNo + \" BankIranWS_NOR.AccountInfo output SBOPENRES       =>\" + mb60MSGOUT.getSBOPENRES() + \"<\");\r\n                System.out.println(\"##### \" + accountNo + \" BankIranWS_NOR.AccountInfo output CICSXT          =>\" + mb60MSGOUT.getCICSXT() + \"<\");\r\n                System.out.println(\"##### \" + accountNo + \" BankIranWS_NOR.AccountInfo output ALERTMSG        =>\" + mb60MSGOUT.getALERTMSGE() + \"<\");\r\n                System.out.println(\"##### \" + accountNo + \" BankIranWS_NOR.AccountInfo output HTCUSNO         =>\" + mb60MSGOUT.getSBCUSNO() + \"<\");\r\n                System.out.println(\"##### \" + accountNo + \" BankIranWS_NOR.AccountInfo output HTACSUBTYP      =>\" + mb60MSGOUT.getCUSTSUBTYP() + \"<\");*/\r\n                    eb.publish(addressBook.getResult(), jo.put(\"MB60MSGOUT\", mb60out), addressBook.getDeliveryOptions().addHeader(\"status\", \"SUCCESS\"));\r\n                    resultOutboundCount++;\r\n                }\r\n            }\r\n            parallelConnections--;\r\n            if (parallelConnections < setting.getInteger(\"parallelConnections\", 1) && buf.size() > 0) {\r\n                JsonObject bjo = buf.get(0);\r\n                buf.remove(0);\r\n                process(bjo);\r\n            }\r\n        });\r\n    }\r\n\r\n    private void deductionFailed(JsonObject jo, FaultMsg e) {\r\n        deductionFailed(jo, e.getFaultInfo().getFaultstring().getValue());\r\n    }\r\n\r\n    private void deductionFailed(JsonObject jo, String faultMsg) {\r\n        jo.put(\"faultMsg\", faultMsg);\r\n    }\r\n\r\n    private void UpdateLabel(String time) {\r\n        sendLabel(String.format(label, parallelConnections, buf.size() + \"\"), \"18ff96\", \"50\", \"efff18\");\r\n    }\r\n}",
    "fName" : "MB60",
    "theme" : "monokai",
    "outNumber" : 0
  },
  "Trigger" : [ ],
  "Input" : [ "process.19.result" ],
  "Error" : [ "process.128.input" ],
  "Result" : [ "process.56.input" ]
}, {
  "id" : "100",
  "type" : "process",
  "data" : {
    "type" : "process",
    "config" : {
      "worker" : false,
      "instances" : 1
    },
    "setting" : { },
    "lang" : "java",
    "code" : "import com.vx6.master.MasterVerticle;\r\nimport freemarker.template.*;\r\nimport io.vertx.core.Promise;\r\nimport io.vertx.core.eventbus.Message;\r\nimport io.vertx.core.json.JsonObject;\r\nimport io.vertx.core.shareddata.LocalMap;\r\nimport io.vertx.core.shareddata.SharedData;\r\nimport freemarker.cache.NullCacheStorage;\r\nimport io.vertx.ext.web.common.template.impl.TemplateHolder;\r\n\r\nimport java.io.IOException;\r\nimport java.io.StringReader;\r\nimport java.util.ArrayList;\r\nimport java.util.Set;\r\n\r\npublic class CompileSQLs extends MasterVerticle {\r\n    private static final String Cache_Name = \"sql_template_patterns\";\r\n    private int count = 0;\r\n    private Configuration config;\r\n    //private LocalMap<String, TemplateHolder<Template>> cache;\r\n    private LocalMap<String, TemplateHolder<Template>> cache;\r\n    private static String label = \"<h3 style=\\\"margin: 0;\\\">CompileSQLs</h3>\" +\r\n            \"<h3 style=\\\"display: inline-block; margin: 0;\\\">Patterns Size:&nbsp;</h3>\" +\r\n            \"<h2 style=\\\"display: inline-block; margin: 0;color: %s\\\">%s</h2>\";\r\n    private static ArrayList<String> nameList = new ArrayList<>();\r\n\r\n    @Override\r\n    public void initialize(Promise<Void> initPromise) throws Exception {\r\n        SharedData sharedData = vertx.sharedData();\r\n        cache = sharedData.getLocalMap(Cache_Name);\r\n        /* ------------------------------------------------------------------------ */\r\n        /* You should do this ONLY ONCE in the whole application life-cycle:        */\r\n\r\n        /* Create and adjust the configuration singleton */\r\n        this.config = new Configuration(Configuration.VERSION_2_3_29);\r\n        //this.config.setDirectoryForTemplateLoading(new File(\"/templates\"));\r\n        // Recommended settings for new projects:\r\n        this.config.setDefaultEncoding(\"UTF-8\");\r\n        this.config.setIncompatibleImprovements(new Version(2, 3, 20));\r\n        this.config.setTemplateExceptionHandler(TemplateExceptionHandler.RETHROW_HANDLER);\r\n        this.config.setLogTemplateExceptions(false);\r\n        this.config.setWrapUncheckedExceptions(true);\r\n        this.config.setFallbackOnNullLoopVariable(false);\r\n        this.config.setSetting(\"boolean_format\", \"c\");\r\n        /* ------------------------------------------------------------------------ */\r\n        this.config.setCacheStorage(new NullCacheStorage());\r\n\r\n        super.initialize(initPromise);\r\n    }\r\n\r\n    @Override\r\n    public void process(Message msg) {\r\n        resultOutboundCount--;\r\n        if (msg.body() instanceof String && msg.body().toString().equalsIgnoreCase(\"finished\")) {\r\n            Set keySet = this.cache.keySet();\r\n            keySet.forEach(key -> {\r\n                if (!nameList.contains(key))\r\n                    cache.remove(key);\r\n            });\r\n            //this.cache.entrySet().removeIf(entry -> true);\r\n            sendLabel(String.format(label, this.cache.size() == 0 ? \"red\" : \"#0043ff\", this.cache.size()), \"18ff96\", \"50\", \"efff18\");\r\n            /*eb.publish(addressBook.getGraph_id(), patternName + \"registry patterns completed\", addressBook.getDeliveryOptions()\r\n                    .addHeader(\"patternName\", patternName).addHeader(\"cmd\", \"init\"));*/\r\n            eb.publish(addressBook.getResult(), \"SQL template loaded\",\r\n                    addressBook.getDeliveryOptions().addHeader(\"cmd\", \"status\").addHeader(\"name\", \"sql\"));\r\n            resultOutboundCount++;\r\n            nameList.clear();\r\n        } else {\r\n            TemplateHolder<Template> template;\r\n            JsonObject pat = (JsonObject) msg.body();\r\n            if (!pat.getString(\"group\").equalsIgnoreCase(\"registry\"))\r\n                return;\r\n            String name = pat.getString(\"name\");\r\n            String text = pat.getString(\"text\");\r\n            try {\r\n                template = new TemplateHolder(new Template(name, new StringReader(text), this.config));\r\n                this.cache.put(name, template);\r\n                nameList.add(name);\r\n                count++;\r\n                errorOutboundCount++;\r\n                eb.publish(addressBook.getError(), pat, addressBook.getDeliveryOptions(msg));\r\n            } catch (IOException e) {\r\n                errorOutboundCount++;\r\n                eb.publish(addressBook.getError(), e.getMessage(), addressBook.getDeliveryOptions(msg));\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n}",
    "fName" : "CompileSQLs",
    "theme" : "gruvbox",
    "outNumber" : 0
  },
  "Trigger" : [ ],
  "Input" : [ "process.95.result" ],
  "Error" : [ ],
  "Result" : [ "process.69.input" ]
}, {
  "id" : "46",
  "type" : "file",
  "data" : {
    "type" : "file",
    "config" : { },
    "setting" : {
      "mode" : "watch",
      "filePath" : "E:\\",
      "fileNameMask" : "accountDeduction_date(mm).txt",
      "fileNameDoneExt" : "done",
      "fileNameLockExt" : "$"
    }
  },
  "Trigger" : [ ],
  "Input" : [ "switch.138.output" ],
  "Error" : [ ],
  "Result" : [ ]
}, {
  "id" : "56",
  "type" : "process",
  "data" : {
    "type" : "process",
    "config" : {
      "worker" : false,
      "instances" : 1
    },
    "setting" : { },
    "lang" : "java",
    "code" : "import BankIranWS.BankIranWS_NOR.*;\r\nimport Utils.PersianCalendarBean;\r\nimport com.vx6.master.MasterVerticle;\r\nimport io.vertx.core.Promise;\r\nimport io.vertx.core.eventbus.Message;\r\nimport io.vertx.core.json.JsonObject;\r\n\r\nimport java.net.URL;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.Date;\r\n\r\n//سرویس دریافت اطلاعات مشتری\r\npublic class FC87 extends MasterVerticle {\r\n    private static Integer seqNo = 0;\r\n    private WsAcctStmtMessageSetPortType wsAcctStmtMessageSetPortType;\r\n    private JsonObject bankIranWS;\r\n    private String branchNo, workstationId, terminalId, userId;\r\n\r\n    @Override\r\n    public void initialize(Promise<Void> initPromise) throws Exception {\r\n        try {\r\n            if (!(config().containsKey(\"dataSource\") && config().getJsonObject(\"dataSource\").containsKey(\"BankIranWS2\")))\r\n                initPromise.fail(\"BankIranWS2 data not found on datasource\");\r\n            else {\r\n                bankIranWS = config().getJsonObject(\"dataSource\").getJsonObject(\"BankIranWS2\");\r\n                wsAcctStmtMessageSetPortType = new WsAcctStmtService(new URL(bankIranWS.getString(\"url\"))).getWsAcctStmtPort();\r\n                branchNo = bankIranWS.getString(\"branchNo\");\r\n                workstationId = bankIranWS.getString(\"workstationId\");\r\n                terminalId = bankIranWS.getString(\"terminalId\");\r\n                userId = bankIranWS.getString(\"userId\");\r\n                initPromise.complete();\r\n            }\r\n        } catch (Exception e) {\r\n            initPromise.fail(\"!!!!! Error : BankIranWS_NOR  getWsAcctStmtPort() Problem=\" + e.getMessage());\r\n            sendException(e);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public <T> void process(Message<T> tMessage) {\r\n        resultOutboundCount--;\r\n        JsonObject body = (JsonObject) tMessage.body();\r\n        String curPDate = PersianCalendarBean.getPersianDateSimple(new Date()).substring(2, 8);\r\n        String curTime = new SimpleDateFormat(\"HHmmss\").format(new Date());\r\n        //String customerNo = body.getString(\"customerNo\");\r\n        String customerNo = body.getJsonObject(\"MB60MSGOUT\").getString(\"SBCUSNO\");\r\n        String curSeqNo;\r\n        synchronized (seqNo) {\r\n            seqNo++;\r\n            if (seqNo > 9999) seqNo = 0;\r\n            curSeqNo = String.format(\"%04d\", seqNo);\r\n        }\r\n        FC87MSGIN fc87MSGIN = new FC87MSGIN();\r\n        fc87MSGIN.setFCTRANID(\"FC87\");\r\n        fc87MSGIN.setFCCTRLID(branchNo);\r\n        fc87MSGIN.setFCBRANCHNO(branchNo);\r\n        fc87MSGIN.setFCWSID(workstationId);\r\n        fc87MSGIN.setFCLTERM(terminalId);\r\n        fc87MSGIN.setFCUSERID(userId);\r\n        fc87MSGIN.setFCSEQNO(curSeqNo);\r\n        fc87MSGIN.setFCDATE(curPDate);\r\n        fc87MSGIN.setFCTIME(curTime);\r\n        fc87MSGIN.setFCMODEFLAG(\"O\");\r\n        fc87MSGIN.setFCSTATUSFLAG(\"N\");\r\n        fc87MSGIN.setFCOVRHFLAG(\"01\");\r\n        fc87MSGIN.setFCAUTHOFFICER(userId);\r\n        fc87MSGIN.setFCTRANLINK(\"001\");\r\n        fc87MSGIN.setFCINOPT(\"0\");\r\n        fc87MSGIN.setFCINNUMBER(String.format(\"%011d\", Long.parseLong(customerNo)));\r\n        vertx.executeBlocking(promise -> {\r\n            try {\r\n                FC87MSGOUT fc87MSGOUT = wsAcctStmtMessageSetPortType.fc87Opr1(fc87MSGIN);\r\n                promise.complete(fc87MSGOUT);\r\n            } catch (FaultMsg e) {\r\n                deductionFailed(body, e);\r\n                eb.publish(addressBook.getError(), body.put(\"error\", \"##### BankIranWS_NOR.CustomerInfoDB CustomerNo Fail \" + customerNo + \" FC87MSGOUT general Exception\"), addressBook.getDeliveryOptions().addHeader(\"error\", \"FC87\").addHeader(\"status\", \"ERROR\"));\r\n                errorOutboundCount++;\r\n                //sendException(e);\r\n                e.printStackTrace();\r\n                promise.fail(e.getMessage());\r\n            }\r\n        }, res -> {\r\n            if (res.succeeded()) {\r\n                FC87MSGOUT fc87MSGOUT = (FC87MSGOUT) res.result();\r\n                if (fc87MSGOUT.getALERTCODE().trim().isEmpty()) {\r\n                    deductionFailed(body, \"FC87MSGOUT_EMPTY_ALERT_CODE\");\r\n                    eb.publish(addressBook.getError(), body.put(\"error\", \"BankIranWS_NOR.CustomerInfoDB CustomerNo Fail \" + customerNo + \" Invalid Empty AlertCode \" + fc87MSGOUT.getALERTCODE()), addressBook.getDeliveryOptions().addHeader(\"error\", \"FC87\").addHeader(\"status\", \"ERROR\"));\r\n                    errorOutboundCount++;\r\n                } else if (Integer.parseInt(fc87MSGOUT.getALERTCODE()) >= Integer.parseInt(fc87MSGIN.getFCOVRHFLAG())) {\r\n                    deductionFailed(body, fc87MSGOUT.getALERTMSG());\r\n                    eb.publish(addressBook.getError(), body.put(\"error\", \"BankIranWS_NOR.CustomerInfoDB CustomerNo Fail \" + customerNo + \" \" + fc87MSGOUT.getALERTMSG() + \" \" + fc87MSGOUT.getALERTCODE()), addressBook.getDeliveryOptions().addHeader(\"error\", \"FC87\").addHeader(\"status\", \"ERROR\"));\r\n                    errorOutboundCount++;\r\n                } else {\r\n                    JsonObject fc87out = new JsonObject();\r\n                    fc87out.put(\"Fill0\", fc87MSGOUT.getFill0())\r\n                            .put(\"HOSTCICSTRANSID\", fc87MSGOUT.getHOSTCICSTRANSID())\r\n                            .put(\"HOSTSEQNO\", fc87MSGOUT.getHOSTSEQNO())\r\n                            .put(\"HOSTDEST\", fc87MSGOUT.getHOSTDEST())\r\n                            .put(\"HOSTDATATYPE\", fc87MSGOUT.getHOSTDATATYPE())\r\n                            .put(\"HOSTDATACHAIN\", fc87MSGOUT.getHOSTDATACHAIN())\r\n                            .put(\"HOSTACKNOWLEDGE\", fc87MSGOUT.getHOSTACKNOWLEDGE())\r\n                            .put(\"HOSTMSGNBR\", fc87MSGOUT.getHOSTMSGNBR())\r\n                            .put(\"HOSTEMPTYSEND\", fc87MSGOUT.getHOSTEMPTYSEND())\r\n                            .put(\"FLGGLCD\", fc87MSGOUT.getFLGGLCD())\r\n                            .put(\"Fill1\", fc87MSGOUT.getFill1())\r\n                            .put(\"ALERTCODE\", fc87MSGOUT.getALERTCODE())\r\n                            .put(\"ALERTMSG\", fc87MSGOUT.getALERTMSG())\r\n                            .put(\"OUTMOBILENO\", fc87MSGOUT.getOUTCUSTOMER().get(0).getOUTMOBILENO())\r\n                            .put(\"OUTCUSTYPE\", fc87MSGOUT.getOUTCUSTOMER().get(0).getOUTCUSTYPE())\r\n                            .put(\"OUTCUSUBTYP\", fc87MSGOUT.getOUTCUSTOMER().get(0).getOUTCUSUBTYP())\r\n                            .put(\"CICSXT\", fc87MSGOUT.getCICSXT());\r\n\r\n                /*System.out.println(\"##### \" + customerNo + \" BankIranWS_NOR.CustomerInfoDB output Fill0           =>\" + fc87MSGOUT.getFill0() + \"<\");\r\n                System.out.println(\"##### \" + customerNo + \" BankIranWS_NOR.CustomerInfoDB output HOSTCICSTRANSID =>\" + fc87MSGOUT.getHOSTCICSTRANSID() + \"<\");\r\n                System.out.println(\"##### \" + customerNo + \" BankIranWS_NOR.CustomerInfoDB output HOSTSEQNO       =>\" + fc87MSGOUT.getHOSTSEQNO() + \"<\");\r\n                System.out.println(\"##### \" + customerNo + \" BankIranWS_NOR.CustomerInfoDB output HOSTDEST        =>\" + fc87MSGOUT.getHOSTDEST() + \"<\");\r\n                System.out.println(\"##### \" + customerNo + \" BankIranWS_NOR.CustomerInfoDB output HOSTDATATYPE    =>\" + fc87MSGOUT.getHOSTDATATYPE() + \"<\");\r\n                System.out.println(\"##### \" + customerNo + \" BankIranWS_NOR.CustomerInfoDB output HOSTDATACHAIN   =>\" + fc87MSGOUT.getHOSTDATACHAIN() + \"<\");\r\n                System.out.println(\"##### \" + customerNo + \" BankIranWS_NOR.CustomerInfoDB output HOSTACKNOWLEDGE =>\" + fc87MSGOUT.getHOSTACKNOWLEDGE() + \"<\");\r\n                System.out.println(\"##### \" + customerNo + \" BankIranWS_NOR.CustomerInfoDB output HOSTMSGNBR      =>\" + fc87MSGOUT.getHOSTMSGNBR() + \"<\");\r\n                System.out.println(\"##### \" + customerNo + \" BankIranWS_NOR.CustomerInfoDB output HOSTEMPTYSEND   =>\" + fc87MSGOUT.getHOSTEMPTYSEND() + \"<\");\r\n                System.out.println(\"##### \" + customerNo + \" BankIranWS_NOR.CustomerInfoDB output FLGGLCD         =>\" + fc87MSGOUT.getFLGGLCD() + \"<\");\r\n                System.out.println(\"##### \" + customerNo + \" BankIranWS_NOR.CustomerInfoDB output Fill1           =>\" + fc87MSGOUT.getFill1() + \"<\");\r\n                System.out.println(\"##### \" + customerNo + \" BankIranWS_NOR.CustomerInfoDB output ALERTCODE       =>\" + fc87MSGOUT.getALERTCODE() + \"<\");\r\n                System.out.println(\"##### \" + customerNo + \" BankIranWS_NOR.CustomerInfoDB output ALERTMSG        =>\" + fc87MSGOUT.getALERTMSG() + \"<\");\r\n                System.out.println(\"##### \" + customerNo + \" BankIranWS_NOR.CustomerInfoDB output OUTCUSTOMER     =>\" + fc87MSGOUT.getOUTCUSTOMER() + \"<\");\r\n                System.out.println(\"##### \" + customerNo + \" BankIranWS_NOR.CustomerInfoDB output CICSXT          =>\" + fc87MSGOUT.getCICSXT() + \"<\");*/\r\n\r\n                    eb.publish(addressBook.getResult(), body.put(\"FC87MSGOUT\", fc87out), addressBook.getDeliveryOptions().addHeader(\"status\", \"SUCCESS\"));\r\n                    resultOutboundCount++;\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    private void deductionFailed(JsonObject jo, FaultMsg e) {\r\n        deductionFailed(jo, e.getFaultInfo().getFaultstring().getValue());\r\n    }\r\n\r\n    private void deductionFailed(JsonObject jo, String faultMsg) {\r\n        jo.put(\"faultMsg\", faultMsg);\r\n    }\r\n}",
    "fName" : "FC87",
    "theme" : "monokai",
    "outNumber" : 0
  },
  "Trigger" : [ ],
  "Input" : [ "process.34.result" ],
  "Error" : [ "process.128.input" ],
  "Result" : [ "process.62.input" ]
}, {
  "id" : "128",
  "type" : "process",
  "data" : {
    "type" : "process",
    "lang" : "java",
    "code" : "import com.vx6.master.MasterVerticle;\r\nimport io.vertx.core.Promise;\r\nimport io.vertx.core.eventbus.Message;\r\n\r\npublic class SendToFeeBusiness extends MasterVerticle {\r\nprivate static String feeBusinessAddress;\r\n    @Override\r\n    public void initialize(Promise<Void> initPromise) throws Exception {\r\n        feeBusinessAddress = config.getString(\"feeBusinessAddress\");\r\n        initPromise.complete();\r\n    }\r\n\r\n    @Override\r\n    public void process(Message msg) {\r\n       eb.publish(feeBusinessAddress, msg.body(), addressBook.getDeliveryOptions(msg));\r\n       eb.publish(addressBook.getResult(), msg.body(), addressBook.getDeliveryOptions(msg));\r\n    }\r\n}",
    "fName" : "SendToFeeBusiness",
    "theme" : "monokai",
    "outNumber" : 0,
    "config" : {
      "worker" : false,
      "instances" : 1,
      "feeBusinessAddress" : "fee.deduction.business.address"
    },
    "setting" : {
      "Array" : [ 1, 2, 3 ],
      "Boolean" : true,
      "Null" : null,
      "Number" : 123,
      "Object" : {
        "a" : "b",
        "c" : "d"
      },
      "String" : "Hello World"
    }
  },
  "Trigger" : [ ],
  "Input" : [ "process.34.error", "process.56.error", "process.62.error", "process.62.result" ],
  "Error" : [ ],
  "Result" : [ "switch.138.input" ]
} ]